/*! For license information please see main.3ef4c456.chunk.js.LICENSE.txt */
(this.webpackJsonpexamples=this.webpackJsonpexamples||[]).push([[0],{162:function(e,t,r){},163:function(e,t,r){},164:function(e,t,r){},165:function(e,t,r){},166:function(e,t,r){},167:function(e,t,r){},181:function(e,t,r){"use strict";r.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABqUlEQVQ4T92Uv0tbURTHPyevUwc3qUshU/8DBzOYmwiFDlK6dHKwVHBwUKjUoleS4Ku0UkEHB6HSDp1cpHRwSnKz1KH/QaeAS0txcXDy5ciNL5LEF4k/oOBZHvfdcz/33O/53ivccUgvnrFaBAo95ksuFD9/Kf4LMOdCcb4UY9UAVeBWFd5XoHmnaQIKCOm21nnNko7c1LQZSp2IkvsgdT+86PLYoj6KUvzp8sGvIGCiXJLf/v9YQZ9EEd+A4fa8oMFQeVX+dgD9IG8134CvwGMV1morspDkteyyfhTlLXCYgslKKJVW3iUfxlV46Aiw40KZaocaq5+B18BBEDDZqv4CmLO6pnDS7vzxoj48PuWLwEuU7ymY8QsasIXwXGF34AGvfhTlpAUatfo0BRkxVhVwLpRc9/GM1U/AG4WfsT4ZYN2FMp+Q6w1vrgTGt2MW2IgBcy6UzSRdjdX+gH5xdlGf+W9tVfaTYPHG/QN7QbqadQ7MWj0S5ZiIXMuc/QA6YOeXoqrCgNfwqnfvuuxS04fZJd0W4QUweF1CnP9Plb3ae5nu+cDeEMwZu/TFGsleoRIAAAAASUVORK5CYII="},182:function(e,t,r){"use strict";r.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAB80lEQVQ4T62SP2hTURTGf997Qx1F1EFQ61DpWAcHhyY3zrpp0EEoaEGnuta80MSXttBRhw4W2iC6xEWdCsJ7qf/G6uCgg3TQRaE6OEmSI+/ZFBJjU9p804V7z+9+55xPDFgaMA+5wC5g3EcM7xP+AXiiXGCPDD4B9X0CncRk4jCSKEWhUqALzJlxOTlL1OKK4t18lNQBUQfQzdhBmkTAe8Fvg7P45OKyfvaD9gRmC3ZVHnNxqFMJIBtY1ROrUajH/YC5omXNiDsd3rExPNbNyEt8B57TYjye07s9AdMZFm0RYyIFiJU41K1esLRFn1dxWY3kvqfDduH4tB1Jzi/nlbjsUCawEQ8WgBHE5yGPidWyNncEZgp23BPX8VmKy/rSJrqi3cSYB576PgutJsst+GVwwxcn/pnhlvW8GRXgq8FpjNv1WdVcYDXgksRUFOpe8vZ8wU62xAowJDG9DQTK33zeHG2mrUxhFONZVVzBAkQI/ACa5pGv31USq225kh22BlXBMWAs3XIC5O9cDpm4Vg/1tl2RLdo5jBeCTYkrUajX3XN1M3aAJg/TDraADrEUh5r8XzxcwZ4hLgpGo4o+dr/rXsqD3YQ3U7Qza6HWe33aAaRFFY+NfuHd8b7FMB7LciUbpcEakGZvzzI2ULqcwWrgwD/S1/2fF41d/wAAAABJRU5ErkJggg=="},183:function(e,t,r){"use strict";r.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABMUlEQVQ4T+XUsUrEQBCA4X8MCD6Cr6DPIOawFiy8gE9ga62BM7D6Aj6CYOHZnaAg6h62Yqed7dmKnUUYmbARDafZwBWCWyWb2W9nZ3cjzLjJjD2iwZVdXbw7lJe2BKLANNcUSOfg+MbJ82/oN7CX64nCVhjgvZNewG6tT+FhPmH9qpBJmqtanwgTVba9k/Pq/etsdRBQhOCRKvfAI7AcYsckbFCyE94HFu+d7P8EVh/XBrpUllwCb8AZMFAlE+EUYbTwSv/iSN5DEu1gmqvNuJkkZGVJZqB3Iqt72jfU8PGBDKNBS9+yvC7kKeAVaP2GGmbPncC6vk1wSt3bl9wYZMv/zPAfgKH4qXfim7ckZlOG3okdk6gWA0ZBjaDpuxwObX3FusB276tyRP1tush/H/wANP7LFUnxl7EAAAAASUVORK5CYII="},184:function(e,t,r){},185:function(e,t,r){},186:function(e,t,r){},280:function(e,t,r){},287:function(e,t,r){},291:function(e,t,r){},292:function(e,t,r){"use strict";r.r(t);var n=r(1),o=r(0),i=r.n(o),a=r(26),c=r.n(a),u=r(114),s=(r(162),r(32)),l=r(7),f=r(9),p=r.n(f),d=(r(163),{stopScrollGraph:!0,stopZoomGraph:!0,grid:{type:"dot",size:20}}),h={nodes:[{id:50,type:"rect",x:100,y:150,text:"\u4f60\u597d"},{id:21,type:"circle",x:300,y:150}],edges:[{type:"polyline",sourceNodeId:50,targetNodeId:21}]};var y=r(22),b=r(28),v=r(24),g=r(23),m=(r(164),function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).state={shapeList:[{type:"rect",text:"\u77e9\u5f62"},{type:"circle",text:"\u5706\u5f62"}]},n}return Object(b.a)(r,[{key:"mouseDown",value:function(e){var t=e.type,r=e.text;(0,this.props.mouseDownHandle)({type:t,text:r})}},{key:"render",value:function(){var e=this,t=this.state.shapeList;return Object(n.jsx)("div",{className:"panel",children:t.map((function(t){var r=t.type,o=t.text;return Object(n.jsxs)("div",{className:"panel-item",children:[Object(n.jsx)("div",{className:"panel-".concat(r),onMouseDown:function(){e.mouseDown(t)}}),Object(n.jsx)("span",{children:o})]},r)}))})}}]),r}(o.Component));r(165);function O(e){return Object(n.jsx)("div",{className:"example-header",children:Object(n.jsxs)("div",{className:"content",style:e.contentStyle,children:[Object(n.jsx)("span",{className:"content-text",children:e.content}),e.children]})})}r(166);var j=function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(y.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lf=void 0,e.mouseDownHandle=function(t){e.lf.dnd.startDrag(t)},e}return Object(b.a)(r,[{key:"componentDidMount",value:function(){this.lf=new p.a({container:document.querySelector("#graph"),stopScrollGraph:!0,stopZoomGraph:!0}),this.lf.render()}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{content:"\u62d6\u62fd\u9762\u677f\u4e0a\u7684\u56fe\u5f62\u751f\u6210\u8282\u70b9"}),Object(n.jsxs)("div",{className:"dnd-example-container",children:[Object(n.jsx)(m,{mouseDownHandle:this.mouseDownHandle}),Object(n.jsx)("div",{id:"graph",className:"viewport"})]})]})}}]),r}(o.Component),x=r(152),_=(r(106),r(167),{isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0}),w={nodes:[{id:10,type:"rect",x:100,y:100,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:400,y:100,text:"\u4f60\u597d\uff01"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,endPoint:{id:"150-150",x:350,y:100}}]},E=function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).dotlf=void 0,n.meshlf=void 0,n.handleClick=function(e){e!==n.state.currentGrid&&n.setState({currentGrid:e})},n.dotlf=null,n.meshlf=null,n.state={currentGrid:"dot"},n}return Object(b.a)(r,[{key:"componentDidMount",value:function(){this.dotlf=new p.a(Object(l.a)(Object(l.a)({},_),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graphDot")})),this.meshlf=new p.a(Object(l.a)(Object(l.a)({},_),{},{grid:{size:10,type:"mesh"},container:document.querySelector("#graphMesh")})),this.dotlf.render(w),this.meshlf.render(w)}},{key:"render",value:function(){var e=this,t=this.state.currentGrid;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(O,{children:["\u7f51\u683c\u7c7b\u578b\uff1a",Object(n.jsx)(x.a,{onClick:function(){e.handleClick("dot")},children:"Dot"}),Object(n.jsx)(x.a,{onClick:function(){e.handleClick("mesh")},children:"Mesh"})]}),Object(n.jsx)("div",{id:"graphDot",className:"viewport example-grid-".concat("dot"===t?"visible":"hidden")}),Object(n.jsx)("div",{id:"graphMesh",className:"viewport example-grid-".concat("mesh"===t?"visible":"hidden")})]})}}]),r}(o.Component),S={isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0,style:{rect:{width:100,height:50}}},P={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"}]};var k=r(37),A=r(89),D=new A.a([32,32,1]);function N(){return D.next()}var M=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),T=function(){return(T=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},C=function(e){return function(e){function t(t,r){return t.id||(t.id="Event_"+N()),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+35}),e.call(this,t,r)||this}return M(t,e),t.prototype.getConnectedTargetRules=function(){var t=e.prototype.getConnectedTargetRules.call(this);return t.push({message:"\u8d77\u59cb\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fde\u7ebf\u7684\u7ec8\u70b9",validate:function(){return!1}}),t},t.extendKey="StartEventModel",t}(e)},R=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.getAttributes=function(){var t=e.prototype.getAttributes.call(this);return T({},t)},t.extendKey="StartEventNode",t}(e)},I=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),L=function(e){return function(e){function t(t,r){return t.id||(t.id="Event_"+N()),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+35}),e.call(this,t,r)||this}return I(t,e),t.prototype.getConnectedSourceRules=function(){var t=e.prototype.getConnectedSourceRules.call(this);return t.push({message:"\u7ed3\u675f\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fde\u7ebf\u7684\u8d77\u70b9",validate:function(){return!1}}),t},t.extendKey="EndEventModel",t}(e)},z=function(e,t){return function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return I(r,e),r.prototype.getShape=function(){var r=this.getAttributes(),n=r.x,o=r.y,i=r.fill,a=r.stroke,c=r.strokeWidth,u=r.r,s=e.prototype.getShape.call(this);return t("g",{},s,t("circle",{cx:n,cy:o,fill:i,stroke:a,strokeWidth:c,r:u-5}))},r}(e)},B=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),G=function(e){return function(e){function t(t,r){var n=this;return t.id||(t.id="Gateway_"+N()),(n=e.call(this,t,r)||this).points=[[25,0],[50,25],[25,50],[0,25]],n}return B(t,e),t.extendKey="ExclusiveGatewayModel",t}(e)},X=function(e,t){return function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return B(r,e),r.prototype.getShape=function(){var r=e.prototype.getAttributes.call(this),n=r.x,o=r.y,i=r.fill,a=r.stroke,c=r.strokeWidth,u=r.width,s=r.height,l=r.points;return t("g",{transform:"matrix(1 0 0 1 "+(n-u/2)+" "+(o-s/2)+")"},t("polygon",{fill:i,x:n,y:o,stroke:a,strokeWidth:c,points:l}),t("path",{fill:i,stroke:a,strokeWidth:c,d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"}))},r.extendKey="ExclusiveGatewayNode",r}(e)},U=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),F=function(e){return function(e){function t(t,r){return t.id||(t.id="Activity_"+N()),e.call(this,t,r)||this}return U(t,e),t.extendKey="UserTaskModel",t}(e)},H=function(e,t){return function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return U(r,e),r.prototype.getLabelShape=function(){var r=e.prototype.getAttributes.call(this),n=r.x,o=r.y,i=r.width,a=r.height,c=r.stroke;return t("svg",{x:n-i/2+5,y:o-a/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},t("path",{fill:c,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},r.prototype.getShape=function(){var r=e.prototype.getAttributes.call(this),n=r.x,o=r.y,i=r.width,a=r.height,c=r.fill,u=r.stroke,s=r.strokeWidth,l=r.radius;return t("g",{},[t("rect",{x:n-i/2,y:o-a/2,rx:l,ry:l,fill:c,stroke:u,strokeWidth:s,width:i,height:a}),this.getLabelShape()])},r.extendKey="UserTaskNode",r}(e)},V=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y=function(e,t){return function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return V(r,e),r.prototype.getLabelShape=function(){var r=e.prototype.getAttributes.call(this),n=r.x,o=r.y,i=r.width,a=r.height,c=r.stroke;return t("svg",{x:n-i/2+5,y:o-a/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},t("path",{fill:c,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},r.prototype.getShape=function(){var r=e.prototype.getAttributes.call(this),n=r.x,o=r.y,i=r.width,a=r.height,c=r.fill,u=r.stroke,s=r.strokeWidth,l=r.radius;return t("g",{},[t("rect",{x:n-i/2,y:o-a/2,rx:l,ry:l,fill:c,stroke:u,strokeWidth:s,width:i,height:a}),this.getLabelShape()])},r.extendKey="ServiceTaskNode",r}(e)},W=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),K=40,q=40,Z=40,$=40,J=40,Q=40,ee=100,te=80,re=100,ne=80,oe={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},ie={name:"bpmn-element",install:function(e){e.setTheme(oe),e.register("bpmn:startEvent",this.registerStartEvent),e.register("bpmn:endEvent",this.registerEndEvent),e.register("bpmn:exclusiveGateway",this.registerExclusiveGateway),e.register("bpmn:userTask",this.registerUserTask),e.register("bpmn:serviceTask",this.registerServiceTask),e.register("bpmn:sequenceFlow",this.registerSequenceFlow),e.setDefaultEdgeType("bpmn:sequenceFlow")},registerStartEvent:function(e){var t=e.CircleNode,r=e.CircleNodeModel;return{model:C(r),view:R(t)}},registerEndEvent:function(e){var t=e.CircleNode,r=e.CircleNodeModel,n=e.h;return{model:L(r),view:z(t,n)}},registerExclusiveGateway:function(e){var t=e.PolygonNodeModel,r=e.PolygonNode,n=e.h;return{model:G(t),view:X(r,n)}},registerUserTask:function(e){var t=e.RectNode,r=e.RectNodeModel,n=e.h;return{model:F(r),view:H(t,n)}},registerServiceTask:function(e){var t,r=e.RectNode,n=e.RectNodeModel,o=e.h;return{model:(t=n,function(e){function t(t,r){return t.id||(t.id="Activity_"+N()),e.call(this,t,r)||this}return V(t,e),t.extendKey="ServiceTaskModel",t}(t)),view:Y(r,o)}},registerSequenceFlow:function(e){var t,r,n=e.PolylineEdge,o=e.PolylineEdgeModel;return{model:(r=o,function(e){function t(t,r){return t.id||(t.id="Flow_"+N()),e.call(this,t,r)||this}return W(t,e),t.extendKey="SequenceFlowModel",t}(r)),view:(t=n,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t.extendKey="SequenceFlowEdge",t}(t))}}};var ae={name:"snapshot",install:function(e){var t=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,e.getSnapshot=function(r){t.fileName=r||"logic-flow."+Date.now()+".png",e.graphModel.nodes.forEach((function(e){var r=e.x-e.width/2,n=e.y-e.height/2;r<t.offsetX&&(t.offsetX=r-5),n<t.offsetY&&(t.offsetY=n-5)})),e.graphModel.edges.forEach((function(e){e.pointsList&&e.pointsList.forEach((function(e){var r=e.x,n=e.y;r<t.offsetX&&(t.offsetX=r-5),n<t.offsetY&&(t.offsetY=n-5)}))}));var n=e.container.querySelector("svg");t.downloadSvg(n,t.fileName)}},triggerDownload:function(e){var t=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),r=document.createElement("a");r.setAttribute("download",this.fileName),r.setAttribute("href",e),r.setAttribute("target","_blank"),r.dispatchEvent(t)},removeAnchor:function(e){for(var t=e.childNodes,r=e.childNodes&&e.childNodes.length,n=0;n<r;n++){var o=t[n];(o.classList&&Array.from(o.classList)||[]).indexOf("lf-anchor")>-1&&(e.removeChild(e.childNodes[n]),r--,n--)}},downloadSvg:function(e){var t=this,r=e.cloneNode(!0),n=window.devicePixelRatio||1,o=r.lastChild,i=o.childNodes&&o.childNodes.length;if(i)for(var a=0;a<i;a++){var c=o.childNodes[a],u=c.classList&&Array.from(c.classList);if(u&&u.indexOf("lf-base")<0)o.removeChild(o.childNodes[a]),i--,a--;else{var s=o.childNodes[a];s&&s.childNodes.forEach((function(e){var r=e;t.removeAnchor(r.firstChild)}))}}r.lastChild.style.transform="matrix(1, 0, 0, 1, "+(10-this.offsetX)+", "+(10-this.offsetY)+")";var l=document.createElement("canvas"),f=document.getElementsByClassName("lf-base")[0].getBoundingClientRect();l.style.width=f.width+"px",l.style.height=f.height+"px",l.width=f.width*n+80,l.height=f.height*n+80;var p=l.getContext("2d");p.scale(n,n),p.clearRect(0,0,f.width,f.height);var d=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(r),h=new Image,y=new Blob([d],{type:"image/svg+xml;charset=utf-8"}),b=window.URL.createObjectURL(y);h.onload=function(){p.drawImage(h,0,0),window.URL.revokeObjectURL(b);var e=l.toDataURL("image/png").replace("image/png","image/octet-stream");t.triggerDownload(e,t.fileName)},h.src=b}},ce=new A.a([32,32,1]);function ue(){return ce.next()}var se=function(){};(se.ObjTree=function(){return this}).VERSION="0.23",se.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',se.ObjTree.prototype.attr_prefix="-",se.ObjTree.prototype.parseXML=function(e){var t;if(window.DOMParser){var r=new DOMParser,n=r.parseFromString(e,"application/xml");if(!n)return;t=n.documentElement}else window.ActiveXObject&&((r=new ActiveXObject("Microsoft.XMLDOM")).async=!1,r.loadXML(e),t=r.documentElement);if(t)return this.parseDOM(t)},se.ObjTree.prototype.parseHTTP=function(e,t,r){var n,o={};for(var i in t)o[i]=t[i];if(o.method||("undefined"==typeof o.postBody&&"undefined"==typeof o.postbody&&"undefined"==typeof o.parameters?o.method="get":o.method="post"),r){o.asynchronous=!0;var a=this,c=r,u=o.onComplete;o.onComplete=function(e){var t;e&&e.responseXML&&e.responseXML.documentElement&&(t=a.parseDOM(e.responseXML.documentElement)),c(t,e),u&&u(e)}}else o.asynchronous=!1;if("undefined"!=typeof HTTP&&HTTP.Request)o.uri=e,(s=new HTTP.Request(o))&&(n=s.transport);else if("undefined"!=typeof Ajax&&Ajax.Request){var s;(s=new Ajax.Request(e,o))&&(n=s.transport)}return r?n:n&&n.responseXML&&n.responseXML.documentElement?this.parseDOM(n.responseXML.documentElement):void 0},se.ObjTree.prototype.parseDOM=function(e){if(e){if(this.__force_array={},this.force_array)for(var t=0;t<this.force_array.length;t++)this.__force_array[this.force_array[t]]=1;var r=this.parseElement(e);if(this.__force_array[e.nodeName]&&(r=[r]),11!=e.nodeType){var n={};n[e.nodeName]=r,r=n}return r}},se.ObjTree.prototype.parseElement=function(e){if(7!=e.nodeType){if(3==e.nodeType||4==e.nodeType){if(null==e.nodeValue.match(/[^\x00-\x20]/))return;return e.nodeValue}var t,r={};if(e.attributes&&e.attributes.length){t={};for(var n=0;n<e.attributes.length;n++){if("string"==typeof(a=e.attributes[n].nodeName))(c=e.attributes[n].nodeValue)&&("undefined"==typeof r[a=this.attr_prefix+a]&&(r[a]=0),r[a]++,this.addNode(t,a,r[a],c))}}if(e.childNodes&&e.childNodes.length){var o=!0;t&&(o=!1);for(n=0;n<e.childNodes.length&&o;n++){var i=e.childNodes[n].nodeType;3!=i&&4!=i&&(o=!1)}if(o){t||(t="");for(n=0;n<e.childNodes.length;n++)t+=e.childNodes[n].nodeValue}else{t||(t={});for(n=0;n<e.childNodes.length;n++){var a,c;if("string"==typeof(a=e.childNodes[n].nodeName))(c=this.parseElement(e.childNodes[n]))&&("undefined"==typeof r[a]&&(r[a]=0),r[a]++,this.addNode(t,a,r[a],c))}}}return t}},se.ObjTree.prototype.addNode=function(e,t,r,n){this.__force_array[t]?(1==r&&(e[t]=[]),e[t][e[t].length]=n):1==r?e[t]=n:2==r?e[t]=[e[t],n]:e[t][e[t].length]=n},se.ObjTree.prototype.writeXML=function(e){var t=this.hash_to_xml(null,e);return this.xmlDecl+t},se.ObjTree.prototype.hash_to_xml=function(e,t){var r=[],n=[];for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];o.charAt(0)!=this.attr_prefix?"undefined"==typeof i||null==i?r[r.length]="<"+o+" />":"object"==typeof i&&i.constructor==Array?r[r.length]=this.array_to_xml(o,i):r[r.length]="object"==typeof i?this.hash_to_xml(o,i):this.scalar_to_xml(o,i):n[n.length]=" "+o.substring(1)+'="'+this.xml_escape(i)+'"'}var a=n.join(""),c=r.join("");return"undefined"==typeof e||null==e||(c=r.length>0?c.match(/\n/)?"<"+e+a+">\n"+c+"</"+e+">\n":"<"+e+a+">"+c+"</"+e+">\n":"<"+e+a+" />\n"),c},se.ObjTree.prototype.array_to_xml=function(e,t){for(var r=[],n=0;n<t.length;n++){var o=t[n];"undefined"==typeof o||null==o?r[r.length]="<"+e+" />":"object"==typeof o&&o.constructor==Array?r[r.length]=this.array_to_xml(e,o):r[r.length]="object"==typeof o?this.hash_to_xml(e,o):this.scalar_to_xml(e,o)}return r.join("")},se.ObjTree.prototype.scalar_to_xml=function(e,t){return"#text"==e?this.xml_escape(t):"<"+e+">"+this.xml_escape(t)+"</"+e+">\n"},se.ObjTree.prototype.xml_escape=function(e){return e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var le,fe=se;!function(e){e.START="bpmn:startEvent",e.END="bpmn:endEvent",e.GATEWAY="bpmn:exclusiveGateway",e.USER="bpmn:userTask",e.SYSTEM="bpmn:serviceTask",e.FLOW="bpmn:sequenceFlow"}(le||(le={}));var pe=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function de(e){var t={};return Object.entries(e).forEach((function(e){var r=e[0],n=e[1];"object"!==typeof n?0===r.indexOf("-")?t[r]=n:t["-"+r]=n:t[r]=de(n)})),t}function he(e){var t={};return Object.entries(e).forEach((function(e){var r=e[0],n=e[1];"string"===typeof n?0===r.indexOf("-")?t[r.substr(1)]=n:t[r]=n:t[r]="object"===typeof n?he(n):n})),t}function ye(e){var t=[],r=[],n=e["bpmn:definitions"];if(n){var o=n["bpmn:process"];Object.keys(o).forEach((function(e){if(0===e.indexOf("bpmn:")){var i=o[e];if(e===le.FLOW){var a=n["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];r=function(e,t){var r=[];if(Array.isArray(e))e.forEach((function(e){var n;n=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,r.push(ve(n,e))}));else{var n=void 0;n=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,r.push(ve(n,e))}return r}(i,a)}else{var c=n["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];t=t.concat(function(e,t,r){var n=[];if(Array.isArray(e))e.forEach((function(e){var o=be(Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,r,e);n.push(o)}));else{var o=be(Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,r,e);n.push(o)}return n}(i,c,e))}}}))}return{nodes:t,edges:r}}function be(e,t,r){var n,o,i=Number(e["dc:Bounds"]["-x"]),a=Number(e["dc:Bounds"]["-y"]),c=r["-name"],u=ge.shapeConfigMap.get(t);if(u&&(i+=u.width/2,a+=u.height/2),Object.entries(r).forEach((function(e){var t=e[0],r=e[1];-1===pe.indexOf(t)&&(n||(n={}),n[t]=r)})),n&&(n=he(n)),c&&(o={x:i,y:a,value:c},e["bpmndi:BPMNLabel"]&&e["bpmndi:BPMNLabel"]["dc:Bounds"])){var s=e["bpmndi:BPMNLabel"]["dc:Bounds"];o.x=Number(s["-x"])+Number(s["-width"])/2,o.y=Number(s["-y"])+Number(s["-height"])/2}var l={id:e["-bpmnElement"],type:t,x:i,y:a,properties:n};return o&&(l.text=o),l}function ve(e,t){var r,n,o=t["-name"];if(o){var i=e["bpmndi:BPMNLabel"]["dc:Bounds"],a=0;o.split("\n").forEach((function(e){a<e.length&&(a=e.length)})),r={value:o,x:Number(i["-x"])+10*a/2,y:Number(i["-y"])+7}}Object.entries(t).forEach((function(e){var t=e[0],r=e[1];-1===pe.indexOf(t)&&(n||(n={}),n[t]=r)})),n&&(n=he(n));var c={id:t["-id"],type:le.FLOW,pointsList:e["di:waypoint"].map((function(e){return{x:Number(e["-x"]),y:Number(e["-y"])}})),sourceNodeId:t["-sourceRef"],targetNodeId:t["-targetRef"],properties:n};return r&&(c.text=r),c}var ge={name:"bpmn-adapter",install:function(e){e.adapterIn=this.adapterIn,e.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(e,t){this.shapeConfigMap.set(e,t)},adapterOut:function(e){var t={"-id":"Process_"+ue(),"-isExecutable":"false"};!function(e,t){var r=new Map;t.nodes.forEach((function(t){var n,o={"-id":t.id};if((null===(n=t.text)||void 0===n?void 0:n.value)&&(o["-name"]=t.text.value),t.properties){var i=de(t.properties);Object.assign(o,i)}r.set(t.id,o),e[t.type]?Array.isArray(e[t.type])?e[t.type].push(o):e[t.type]=[e[t.type],o]:e[t.type]=o}));var n=t.edges.map((function(e){var t,n,o=r.get(e.sourceNodeId);o["bpmn:outgoing"]?Array.isArray(o["bpmn:outgoing"])?o["bpmn:outgoing"].push(e.id):o["bpmn:outgoing"]=[o["bpmn:outgoing"],e.id]:o["bpmn:outgoing"]=e.id;var i=r.get(e.targetNodeId);i["bpmn:incoming"]?Array.isArray(i["bpmn:incoming"])?i["bpmn:incoming"].push(e.id):i["bpmn:incoming"]=[i["bpmn:incoming"],e.id]:i["bpmn:incoming"]=e.id;var a={"-id":e.id,"-sourceRef":e.sourceNodeId,"-targetRef":e.targetNodeId};if((null===(t=e.text)||void 0===t?void 0:t.value)&&(a["-name"]=null===(n=e.text)||void 0===n?void 0:n.value),e.properties){var c=de(e.properties);Object.assign(a,c)}return a}));e[le.FLOW]=n}(t,e);var r={"-id":"BPMNPlane_1","-bpmnElement":t["-id"]};return function(e,t){e["bpmndi:BPMNEdge"]=t.edges.map((function(e){var t,r=e.id,n={"-id":r+"_di","-bpmnElement":r,"di:waypoint":e.pointsList.map((function(e){return{"-x":e.x,"-y":e.y}}))};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(n["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),n})),e["bpmndi:BPMNShape"]=t.nodes.map((function(e){var t,r=e.id,n=100,o=80,i=e.x,a=e.y,c=ge.shapeConfigMap.get(e.type);c&&(n=c.width,o=c.height);var u={"-id":r+"_di","-bpmnElement":r,"dc:Bounds":{"-x":i-=n/2,"-y":a-=o/2,"-width":n,"-height":o}};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(u["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),u}))}(r,e),{"bpmn:definitions":{"-id":"Definitions_"+ue(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":t,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":r}}}},adapterIn:function(e){if(e)return ye(e)}};ge.shapeConfigMap.set(le.START,{width:K,height:q}),ge.shapeConfigMap.set(le.END,{width:Z,height:$}),ge.shapeConfigMap.set(le.GATEWAY,{width:J,height:Q}),ge.shapeConfigMap.set(le.SYSTEM,{width:ee,height:te}),ge.shapeConfigMap.set(le.USER,{width:re,height:ne});var me,Oe={name:"bpmn-xml-adapter",install:function(e){e.adapterIn=this.adapterXmlIn,e.adapterOut=this.adapterXmlOut},adapterXmlIn:function(e){var t=(new fe.ObjTree).parseXML(e);return ge.adapterIn(t)},adapterXmlOut:function(e){return function(e,t){var r=function e(t,r,n){var o="";if(t instanceof Array)for(var i=0,a=t.length;i<a;i++)o+=n+e(t[i],r,n+"\t")+"\n";else if("object"==typeof t){var c=!1;for(var u in o+=n+"<"+r,t)"-"==u.charAt(0)?o+=" "+u.substr(1)+'="'+t[u].toString()+'"':c=!0;if(o+=c?">":"/>",c){for(var u in t)"#text"==u?o+=t[u]:"#cdata"==u?o+="<![CDATA["+t[u]+"]]>":"-"!=u.charAt(0)&&(o+=e(t[u],u,n+"\t"));o+=("\n"==o.charAt(o.length-1)?n:"")+"</"+r+">"}}else o+=n+"<"+r+">"+t.toString()+"</"+r+">";return o},n="";for(var o in e)n+=r(e[o],o,"");return t?n.replace(/\t/g,t):n.replace(/\t|\n/g,"")}(ge.adapterOut(e),"\n")}},je=function(){return(je=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function xe(e){switch(e){case"bpmn:sequenceFlow":return me.SEQUENCE_FLOW;case"bpmn:startEvent":return me.START_EVENT;case"bpmn:endEvent":return me.END_EVENT;case"bpmn:userTask":return me.USER_TASK;case"bpmn:exclusiveGateway":return me.EXCLUSIVE_GATEWAY;default:return e}}function _e(e){var t=new Map,r={flowElementList:[]};return e.nodes.forEach((function(e){var n=function(e){var t=e.id,r=e.type,n=e.x,o=e.y,i=e.text,a=void 0===i?"":i,c=e.properties;return{incoming:[],outgoing:[],dockers:[],type:xe(e.type),properties:je(je({},c),{name:a&&a.value||"",x:n,y:o,text:a,logicFlowType:r}),key:t}}(e);r.flowElementList.push(n),t.set(e.id,n)})),e.edges.forEach((function(e){var n=function(e){var t=e.id,r=e.type,n=e.sourceNodeId,o=e.targetNodeId,i=e.startPoint,a=e.endPoint,c=e.pointsList,u=e.text,s=void 0===u?"":u,l=e.properties;return{incoming:[n],outgoing:[o],type:xe(r),dockers:[],properties:je(je({},l),{name:s&&s.value||"",text:s,startPoint:i,endPoint:a,pointsList:c,logicFlowType:r}),key:t}}(e);t.get(e.sourceNodeId).outgoing.push(n.key),t.get(e.targetNodeId).incoming.push(n.key),r.flowElementList.push(n)})),r}function we(e){var t={nodes:[],edges:[]},r=e.flowElementList;return r&&r.length>0&&r.forEach((function(e){if(e.type===me.SEQUENCE_FLOW){var r=function(e){var t=e.incoming,r=e.outgoing,n=e.properties,o=e.key,i=n.text,a=n.startPoint,c=n.endPoint,u=n.pointsList,s={id:o,type:n.logicFlowType,sourceNodeId:t[0],targetNodeId:r[0],text:i,startPoint:a,endPoint:c,pointsList:u,properties:{}},l=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(e.properties).forEach((function(t){-1===l.indexOf(t)&&(s.properties[t]=e.properties[t])})),s}(e);t.edges.push(r)}else{var n=function(e){var t=e.properties,r=e.key,n=t.x,o=t.y,i=t.text,a={id:r,type:t.logicFlowType,x:n,y:o,text:i,properties:{}},c=["x","y","text","logicFlowType"];return Object.keys(e.properties).forEach((function(t){-1===c.indexOf(t)&&(a.properties[t]=e.properties[t])})),a}(e);t.nodes.push(n)}})),t}!function(e){e[e.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",e[e.START_EVENT=2]="START_EVENT",e[e.END_EVENT=3]="END_EVENT",e[e.USER_TASK=4]="USER_TASK",e[e.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY"}(me||(me={}));new Map;var Ee={name:"control",__lf:null,__controlItems:[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7f29\u5c0f\u6d41\u7a0b\u56fe",text:"\u7f29\u5c0f",onClick:function(){Ee.__lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653e\u5927\u6d41\u7a0b\u56fe",text:"\u653e\u5927",onClick:function(){Ee.__lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590d\u6d41\u7a0b\u539f\u6709\u5c3a\u5bf8",text:"\u9002\u5e94",onClick:function(){Ee.__lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56de\u5230\u4e0a\u4e00\u6b65",text:"\u4e0a\u4e00\u6b65",onClick:function(){Ee.__lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79fb\u5230\u4e0b\u4e00\u6b65",text:"\u4e0b\u4e00\u6b65",onClick:function(){Ee.__lf.redo()}}],addItem:function(e){Ee.__controlItems.push(e)},removeItem:function(e){var t=Ee.__controlItems.findIndex((function(t){return t.key===e}));return Ee.__controlItems.splice(t,1)[0]},install:function(){},render:function(e,t){Ee.__lf=e,this.__domContainer=t,this.__tool=this.__getControlTool(),t.appendChild(this.__tool)},destroy:function(){this.__domContainer.removeChild(this.__tool)},__getControlTool:function(){var e="lf-control-item",t="lf-control-item disabled",r=document.createElement("div"),n=[];return r.className="lf-control",Ee.__controlItems.forEach((function(r){var o=document.createElement("div"),i=document.createElement("i"),a=document.createElement("span");switch(o.className=t,r.onClick&&(o.onclick=r.onClick.bind(null,Ee.__lf)),r.onMouseEnter&&(o.onmouseenter=r.onMouseEnter.bind(null,Ee.__lf)),r.onMouseLeave&&(o.onmouseleave=r.onMouseLeave.bind(null,Ee.__lf)),i.className=r.iconClass,a.className="lf-control-text",a.title=r.title,a.innerText=r.text,o.append(i,a),r.text){case"\u4e0a\u4e00\u6b65":Ee.__lf.on("history:change",(function(r){var n=r.data.undoAble;o.className=n?e:t}));break;case"\u4e0b\u4e00\u6b65":Ee.__lf.on("history:change",(function(r){var n=r.data.redoAble;o.className=n?e:t}));break;default:o.className=e}n.push(o)})),r.append.apply(r,n),r}},Se={name:"menu",__items:{},__menuDOM:null,__menuItemDOM:null,__container:null,install:function(e){Se.__menuDOM=document.createElement("ul"),Se.__menuItemDOM=new Map,Se.__items={nodeMenu:[{text:"\u5220\u9664",callback:function(t){e.deleteNode(t.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(t){e.graphModel.setTextEditable(t.id)}},{text:"\u590d\u5236",callback:function(t){e.cloneNode(t.id)}}],edgeMenu:[{text:"\u5220\u9664",callback:function(t){e.deleteEdge(t.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(t){e.graphModel.setTextEditable(t.id)}}],graphMenu:[]},e.setMenuConfig=Se.resetMenuItem,e.addMenuConfig=Se.addMenuItem},render:function(e,t){Se.__container=t;var r=null,n=Se.__items;Se.__menuDOM.className="lf-menu",Object.keys(n).forEach((function(e){if(n[e].length){var r=Se.__getMenuDom(n[e]);Se.__menuItemDOM.set(e,r),t.appendChild(Se.__menuDOM)}})),Se.__menuDOM.addEventListener("click",(function(e){e.stopPropagation();for(var t=e.target;-1===Array.from(t.classList).indexOf("lf-menu-item")&&-1===Array.from(t.classList).indexOf("lf-menu");)t=t.parentElement;if(!(Array.from(t.classList).indexOf("lf-menu-item")>-1))throw new Error("\u70b9\u51fb\u533a\u57df\u4e0d\u5728\u83dc\u5355\u9879\u5185\uff0c\u8bf7\u68c0\u67e5\u4ee3\u7801\uff01");t.onclickCallback(r),Se.__menuDOM.style.display="none",r=null}),!0),e.on("node:contextmenu",(function(t){var n=t.data,o=t.position.domOverlayPosition,i=o.x,a=o.y,c=Se.__menuDOM,u=Se.__menuItemDOM;c.innerHTML="";var s=n.id,l=e.graphModel.getNodeModel(s);if(l&&l.menu&&Array.isArray(l.menu)){var f=Se.__getMenuDom(l.menu);c.append.apply(c,f)}else c.append.apply(c,u.get("nodeMenu"));c.children.length&&(c.style.display="block",c.style.top=a+"px",c.style.left=i+"px",r=n)})),e.on("edge:contextmenu",(function(t){var n=t.data,o=t.position,i=Se.__menuDOM,a=Se.__menuItemDOM,c=o.domOverlayPosition,u=c.x,s=c.y;i.innerHTML="";var l=n.id,f=e.graphModel.getEdgeModel(l);if(f&&f.menu&&Array.isArray(f.menu)){var p=Se.__getMenuDom(f.menu);i.append.apply(i,p)}else i.append.apply(i,a.get("edgeMenu"));i.children.length&&(i.style.display="block",i.style.top=s+"px",i.style.left=u+"px",r=n)})),e.on("blank:contextmenu",(function(e){var t=e.e,n=e.position,o=Se.__menuDOM,i=Se.__menuItemDOM,a=n.domOverlayPosition,c=a.x,u=a.y;if(i.has("graphMenu")){if(o.innerHTML="",o.append.apply(o,i.get("graphMenu")),!o.children.length)return;o.style.display="block",o.style.top=u+"px",o.style.left=c+"px",r=t}})),e.on("node:mousedown",(function(){Se.__menuDOM.style.display="none"})),e.on("edge:click",(function(){Se.__menuDOM.style.display="none"})),e.on("blank:click",(function(){Se.__menuDOM.style.display="none"}))},destroy:function(){Se.__container.removeChild(Se.__menuDOM),Se.__menuDOM=null,Se.__menuItemDOM=null},__getMenuDom:function(e){var t=[];return e&&e.length>0&&e.forEach((function(e){var r=document.createElement("li");if(e.className?r.className="lf-menu-item "+e.className:r.className="lf-menu-item",!0===e.icon){var n=document.createElement("span");n.className="lf-menu-item-icon",r.appendChild(n)}var o=document.createElement("span");o.className="lf-menu-item-text",e.text&&(o.innerText=e.text),r.appendChild(o),r.onclickCallback=e.callback,t.push(r)})),t},resetMenuItem:function(e){e&&(!1===e.nodeMenu?Se.__items.nodeMenu=[]:e.nodeMenu&&(Se.__items.nodeMenu=e.nodeMenu),!1===e.edgeMenu?Se.__items.edgeMenu=[]:e.edgeMenu&&(Se.__items.edgeMenu=e.edgeMenu),!1===e.graphMenu?Se.__items.graphMenu=[]:e.graphMenu&&(Se.__items.graphMenu=e.graphMenu))},addMenuItem:function(e){var t,r,n;e&&(Array.isArray(e.nodeMenu)&&(t=Se.__items.nodeMenu).push.apply(t,e.nodeMenu),Array.isArray(e.edgeMenu)&&(r=Se.__items.edgeMenu).push.apply(r,e.edgeMenu),Array.isArray(e.graphMenu)&&(n=Se.__items.edgeMenu).push.apply(n,e.graphMenu))},changeMenuItem:function(e,t){if("add"===e)Se.addMenuItem(t);else{if("reset"!==e)throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'");Se.resetMenuItem(t)}}},Pe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ke={name:"dnd-panel",lf:null,__container:null,__dndEl:null,shapeList:[{type:"rect",text:"\u77e9\u5f62"},{type:"circle",text:"\u5706\u5f62"},{type:"polygon",text:"\u83f1\u5f62"},{type:"star",text:"\u4e94\u89d2\u661f"},{type:"triangle",text:"\u4e09\u89d2\u5f62"},{type:"hexagon",text:"\u516d\u8fb9\u5f62"}],install:function(e){ke.lf=e,ke.registerNode(),e.setShapeList=function(e){if(!Array.isArray(e))throw new TypeError("DndPanel \u7684 ShapeList \u5fc5\u987b\u662f\u6570\u7ec4");e.length>0&&(ke.shapeList=e)}},render:function(e,t){ke.__container=t,ke.__dndEl=ke.getDnd(),t.appendChild(ke.__dndEl)},destroy:function(){ke.__container.removeChild(ke.__dndEl)},getDnd:function(){var e=ke.handleMouseDown,t=document.createElement("div");return t.className="lf-dnd",ke.shapeList.forEach((function(r){var n=r.type,o=r.text,i=document.createElement("div"),a=document.createElement("div"),c=document.createElement("span");i.className="lf-dnd-item",a.className="lf-dnd-"+n,a.onmousedown=function(){return e(r)},c.innerText=o,i.append(a,c),t.appendChild(i)})),t},registerNode:function(){var e=ke.lf;e.register("star",(function(e){var t=e.PolygonNode,r=e.PolygonNodeModel;return{view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pe(t,e),t}(t),model:function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.points=[[45,0],[20,90],[90,30],[0,30],[80,90]],n}return Pe(t,e),t}(r)}})),e.register("triangle",(function(e){var t=e.PolygonNode,r=e.PolygonNodeModel;return{view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pe(t,e),t}(t),model:function(e){function t(t,r){var n=this;return t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+20}),(n=e.call(this,t,r)||this).points=[[50,0],[100,100],[0,100]],n}return Pe(t,e),t}(r)}})),e.register("ellipse",(function(e){var t=e.EllipseNode,r=e.EllipseNodeModel;return{view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pe(t,e),t}(t),model:function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.rx=60,n.ry=40,n}return Pe(t,e),t}(r)}})),e.register("hexagon",(function(e){var t=e.PolygonNode,r=e.PolygonNodeModel;return{view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pe(t,e),t}(t),model:function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.points=[[40,0],[80,20],[80,60],[40,80],[0,60],[0,20]],n}return Pe(t,e),t}(r)}}))},handleMouseDown:function(e){ke.lf.dnd.startDrag(e)}},Ae={name:"selection-select",__domContainer:null,wrapper:null,lf:null,startPoint:{x:0,y:0},endPoint:{x:0,y:0},__disabled:!1,install:function(){},render:function(e,t){Ae.__domContainer=t,Ae.lf=e,e.on("blank:mousedown",(function(r){var n=r.e;if(e.getEditConfig().stopMoveGraph&&!Ae.__disabled){var o=e.getPointByClient(n.x,n.y).domOverlayPosition,i=o.x,a=o.y;Ae.startPoint={x:i,y:a},Ae.endPoint={x:i,y:a};var c=document.createElement("div");c.className="lf-selection-select",c.style.top=Ae.startPoint.y+"px",c.style.left=Ae.startPoint.x+"px",t.appendChild(c),Ae.wrapper=c,document.addEventListener("mousemove",Ae.__draw),document.addEventListener("mouseup",Ae.__drawOff)}}))},__draw:function(e){var t=Ae.lf.getPointByClient(e.x,e.y).domOverlayPosition,r=t.x,n=t.y;Ae.endPoint={x:r,y:n};var o=Ae.startPoint,i=o.x,a=o.y,c=Ae.wrapper.style,u=i,s=a,l=r-i,f=n-a;r<i&&(u=r,l=i-r),n<a&&(s=n,f=a-n),c.left=u+"px",c.top=s+"px",c.width=l+"px",c.height=f+"px"},__drawOff:function(){document.removeEventListener("mousemove",Ae.__draw),document.removeEventListener("mouseup",Ae.__drawOff),Ae.__domContainer.removeChild(Ae.wrapper);var e=Ae.startPoint,t=e.x,r=e.y,n=Ae.endPoint,o=n.x,i=n.y,a=[Math.min(t,o),Math.min(r,i)],c=[Math.max(t,o),Math.max(r,i)],u=Ae.lf.getAreaElement(a,c);u.forEach((function(e){Ae.lf.select(e.id,!0)})),Ae.lf.emit("selection:selected",u)},open:function(){Ae.__disabled=!1},close:function(){Ae.__disabled=!0}},De={name:"minimap",__lf:null,__container:null,__miniMapWrap:null,__miniMapContainer:null,__lfMap:null,__viewport:null,__width:150,__height:220,__miniMapWidth:450,__miniMapHeight:660,__isShow:!1,__viewPortTop:0,__viewPortLeft:0,__startPosition:null,__viewPortScale:1,__viewPortWidth:150,__viewPortHeight:75,__resetDataX:0,__resetDataY:0,__LogicFlow:null,__disabledPlugins:["minimap","control","selection-select"],install:function(e,t){De.__lf=e,De.__miniMapWidth=e.width,De.__miniMapHeight=220*e.width/150,De.__LogicFlow=t,this.__init()},init:function(e){this.__disabledPlugins=this.__disabledPlugins.concat(e.disabledPlugins||[])},render:function(e,t){De.__container=t;["node:add","node:delete","edge:add","edge:delete","node:drop","blank:drop"].forEach((function(e){De.__lf.on(e,(function(){De.__setView()}))}))},show:function(e,t){De.__setView(),De.__isShow||De.__createMiniMap(e,t),De.__isShow=!0},hide:function(){De.__isShow&&De.__removeMiniMap(),De.__isShow=!1},__init:function(){var e=document.createElement("div");e.className="lf-mini-map-graph",e.style.width=De.__width+"px",e.style.height=De.__height+"px",De.__lfMap=new De.__LogicFlow({width:De.__lf.width,height:220*De.__lf.width/150,container:e,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:De.__disabledPlugins}),De.__lfMap.adapterIn=function(e){return e},De.__lfMap.adapterOut=function(e){return e},De.__miniMapWrap=e,De.__createViewPort()},__createMiniMap:function(e,t){var r=document.createElement("div"),n=De.__miniMapWrap;r.appendChild(n),"undefined"!==typeof e&&"undefined"!==typeof t&&(r.style.left=e+"px",r.style.top=t+"px"),r.style.position="absolute",r.className="lf-mini-map",De.__container.appendChild(r),De.__miniMapWrap.appendChild(De.__viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText="\u5bfc\u822a",r.appendChild(o);var i=document.createElement("span");i.className="lf-mini-map-close",i.addEventListener("click",De.hide),r.appendChild(i),De.__miniMapContainer=r},__removeMiniMap:function(){De.__container.removeChild(De.__miniMapContainer)},__getBounds:function(e){var t=0,r=De.__miniMapWidth,n=0,o=De.__miniMapHeight,i=e.nodes;return i&&i.length>0&&i.forEach((function(e){var i=e.x,a=e.y,c=e.width,u=void 0===c?200:c,s=e.height,l=void 0===s?200:s,f=i-u/2,p=i+u/2,d=a-l/2,h=a+l/2;t=f<t?f:t,r=p>r?p:r,n=d<n?d:n,o=h>o?h:o})),{left:t,top:n,bottom:o,right:r}},__resetData:function(e){var t=e.nodes,r=e.edges,n=0,o=0;return t&&t.length>0&&(t.forEach((function(e){var t=e.x,r=e.y,i=e.width,a=void 0===i?200:i,c=e.height,u=t-a/2,s=r-(void 0===c?200:c)/2;n=u<n?u:n,o=s<o?s:o})),(n<0||o<0)&&(De.__resetDataX=n,De.__resetDataY=o,t.forEach((function(e){e.x=e.x-n,e.y=e.y-o,e.text&&(e.text.x=e.text.x-n,e.text.y=e.text.y-o)})),r.forEach((function(e){e.startPoint&&(e.startPoint.x=e.startPoint.x-n,e.startPoint.y=e.startPoint.y-o),e.endPoint&&(e.endPoint.x=e.endPoint.x-n,e.endPoint.y=e.endPoint.y-o),e.text&&(e.text.x=e.text.x-n,e.text.y=e.text.y-o),e.pointsList&&e.pointsList.forEach((function(e){e.x=e.x-n,e.y=e.y-o}))})))),e},__setView:function(){for(var e=De.__resetData(De.__lf.getGraphRawData()),t=De.__lf.viewMap,r=De.__lf.graphModel.modelMap,n=De.__lfMap.viewMap,o=0,i=t.keys();o<i.length;o++){var a=i[o];n.has(a)||(De.__lfMap.setView(a,t.get(a)),De.__lfMap.graphModel.modelMap.set(a,r.get(a)))}De.__lfMap.render(e);var c=De.__getBounds(e),u=c.left,s=c.top,l=c.right,f=c.bottom,p=De.__width/(l-u),d=De.__height/(f-s),h=De.__miniMapWrap.firstChild.style,y=Math.min(p,d);h.transform="matrix("+y+", 0, 0, "+y+", 0, 0)",h.transformOrigin="left top",h.height=f-Math.min(s,0)+"px",h.width=l-Math.min(u,0)+"px",De.__viewPortScale=y,De.__setViewPort(y,{left:u,top:s,right:l,bottom:f})},__setViewPort:function(e,t){var r=t.left,n=t.right,o=De.__viewport.style;o.width=De.__width-4+"px",o.height=(De.__width-4)/(De.__lf.width/De.__lf.height)+"px";var i=De.__lf.getTransform(),a=i.TRANSLATE_X,c=i.TRANSLATE_Y,u=n-r,s=(De.__width-4)/(u/De.__lf.width),l=s/(De.__lf.width/De.__lf.height);De.__viewPortTop=c>0?0:-c*e,De.__viewPortLeft=-a*e,De.__viewPortWidth=s,De.__viewPortHeight=l,o.top=De.__viewPortTop+"px",o.left=De.__viewPortLeft+"px",o.width=s+"px",o.height=l+"px"},__createViewPort:function(){var e=document.createElement("div");e.className="lf-minimap-viewport",e.addEventListener("mousedown",De.__startDrag),De.__viewport=e},__startDrag:function(e){document.addEventListener("mousemove",De.__drag),document.addEventListener("mouseup",De.__drop),De.__startPosition={x:e.x,y:e.y}},__drag:function(e){var t=De.__viewport.style;De.__viewPortTop+=e.y-De.__startPosition.y,De.__viewPortLeft+=e.x-De.__startPosition.x,t.top=De.__viewPortTop+"px",t.left=De.__viewPortLeft+"px",De.__startPosition={x:e.x,y:e.y};var r=(De.__viewPortLeft+De.__viewPortWidth/2)/De.__viewPortScale,n=(De.__viewPortTop+De.__viewPortHeight/2)/De.__viewPortScale;De.__lf.focusOn({coordinate:{x:r+De.__resetDataX,y:n+De.__resetDataY}})},__drop:function(){document.removeEventListener("mousemove",De.__drag),document.removeEventListener("mouseup",De.__drop)}},Ne=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function Me(e,t,r){return function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ne(n,e),n.prototype.getEdge=function(){for(var e=this.getAttributes(),n=e.points,o=e.strokeWidth,i=e.stroke,a=e.strokeDashArray,c=n.split(" ").map((function(e){return e.split(",").map((function(e){return Number(e)}))})),u=c[0],s="M"+u[0]+" "+u[1],l=1;l<c.length-1;l++){var f=c[l-1],p=f[0],d=f[1],h=c[l],y=h[0],b=h[1],v=c[l+1],g=v[0],m=v[1];if(y===p&&b!==d)s=s+" L "+y+" "+(b>d?b-r:b+r);if(b===d&&y!==p)s=s+" L "+(y>p?y-r:y+r)+" "+b;if(s=s+" Q "+y+" "+b,y===g&&b!==m)s=s+" "+y+" "+(b>m?b-r:b+r);if(b===m&&y!==g)s=s+" "+(y>g?y-r:y+r)+" "+b}var O=c[c.length-1],j=O[0],x=O[1];return t("path",{d:s=s+" L "+j+" "+x,strokeWidth:o,stroke:i,fill:"none",strokeDashArray:a})},n.extendKey="CurvedEdge",n}(e)}function Te(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ne(t,e),t.extendKey="CurvedEdgeModel",t}(e)}var Ce={name:"curved-edge",curvedSpace:5,init:function(e){var t=e.curvedSpace;Ce.curvedSpace=t},install:function(e){e.register("curved-edge",this.registerCurvedEdge)},registerCurvedEdge:function(e){var t=e.PolylineEdge,r=e.PolylineEdgeModel;return{view:Me(t,e.h,Ce.curvedSpace),model:Te(r)}}},Re={stopScrollGraph:!0,stopZoomGraph:!0},Ie={nodes:[{id:10,type:"rect",x:150,y:100,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:100,text:"\u5706\u5f62"},{id:30,type:"diamond",x:300,y:300,text:"\u83f1\u5f62"},{id:33,type:"diamond",x:600,y:250,text:"\u83f1\u5f622"}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20,text:"\u76f4\u89d2\u6298\u7ebf",startPoint:{id:"150-60",x:150,y:60}},{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u76f4\u7ebf",endPoint:{id:"150-60",x:350,y:100}},{type:"bezier",sourceNodeId:10,targetNodeId:30,text:"\u66f2\u7ebf",endPoint:{id:"150-60",x:300,y:250}},{type:"curved-edge",sourceNodeId:30,targetNodeId:33,text:"\u5706\u89d2\u66f2\u7ebf"}]};function Le(e){var t=e.lf;return t&&t.on("selection:selected",(function(){t.updateEditConfig({stopMoveGraph:!1})})),Object(n.jsxs)("div",{className:"pattern",children:[Object(n.jsx)("div",{className:"pattern-selection",onMouseDown:function(){t.updateEditConfig({stopMoveGraph:!0})}}),Object(n.jsx)("div",{children:"\u9009\u533a"}),Object(n.jsx)("div",{className:"pattern-start",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:startEvent",text:"\u5f00\u59cb"})}}),Object(n.jsx)("div",{children:"\u5f00\u59cb"}),Object(n.jsx)("div",{className:"pattern-user",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:userTask"})}}),Object(n.jsx)("div",{children:"\u7528\u6237\u4efb\u52a1"}),Object(n.jsx)("div",{className:"pattern-user",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:serviceTask"})}}),Object(n.jsx)("div",{children:"\u7cfb\u7edf\u4efb\u52a1"}),Object(n.jsx)("div",{className:"pattern-condition",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:exclusiveGateway"})}}),Object(n.jsx)("div",{children:"\u6761\u4ef6\u5224\u65ad"}),Object(n.jsx)("div",{className:"pattern-end",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:endEvent",text:"\u7ed3\u675f"})}}),Object(n.jsx)("div",{children:"\u7ed3\u675f"})]})}var ze=r(181).default,Be=r(182).default,Ge=r(183).default;function Xe(e){var t=e.lf;function r(){var e=t.getGraphData();console.log(e),function(e,t){var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}("logic-flow.xml",e)}return Object(n.jsxs)("div",{className:"graph-io",children:[Object(n.jsx)("span",{title:"\u4e0b\u8f7d XML",onMouseDown:function(){return r()},children:Object(n.jsx)("img",{src:ze,alt:"\u4e0b\u8f7dXML"})}),Object(n.jsx)("span",{id:"download-img",title:"\u4e0b\u8f7d\u56fe\u7247",onMouseDown:function(){e.lf.getSnapshot()},children:Object(n.jsx)("img",{src:Be,alt:"\u4e0b\u8f7d\u56fe\u7247"})}),Object(n.jsxs)("span",{id:"upload-xml",title:"\u4e0a\u4f20 XML",children:[Object(n.jsx)("input",{type:"file",className:"upload",onChange:function(e){return function(e){var r=e.target.files[0],n=new FileReader;n.onload=function(e){if(e.target){var r=e.target.result;t.render(r)}},n.readAsText(r)}(e)}}),Object(n.jsx)("img",{src:Ge,alt:"\u4e0a\u4f20XML"})]})]})}r(184),r(80);var Ue={stopScrollGraph:!0,stopZoomGraph:!0,metaKeyMultipleSelected:!0,grid:{size:10,type:"dot"},keyboard:{enabled:!0},snapline:!0},Fe=function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(e){var n;return Object(y.a)(this,r),(n=t.call(this,e)).lf=void 0,n.state={rendered:!0},n}return Object(b.a)(r,[{key:"componentDidMount",value:function(){p.a.use(ie),p.a.use(Oe),p.a.use(ae),p.a.use(Ee),p.a.use(Se),p.a.use(Ae);var e=new p.a(Object(l.a)(Object(l.a)({},Ue),{},{container:document.querySelector("#graph")}));e.render(),this.lf=e,this.setState({rendered:!0})}},{key:"render",value:function(){var e;return this.state.rendered&&(e=Object(n.jsxs)("div",{children:[Object(n.jsx)(Le,{lf:this.lf}),Object(n.jsx)(Xe,{lf:this.lf})]})),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{children:Object(n.jsxs)("div",{children:["\u70b9\u51fb\u5de6\u4e0b\u89d2\u4e0b\u8f7d XML\uff0c\u5c06\u6587\u4ef6\u4e0a\u4f20\u5230",Object(n.jsx)(x.a,{type:"link",href:"https://demo.bpmn.io/",target:"_blank",children:"BPMN Demo"}),"\u5373\u53ef\u4f7f\u7528"]})}),Object(n.jsxs)("div",{className:"bpmn-example-container",children:[Object(n.jsx)("div",{id:"graph",className:"viewport"}),e]})]})}}]),r}(o.Component),He=(r(185),{stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1,keyboard:{enabled:!0},style:{rect:{width:100,height:60}}}),Ve={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"}]};var Ye={stopScrollGraph:!0,stopZoomGraph:!0},We={nodes:[{id:10,type:"rect",x:200,y:90,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:200,y:250,text:"\u4f60\u597d\uff01",r:50}]};var Ke={stopScrollGraph:!0,stopZoomGraph:!0,grid:{size:10,type:"dot"}},qe={nodes:[{id:10,type:"rect",x:170,y:150,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:380,y:60,text:"\u4f60\u597d\uff01",r:50}]};var Ze={isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0,style:{rect:{height:60},nodeText:{fontSize:16},edgeText:{fontSize:17}}},$e={nodes:[{id:10,type:"rect",x:170,y:100,text:"I"},{id:20,type:"circle",x:380,y:180,text:"Logic Flow"}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20,text:"Like",endPoint:{id:"330-180",x:330,y:180}}]};var Je={stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1,grid:{size:10,type:"mesh"},tool:{menu:!1,control:!1},style:{rect:{width:100,height:50,radius:6,fill:"#3eaf7c",strokeWidth:2},circle:{r:40,fill:"#3eaf7c",strokeWidth:2},nodeText:{fontSize:16,color:"#000000"},edgeText:{fontSize:16,color:"#000000"}}},Qe={nodes:[{id:10,type:"circle",x:250,y:100,text:"circle"},{id:20,type:"rect",x:180,y:260,text:"rect"},{id:30,type:"rect",x:320,y:260,text:"rect"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,startPoint:{id:"250-140",x:250,y:140}},{type:"line",sourceNodeId:10,targetNodeId:30,startPoint:{id:"250-140",x:250,y:140}}]};var et,tt=r(301),rt={stopScrollGraph:!0,stopZoomGraph:!0},nt={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:70,text:"\u5706\u5f62"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u76f4\u7ebf",endPoint:{id:"150-60",x:350,y:70}}]},ot={display:"flex",alignItems:"center"};var it={stopScrollGraph:!0,stopZoomGraph:!0};var at={stopScrollGraph:!0,stopZoomGraph:!0},ct={nodes:[{id:10,type:"rect",x:150,y:80,text:"\u53f3\u952e\u83dc\u5355"}]};var ut={stopScrollGraph:!0,stopZoomGraph:!0};var st=r(300),lt={stopScrollGraph:!0,stopZoomGraph:!0,stopMoveGraph:!0},ft={nodes:[{id:10,type:"rect",x:100,y:100,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:400,y:100,text:"\u4f60\u597d\uff01"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,endPoint:{id:"150-150",x:350,y:100}}]};r(186);var pt={stopScrollGraph:!0,stopZoomGraph:!0},dt={nodes:[{id:10,type:"rect",x:100,y:100,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:400,y:100,text:"\u4f60\u597d\uff01"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,endPoint:{id:"150-150",x:350,y:100}}]};var ht,yt={stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1},bt={nodes:[{id:10,type:"rect",x:150,y:80,text:"\u53f3\u952e\u8282\u70b9"},{id:20,type:"rect",x:400,y:80,text:"\u53f3\u952e\u8282\u70b9"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u53f3\u952e\u8fde\u7ebf",endPoint:{id:"150-60",x:350,y:80}}]};var vt=[{type:"circle",text:"\u5706\u5f62"},{type:"rect",text:"\u77e9\u5f62"}];function gt(e){return Object(n.jsx)("div",{className:"panel",children:vt.map((function(t){var r=t.type,o=t.text;return Object(n.jsxs)("div",{className:"panel-item",children:[Object(n.jsx)("div",{className:"panel-".concat(r),onMouseDown:function(){!function(t){e.lf.dnd.startDrag(t)}(t)}}),Object(n.jsx)("span",{children:o})]})}))})}var mt={name:"dnd",install:function(){},render:function(e,t){c.a.render(Object(n.jsx)(gt,{lf:e}),t)}},Ot={stopScrollGraph:!0,stopZoomGraph:!0};var jt=function(e){var t=e.RectNode,r=e.RectNodeModel,n=e.h,o=function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(){return Object(y.a)(this,r),t.apply(this,arguments)}return Object(b.a)(r,[{key:"setAttributes",value:function(){this.width=80,this.height=80,this.anchorsOffset=[[40,0],[-40,0]],this.sourceRules.push({message:"\u6b63\u65b9\u5f62\u8282\u70b9\u4e0b\u4e00\u4e2a\u8282\u70b9\u53ea\u80fd\u662f\u5706\u5f62\u8282\u70b9",validate:function(e,t){return"circle"===t.type}})}}]),r}(r);return{view:function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(){return Object(y.a)(this,r),t.apply(this,arguments)}return Object(b.a)(r,[{key:"getShape",value:function(){var e=this.getAttributes(),t=e.x,r=e.y,o=e.width,i=e.height,a=e.fill,c=e.stroke,u=e.strokeWidth,s=e.properties,f={x:t-o/2,y:r-i/2,width:o,height:i,stroke:c,fill:a,strokeWidth:u},p=n("svg",{x:t-o/2+5,y:r-i/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},n("path",{fill:c,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}));return n("g",{},[n("rect",Object(l.a)({},f)),s.isUser?p:null])}}]),r}(t),model:o}},xt={hideAnchors:!0,stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},_t={nodes:[{id:10,type:"square",x:150,y:90,text:"\u6b63\u65b9\u5f62"}]};var wt={stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},Et={nodes:[{id:10,type:"square",x:150,y:90,text:"\u6b63\u65b9\u5f62"}]};var St=function(e){return{view:e.PolygonNode,model:function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(){return Object(y.a)(this,r),t.apply(this,arguments)}return Object(b.a)(r,[{key:"setAttributes",value:function(){this.points=[[50,0],[100,80],[0,80]]}}]),r}(e.PolygonNodeModel)}},Pt={isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0},kt={nodes:[{id:10,type:"triangle",x:150,y:70,text:"triangle"}]};var At={stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},Dt={nodes:[{id:10,type:"square",x:150,y:150,text:"\u6b63\u65b9\u5f62"},{id:20,type:"circle",x:380,y:70,text:"\u5706\u5f62"},{id:30,type:"diamond",x:380,y:230,text:"\u5176\u4ed6\u8282\u70b9"}]};var Nt={hideAnchors:!0,stopScrollGraph:!0,stopZoomGraph:!0},Mt={nodes:[{id:10,type:"square",x:150,y:90,text:"\u6b63\u65b9\u5f62",properties:{isUser:!0}}]};var Tt=function(e){return{view:e.LineEdge,model:function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(){return Object(y.a)(this,r),t.apply(this,arguments)}return Object(b.a)(r,[{key:"setAttributes",value:function(){this.properties.isExecuted&&(this.stroke="green")}}]),r}(e.LineEdgeModel)}},Ct={stopScrollGraph:!0,stopZoomGraph:!0},Rt={nodes:[{id:10,type:"rect",x:100,y:110,text:"\u5ba1\u6279\u901a\u8fc7"},{id:20,type:"rect",x:300,y:110,text:"\u5ba1\u6279\u4e2d"},{id:30,type:"rect",x:500,y:110,text:"\u672a\u5f00\u59cb"}],edges:[{type:"process",sourceNodeId:10,targetNodeId:20,startPoint:{id:"150-110",x:150,y:110},endPoint:{id:"250-110",x:250,y:110},properties:{isExecuted:!0}},{type:"process",sourceNodeId:20,targetNodeId:30,startPoint:{id:"350-110",x:350,y:110},endPoint:{id:"450-110",x:450,y:110},properties:{isExecuted:!1}}]};var It=r(51),Lt=r(40),zt=function(e){var t=e.LineEdge,r=e.LineEdgeModel;return{view:function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(){return Object(y.a)(this,r),t.apply(this,arguments)}return Object(b.a)(r,[{key:"getAttributes",value:function(){var e=Object(It.a)(Object(Lt.a)(r.prototype),"getAttributes",this).call(this);return e.properties.isExecuted&&(e.stroke="green"),e}},{key:"getArrowStyle",value:function(){var e=Object(It.a)(Object(Lt.a)(r.prototype),"getArrowStyle",this).call(this);return e.fill="transparent",e}}]),r}(t),model:r}},Bt={stopScrollGraph:!0,stopZoomGraph:!0},Gt={nodes:[{id:10,type:"rect",x:100,y:110,text:"\u5ba1\u6279\u901a\u8fc7"},{id:20,type:"rect",x:300,y:110,text:"\u5ba1\u6279\u4e2d"},{id:30,type:"rect",x:500,y:110,text:"\u672a\u5f00\u59cb"}],edges:[{type:"process",sourceNodeId:10,targetNodeId:20,startPoint:{id:"150-110",x:150,y:110},endPoint:{id:"250-110",x:250,y:110},properties:{isExecuted:!0}},{type:"process",sourceNodeId:20,targetNodeId:30,startPoint:{id:"350-110",x:350,y:110},endPoint:{id:"450-110",x:450,y:110},properties:{isExecuted:!1}}]};var Xt,Ut={stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1},Ft={nodes:[{id:10,type:"rect",x:150,y:80,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:80,text:"\u5706\u5f62"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u8fde\u7ebf",endPoint:{id:"150-60",x:350,y:80}}]};var Ht=r(299),Vt=r(297),Yt=r(295),Wt=r(298),Kt=r(302),qt=[{type:"apply",label:"\u7533\u8bf7",style:{width:"30px",height:"30px",borderRadius:"15px",border:"2px solid #FF6347"},property:{username:"",time:"",startTime:"",endTime:""}},{type:"approver",label:"\u5ba1\u6279",style:{width:"50px",height:"40px",borderRadius:"4px",border:"2px solid #3CB371"}},{type:"jugement",label:"\u5224\u65ad",style:{width:"30px",height:"30px",border:"2px solid #6495ED",transform:"rotate(45deg)"}},{type:"finsh",label:"\u7ed3\u675f",style:{width:"30px",height:"30px",borderRadius:"15px",border:"2px solid #FF6347"}}],Zt=[{label:"\u76f4\u63a5\u4e0a\u7ea7",value:"leader"},{label:"T3\u9886\u5bfc",value:"t3Leader"},{label:"T2\u9886\u5bfc",value:"t2Leader"},{label:"T1\u9886\u5bfc",value:"t1Leader"}],$t={nodes:[{id:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",type:"apply",x:210,y:210,text:{x:210,y:210,value:"\u7533\u8bf7"},properties:{}},{id:"64179bd7-c60e-433c-8df7-97c8e98f855d",type:"approver",x:350,y:210,text:{x:350,y:210,value:"\u5ba1\u6279"},properties:{labelColor:"#000000",approveTypeLabel:"\u76f4\u63a5\u4e0a\u7ea7",approveType:"leader"}},{id:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",type:"jugement",x:510,y:210,text:{x:510,y:210,value:"\u5224\u65ad\u62a5\u9500\u662f\u5426\n\u5927\u4e8e1000\u5143"},properties:{api:""}},{id:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",type:"approver",x:670,y:210,text:{x:670,y:210,value:"\u5ba1\u6279"},properties:{labelColor:"#000000",approveTypeLabel:"T2\u9886\u5bfc",approveType:"t2Leader"}},{id:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",type:"finsh",x:850,y:210,text:{x:850,y:210,value:"\u7ed3\u675f"},properties:{}}],edges:[{id:"0d87b1eb-2389-445a-9f34-6227940b2072",type:"polyline",sourceNodeId:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",targetNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",startPoint:{x:235,y:210},endPoint:{x:300,y:210},text:{x:51.25,y:0,value:""},properties:{},pointsList:[{x:235,y:210},{x:300,y:210}]},{id:"d99e7451-b379-411e-b0da-df11be8be20a",type:"polyline",sourceNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",targetNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",startPoint:{x:400,y:210},endPoint:{x:475,y:210},text:{x:437.5,y:210,value:"\u901a\u8fc7"},properties:{},pointsList:[{x:400,y:210},{x:475,y:210}]},{id:"4c615802-15d8-442c-be22-b65430286123",type:"polyline",sourceNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",targetNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",startPoint:{x:545,y:210},endPoint:{x:620,y:210},text:{x:582.5,y:210,value:"\u662f"},properties:{},pointsList:[{x:545,y:210},{x:620,y:210}]},{id:"934ae03a-6ee0-4568-a2b4-8bcede565e0b",type:"polyline",sourceNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:720,y:210},endPoint:{x:825,y:210},text:{x:-10,y:0,value:""},properties:{},pointsList:[{x:720,y:210},{x:825,y:210}]},{id:"bd5e1dd0-1978-46f7-851b-d31c03aebee9",type:"polyline",sourceNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:350,y:170},endPoint:{x:850,y:185},text:{x:600,y:140,value:"\u9a73\u56de"},properties:{},pointsList:[{x:350,y:170},{x:350,y:140},{x:850,y:140},{x:850,y:185}]},{id:"453139c3-faa1-4e3a-a413-38f251243baa",type:"polyline",sourceNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:510,y:245},endPoint:{x:850,y:235},text:{x:680,y:275,value:"\u5426"},properties:{},pointsList:[{x:510,y:245},{x:510,y:275},{x:850,y:275},{x:850,y:235}]}]};r(187);function Jt(e,t,r){var o;console.log(e.properties);return Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"\u5c5e\u6027\u9762\u677f"}),Object(n.jsxs)(Yt.a,{layout:"inline",initialValues:e.properties,onValuesChange:function(r,n){Zt.forEach((function(e){e.value===r.approveType&&(r.approveTypeLabel=e.label)})),t(e.id,r)},children:[Object(n.jsxs)("span",{className:"form-property",children:["\u7c7b\u578b\uff1a",Object(n.jsx)("span",{children:e.type})]}),Object(n.jsxs)("span",{className:"form-property",children:["\u6587\u6848\uff1a",Object(n.jsx)("span",{children:null===(o=e.text)||void 0===o?void 0:o.value})]}),"approver"===e.type?function(){var e=[];return Zt.forEach((function(t){e.push(Object(n.jsx)(Vt.a.Option,{value:t.value,children:t.label}))})),Object(n.jsx)(Yt.a.Item,{className:"form-property",label:"\u5ba1\u6838\u8282\u70b9\u7c7b\u578b",name:"approveType",children:Object(n.jsx)(Vt.a,{children:e})})}():"","jugement"===e.type?Object(n.jsx)(Yt.a.Item,{label:"API",name:"api",children:Object(n.jsx)(Wt.a,{})}):""]},e.id),Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"......"}),Object(n.jsx)("h3",{children:"\u4e1a\u52a1\u5c5e\u6027\u53ef\u6839\u636e\u9700\u8981\u8fdb\u884c\u81ea\u5b9a\u4e49\u6269\u5c55"})]}),Object(n.jsx)("div",{className:"property-panel-footer",children:Object(n.jsx)(x.a,{className:"property-panel-footer-hide",type:"primary",icon:Object(n.jsx)(Kt.a,{}),onClick:r,children:"\u6536\u8d77"})})]})}function Qt(e){return function(){var t=[];return qt.forEach((function(r){t.push(Object(n.jsxs)("div",{className:"approve-node node-".concat(r.type),children:[Object(n.jsx)("div",{className:"node-shape",style:Object(l.a)({},r.style),onMouseDown:function(){return function(t){e.dnd.startDrag({type:t.type,text:t.label})}(r)}}),Object(n.jsx)("div",{className:"node-label",children:r.label})]}))})),t}()}r(280);var er={stopScrollGraph:!0,stopZoomGraph:!0,grid:{size:10,visible:!0,type:"mesh",config:{color:"#DCDCDC"}},keyboard:{enabled:!0},style:{rect:{radius:8,stroke:"#3CB371"},circle:{r:25,stroke:"#FF6347"},polygon:{stroke:"#6495ED"},polyline:{strokeWidth:1},edgeText:{background:{fill:"white"}}}};var tr={0:"grey",1:"green",2:"red"};var rr=r(296),nr=r(303),or=r(304),ir={apply:"\u7533\u8bf7",approver:"\u5ba1\u6838",jugement:"\u5224\u65ad",finsh:"\u7ed3\u675f"},ar={nodes:[{id:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",type:"apply",x:210,y:210,text:{x:210,y:210,value:"\u5f20\u4e09"},properties:{usernameZh:"\u5f20\u4e09",username:"zhangsan",time:"2020-12-01 10:23:34",result:"",desc:"\u6d3b\u52a8\u8d39\u7528",status:1}},{id:"64179bd7-c60e-433c-8df7-97c8e98f855d",type:"approver",x:350,y:210,text:{x:350,y:210,value:"\u674e\u56db"},properties:{labelColor:"#000000",approveTypeLabel:"\u76f4\u63a5\u4e0a\u7ea7",approveType:"leader",usernameZh:"\u674e\u56db",username:"zhangsan",time:"2020-12-01 11:23:34",result:"\u901a\u8fc7",desc:"",status:1}},{id:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",type:"jugement",x:510,y:210,text:{x:510,y:210,value:"\u5224\u65ad\u62a5\u9500\u662f\u5426\n\u5927\u4e8e1000\u5143"},properties:{api:"",status:1,usenameZh:"\u7cfb\u7edf",desc:"\u5224\u65ad\u62a5\u9500\u662f\u5426\u5927\u4e8e1000\u5143"}},{id:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",type:"approver",x:670,y:210,text:{x:670,y:210,value:"\u738b\u4e94"},properties:{labelColor:"#000000",approveTypeLabel:"T2\u9886\u5bfc",approveType:"t2Leader",usernameZh:"\u738b\u4e94",username:"wangwu",time:"2020-12-01 12:23:34",result:"\u9a73\u56de",desc:"",status:2}},{id:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",type:"finsh",x:850,y:210,text:{x:850,y:210,value:"\u7ed3\u675f"},properties:{status:2}}],edges:[{id:"0d87b1eb-2389-445a-9f34-6227940b2072",type:"action",sourceNodeId:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",targetNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",startPoint:{x:235,y:210},endPoint:{x:300,y:210},text:{x:51.25,y:0,value:""},properties:{status:1},pointsList:[{x:235,y:210},{x:300,y:210}]},{id:"d99e7451-b379-411e-b0da-df11be8be20a",type:"action",sourceNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",targetNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",startPoint:{x:400,y:210},endPoint:{x:475,y:210},text:{x:437.5,y:210,value:"\u901a\u8fc7"},properties:{status:1},pointsList:[{x:400,y:210},{x:475,y:210}]},{id:"4c615802-15d8-442c-be22-b65430286123",type:"action",sourceNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",targetNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",startPoint:{x:545,y:210},endPoint:{x:620,y:210},text:{x:582.5,y:210,value:"\u662f"},properties:{status:1},pointsList:[{x:545,y:210},{x:620,y:210}]},{id:"934ae03a-6ee0-4568-a2b4-8bcede565e0b",type:"action",sourceNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:720,y:210},endPoint:{x:825,y:210},text:{x:-10,y:0,value:"\u9a73\u56de"},properties:{status:2},pointsList:[{x:720,y:210},{x:825,y:210}]}]};function cr(e,t){return Object(n.jsx)("div",{className:"hover-panel",style:Object(l.a)({},e),children:function(e){if(e){var r=t.properties;return Object(n.jsxs)(rr.a,{title:ir[t.type],style:{width:300},children:[Object(n.jsxs)("p",{children:[r.usernameZh,r.username?Object(n.jsxs)("span",{children:["(",r.username,")"]}):""]}),Object(n.jsx)("p",{children:r.time}),r.result?Object(n.jsxs)("p",{children:["\u901a\u8fc7"===r.result?Object(n.jsx)(nr.a,{style:{color:"green"}}):Object(n.jsx)(or.a,{style:{color:"red"}}),Object(n.jsx)("span",{style:{marginLeft:"10px"},children:r.result})]}):"",r.desc?Object(n.jsxs)("p",{children:["\u8bf4\u660e: ",r.desc]}):""]})}}(t)})}r(287);var ur={grid:{size:10,type:"mesh",config:{color:"#DCDCDC"}},isSilentMode:!0,keyboard:{enabled:!0},style:{rect:{radius:8},circle:{r:25},edgeText:{background:{fill:"white"}}}};var sr={stopScrollGraph:!0,stopZoomGraph:!0},lr={nodes:[{id:10,type:"bpmn:startEvent",x:76,y:178,properties:{},baseType:"node",text:{x:76,y:213,value:"StartEvent"}},{id:11,type:"bpmn:endEvent",x:567,y:176,properties:{},baseType:"node",text:{x:567,y:211,value:"EndEvent"}},{id:12,type:"bpmn:userTask",x:386,y:59,properties:{},baseType:"node",text:{x:386,y:59,value:"UserTask"}},{id:13,type:"bpmn:serviceTask",x:385,y:286,properties:{},baseType:"node",text:{x:385,y:286,value:"ServiceTask"}},{id:14,type:"bpmn:exclusiveGateway",x:206,y:178,properties:{},baseType:"node"}],edges:[{id:"Flow_2fs3ivm",type:"bpmn:sequenceFlow",sourceNodeId:10,targetNodeId:14,startPoint:{x:94,y:178},endPoint:{x:181,y:178},properties:{},pointsList:[{x:94,y:178},{x:181,y:178}]},{id:"Flow_2mtbh4v",type:"bpmn:sequenceFlow",sourceNodeId:14,targetNodeId:12,startPoint:{x:231,y:178},endPoint:{x:336,y:59},properties:{},pointsList:[{x:231,y:178},{x:306,y:178},{x:306,y:59},{x:336,y:59}]},{id:"Flow_1hm4ecl",type:"bpmn:sequenceFlow",sourceNodeId:14,targetNodeId:13,startPoint:{x:231,y:178},endPoint:{x:335,y:286},properties:{},pointsList:[{x:231,y:178},{x:305,y:178},{x:305,y:286},{x:335,y:286}]},{id:"Flow_1vo95qa",type:"bpmn:sequenceFlow",sourceNodeId:12,targetNodeId:11,startPoint:{x:436,y:59},endPoint:{x:549,y:176},properties:{},pointsList:[{x:436,y:59},{x:519,y:59},{x:519,y:176},{x:549,y:176}]},{id:"Flow_3o5b4v0",type:"bpmn:sequenceFlow",sourceNodeId:13,targetNodeId:11,startPoint:{x:435,y:286},endPoint:{x:549,y:176},properties:{},pointsList:[{x:435,y:286},{x:519,y:286},{x:519,y:176},{x:549,y:176}]}]};var fr,pr=r(305),dr=[{type:"rect",text:"\u77e9\u5f62"},{type:"circle",text:"\u5706\u5f62"}];var hr=Object(n.jsxs)(s.c,{children:[Object(n.jsx)(s.a,{path:"/basic/node",exact:!0,component:function(){return Object(o.useEffect)((function(){new p.a(Object(l.a)(Object(l.a)({},S),{},{container:document.querySelector("#graph")})).render(P)}),[]),Object(n.jsx)("div",{id:"graph",className:"viewport"})}}),Object(n.jsx)(s.a,{path:"/basic/edge",exact:!0,component:function(){var e=Object(o.useState)("\u6298\u7ebf"),t=Object(k.a)(e,2),r=t[0],i=t[1],a=Object(o.useState)(),c=Object(k.a)(a,2),u=c[0],s=c[1];Object(o.useEffect)((function(){p.a.use(Ce);var e=new p.a(Object(l.a)(Object(l.a)({},Re),{},{container:document.querySelector("#graph")}));e.render(Ie),s(e)}),[]);var f=function(e,t){u.setDefaultEdgeType(e),i(t)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{content:"\u5c1d\u8bd5\u4e3a\u77e9\u5f62\u548c\u5706\u5f62\u624b\u52a8\u6dfb\u52a0\u8fde\u7ebf"}),Object(n.jsxs)("div",{children:["\u5f53\u524d\uff1a",r]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{onClick:function(){return f("line","\u76f4\u7ebf")},children:"\u76f4\u7ebf"}),Object(n.jsx)("button",{onClick:function(){return f("polyline","\u6298\u7ebf")},children:"\u6298\u7ebf"}),Object(n.jsx)("button",{onClick:function(){return f("curved-edge","\u5706\u89d2\u6298\u7ebf")},children:"\u5706\u89d2\u6298\u7ebf"}),Object(n.jsx)("button",{onClick:function(){return f("bezier","\u66f2\u7ebf")},children:"\u66f2\u7ebf"})]}),Object(n.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(n.jsx)(s.a,{path:"/basic/dnd",exact:!0,component:j}),Object(n.jsx)(s.a,{path:"/basic/keyboard",exact:!0,component:function(){return Object(o.useEffect)((function(){new p.a(Object(l.a)(Object(l.a)({},He),{},{container:document.querySelector("#graph")})).render(Ve)}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(O,{children:[Object(n.jsx)("div",{className:"keyboard-example-code",children:"Ctrl + C"}),Object(n.jsx)("div",{className:"keyboard-example-code",children:"Ctrl + V"})]}),Object(n.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(n.jsx)(s.a,{path:"/basic/grid",exact:!0,component:E}),Object(n.jsx)(s.a,{path:"/basic/redoundo",exact:!0,component:function(){return Object(o.useEffect)((function(){p.a.use(Ee),new p.a(Object(l.a)(Object(l.a)({},Ye),{},{container:document.querySelector("#graph")})).render(We)}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{content:"\u5c1d\u8bd5\u8fde\u7ebf\u540e\u70b9\u51fb\u201c\u4e0a\u4e00\u6b65\u201d\u64a4\u9500"}),Object(n.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(n.jsx)(s.a,{path:"/basic/snapline",exact:!0,component:function(){return Object(o.useEffect)((function(){new p.a(Object(l.a)(Object(l.a)({},Ke),{},{container:document.querySelector("#graph")})).render(qe)}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{content:"\u5c1d\u8bd5\u62d6\u62fd\u5706\u5f62\u4f7f\u4e24\u4e2a\u8282\u70b9\u5bf9\u9f50"}),Object(n.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(n.jsx)(s.a,{path:"/basic/silent-mode",exact:!0,component:function(){return Object(o.useEffect)((function(){new p.a(Object(l.a)(Object(l.a)({},Ze),{},{container:document.querySelector("#graph")})).render($e)}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{content:"\u9759\u9ed8\u6a21\u5f0f\u4e0b\u4e0d\u53ef\u7f16\u8f91"}),Object(n.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(n.jsx)(s.a,{path:"/advance/theme",exact:!0,component:function(){return Object(o.useEffect)((function(){new p.a(Object(l.a)(Object(l.a)({},Je),{},{container:document.querySelector("#graph")})).render(Qe)}),[]),Object(n.jsx)("div",{id:"graph",className:"viewport"})}}),Object(n.jsx)(s.a,{path:"/advance/event",exact:!0,component:function(){var e=Object(o.useState)(""),t=Object(k.a)(e,2),r=t[0],i=t[1],a=Object(o.useState)(""),c=Object(k.a)(a,2),u=c[0],s=c[1];return Object(o.useEffect)((function(){var e,t;Xt=new p.a(Object(l.a)(Object(l.a)({},Ut),{},{container:document.querySelector("#graph")})),t=function(e){var t=e.data,r=e.e;i(r.type),s(t.type)},(e=Xt).on("node:mousedown",(function(e){var r=e.data,n=e.e;return t({data:r,e:n})})),e.on("node:mouseup",(function(e){var r=e.data,n=e.e;return t({data:r,e:n})})),e.on("node:mousemove",(function(e){var r=e.data,n=e.e;return t({data:r,e:n})})),e.on("node:contextmenu",(function(e){var r=e.data,n=e.e;return t({data:r,e:n})})),e.on("edge:click",(function(e){var r=e.data,n=e.e;return t({data:r,e:n})})),e.on("edge:dbclick",(function(e){var r=e.data,n=e.e;return t({data:r,e:n})})),e.on("edge:contextmenu",(function(e){var r=e.data,n=e.e;return t({data:r,e:n})})),Xt.render(Ft)}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(O,{children:["\u62d6\u62fd\u6216\u70b9\u51fb\u5143\u7d20\u67e5\u770b\u89e6\u53d1\u4e8b\u4ef6\uff1a",r?"".concat(r,"-").concat(u):""]}),Object(n.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(n.jsx)(s.a,{path:"/advance/custom-node/style",exact:!0,component:function(){return Object(o.useEffect)((function(){var e=new p.a(Object(l.a)(Object(l.a)({},xt),{},{container:document.querySelector("#graph")}));e.register("square",jt),e.render(_t)}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{content:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u8282\u70b9\u7684 width \u548c height"}),Object(n.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(n.jsx)(s.a,{path:"/advance/custom-node/anchor",exact:!0,component:function(){return Object(o.useEffect)((function(){var e=new p.a(Object(l.a)(Object(l.a)({},wt),{},{container:document.querySelector("#graph")}));e.register("square",jt),e.render(Et)}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{content:"\u53ea\u4fdd\u7559\u6c34\u5e73\u65b9\u5411\u4e0a\u7684\u951a\u70b9"}),Object(n.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(n.jsx)(s.a,{path:"/advance/custom-node/triangle",exact:!0,component:function(){return Object(o.useEffect)((function(){var e=new p.a(Object(l.a)(Object(l.a)({},Pt),{},{container:document.querySelector("#graph")}));e.register("triangle",St),e.render(kt)}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{content:"\u8bbe\u7f6e\u591a\u8fb9\u5f62\u7684\u9876\u70b9\u6765\u5b9e\u73b0\u4e09\u89d2\u5f62"}),Object(n.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(n.jsx)(s.a,{path:"/advance/custom-node/rule",exact:!0,component:function(){return Object(o.useEffect)((function(){var e=new p.a(Object(l.a)(Object(l.a)({},At),{},{container:document.querySelector("#graph")}));e.register("square",jt),e.render(Dt)}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{content:"\u6b63\u65b9\u5f62\u7684\u4e0b\u4e00\u4e2a\u8282\u70b9\u53ea\u80fd\u662f\u5706\u5f62\u8282\u70b9"}),Object(n.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(n.jsx)(s.a,{path:"/advance/custom-node/shape",exact:!0,component:function(){return Object(o.useEffect)((function(){var e=new p.a(Object(l.a)(Object(l.a)({},Nt),{},{container:document.querySelector("#graph")}));e.register("square",jt),e.render(Mt)}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{content:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u8282\u70b9\u7684 SVG \u5143\u7d20"}),Object(n.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(n.jsx)(s.a,{path:"/advance/custom-edge/process",exact:!0,component:function(){return Object(o.useEffect)((function(){var e=new p.a(Object(l.a)(Object(l.a)({},Ct),{},{container:document.querySelector("#graph")}));e.register("process",Tt),e.render(Rt)}),[]),Object(n.jsx)("div",{id:"graph",className:"viewport"})}}),Object(n.jsx)(s.a,{path:"/advance/custom-edge/arrow",exact:!0,component:function(){return Object(o.useEffect)((function(){var e=new p.a(Object(l.a)(Object(l.a)({},Bt),{},{container:document.querySelector("#graph")}));e.register("process",zt),e.render(Gt)}),[]),Object(n.jsx)("div",{id:"graph",className:"viewport"})}}),Object(n.jsx)(s.a,{path:"/extension/snapshot",exact:!0,component:function(){return Object(o.useEffect)((function(){p.a.use(ae),(et=new p.a(Object(l.a)(Object(l.a)({},rt),{},{container:document.querySelector("#graph")}))).render(nt)}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(O,{contentStyle:ot,children:["\u5bfc\u51fa\u56fe\u7247\uff1a",Object(n.jsx)(x.a,{shape:"round",icon:Object(n.jsx)(tt.a,{}),onClick:function(){et.getSnapshot()}})]}),Object(n.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(n.jsx)(s.a,{path:"/extension/components/control",exact:!0,component:function(){return Object(o.useEffect)((function(){p.a.use(Ee),new p.a(Object(l.a)(Object(l.a)({},it),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")})).render()}),[]),Object(n.jsx)("div",{id:"graph",className:"viewport"})}}),Object(n.jsx)(s.a,{path:"/extension/components/menu",exact:!0,component:function(){return Object(o.useEffect)((function(){p.a.use(Se),new p.a(Object(l.a)(Object(l.a)({},at),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")})).render(ct)}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{content:"\u53f3\u952e\u8282\u70b9\u5c55\u793a\u83dc\u5355"}),Object(n.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(n.jsx)(s.a,{path:"/extension/components/dnd-panel",exact:!0,component:function(){return Object(o.useEffect)((function(){p.a.use(ke),new p.a(Object(l.a)(Object(l.a)({},ut),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")})).render()}),[]),Object(n.jsx)("div",{id:"graph",className:"viewport"})}}),Object(n.jsx)(s.a,{path:"/extension/components/selection",exact:!0,component:function(){var e=Object(o.useState)(!0),t=Object(k.a)(e,2),r=t[0],i=t[1];return Object(o.useEffect)((function(){p.a.use(Ae),new p.a(Object(l.a)(Object(l.a)({},lt),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")})).render(ft)}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{content:"\u5f00\u542f\u591a\u9009\u529f\u80fd",children:Object(n.jsx)(st.a,{defaultChecked:!0,onChange:function(){r?Ae.close():Ae.open(),i(!r)}})}),Object(n.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(n.jsx)(s.a,{path:"/extension/components/mini-map",exact:!0,component:function(){var e=Object(o.useState)(!1),t=Object(k.a)(e,2),r=t[0],i=t[1];return Object(o.useEffect)((function(){p.a.use(De),new p.a(Object(l.a)(Object(l.a)({},pt),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")})).render(dt)}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{content:"\u663e\u793a mini-map",children:Object(n.jsx)(st.a,{onChange:function(){r?(De.hide(),i(!1)):(De.show(),i(!0))}})}),Object(n.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(n.jsx)(s.a,{path:"/extension/components/custom-menu",exact:!0,component:function(){return Object(o.useEffect)((function(){p.a.use(Se),(ht=new p.a(Object(l.a)(Object(l.a)({},yt),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}))).addMenuConfig({nodeMenu:[{text:"\u5206\u4eab",callback:function(){alert("\u5206\u4eab\u6210\u529f\uff01")}},{text:"\u5c5e\u6027",callback:function(e){alert("\n              \u8282\u70b9id\uff1a".concat(e.id,"\n              \u8282\u70b9\u7c7b\u578b\uff1a").concat(e.type,"\n              \u8282\u70b9\u5750\u6807\uff1a(x: ").concat(e.x,", y: ").concat(e.y,")"))}}],edgeMenu:[{text:"\u5c5e\u6027",callback:function(e){console.log(e),alert("\n              \u8fb9id\uff1a".concat(e.id,"\n              \u8fb9\u7c7b\u578b\uff1a").concat(e.type,"\n              \u6e90\u8282\u70b9id\uff1a").concat(e.sourceNodeId,"\n              \u76ee\u6807\u8282\u70b9id\uff1a").concat(e.targetNodeId))}}],graphMenu:[{text:"\u5206\u4eab",callback:function(){alert("\u5206\u4eab\u6210\u529f\uff01")}}]}),ht.render(bt)}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{content:"\u5206\u522b\u53f3\u952e\u8282\u70b9\u548c\u753b\u5e03\u6765\u5c55\u793a\u83dc\u5355"}),Object(n.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(n.jsx)(s.a,{path:"/extension/components/custom-dnd",exact:!0,component:function(){return Object(o.useEffect)((function(){p.a.use(mt),new p.a(Object(l.a)(Object(l.a)({},Ot),{},{container:document.querySelector("#graph")})).render()}),[]),Object(n.jsx)("div",{id:"graph",className:"viewport"})}}),Object(n.jsx)(s.a,{path:"/extension/bpmn-elements",exact:!0,component:function(){return Object(o.useEffect)((function(){p.a.use(ie);var e=new p.a(Object(l.a)(Object(l.a)({},sr),{},{container:document.querySelector("#graph")}));window.lf=e,e.render(lr)}),[]),Object(n.jsx)("div",{id:"graph",className:"viewport"})}}),Object(n.jsx)(s.a,{path:"/extension/adapter",exact:!0,component:function(){return Object(o.useEffect)((function(){p.a.use(ge),p.a.use(Ee),p.a.use(ke),(fr=new p.a({container:document.querySelector("#graph"),stopScrollGraph:!0,stopZoomGraph:!0})).setShapeList(dr),fr.render()}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(O,{children:["\u5bfc\u51fa bpmnAdapter \u8f6c\u6362\u540e\u7684\u6570\u636e\u683c\u5f0f\uff1a",Object(n.jsx)(x.a,{shape:"round",icon:Object(n.jsx)(pr.a,{}),onClick:function(){var e=fr.getGraphData();!function(e,t){var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}("logic-flow.json",JSON.stringify(e))}})]}),Object(n.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(n.jsx)(s.a,{path:"/usage/bpmn",exact:!0,component:Fe}),Object(n.jsx)(s.a,{path:"/usage/approve",exact:!0,component:function(){var e=Object(o.useState)({}),t=Object(k.a)(e,2),r=t[0],i=t[1],a=Object(o.useState)(),c=Object(k.a)(a,2),u=c[0],s=c[1];Object(o.useEffect)((function(){var e=new p.a(Object(l.a)(Object(l.a)({},er),{},{container:document.querySelector("#graph")}));i(e),function(e){e.register("apply",(function(e){return{view:e.CircleNode,model:function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(){return Object(y.a)(this,r),t.apply(this,arguments)}return Object(b.a)(r,[{key:"getConnectedTargetRules",value:function(){var e=Object(It.a)(Object(Lt.a)(r.prototype),"getConnectedTargetRules",this).call(this);return e.push({message:"\u5f00\u59cb\u8282\u70b9\u53ea\u80fd\u8fde\u51fa\uff0c\u4e0d\u80fd\u8fde\u5165\uff01",validate:function(e,t){var r=!0;return t&&(r=!1),r}}),e}}]),r}(e.CircleNodeModel)}})),e.register("approver",(function(e){var t=e.RectNode,r=e.RectNodeModel,n=e.h,o=function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(){return Object(y.a)(this,r),t.apply(this,arguments)}return Object(b.a)(r,[{key:"getLabelShape",value:function(){var e=Object(It.a)(Object(Lt.a)(r.prototype),"getAttributes",this).call(this),t=e.x,o=e.y,i=e.width,a=e.height,c=e.properties,u=c.labelColor,s=c.approveTypeLabel;return n("text",{fill:u,fontSize:12,x:t-i/2+5,y:o-a/2+15,width:50,height:25},s)}},{key:"getShape",value:function(){var e=Object(It.a)(Object(Lt.a)(r.prototype),"getAttributes",this).call(this),t=e.x,o=e.y,i=e.width,a=e.height,c=e.fill,u=e.stroke,s=e.strokeWidth,l=e.radius;return n("g",{},[n("rect",{x:t-i/2,y:o-a/2,rx:l,ry:l,fill:c,stroke:u,strokeWidth:s,width:i,height:a}),this.getLabelShape()])}}]),r}(t);return o.extendKey="UserTaskNode",{view:o,model:function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(e,n){var o;return Object(y.a)(this,r),(o=t.call(this,e,n)).properties={labelColor:"#000000",approveTypeLabel:"",approveType:""},o}return r}(r)}})),e.register("jugement",(function(e){return{view:e.PolygonNode,model:function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(e,n){var o;return Object(y.a)(this,r),(o=t.call(this,e,n)).points=[[35,0],[70,35],[35,70],[0,35]],o.properties={api:""},o}return r}(e.PolygonNodeModel)}})),e.register("finsh",(function(e){return{view:e.CircleNode,model:function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(){return Object(y.a)(this,r),t.apply(this,arguments)}return Object(b.a)(r,[{key:"getConnectedSourceRules",value:function(){var e=Object(It.a)(Object(Lt.a)(r.prototype),"getConnectedSourceRules",this).call(this);return e.push({message:"\u7ed3\u675f\u8282\u70b9\u53ea\u80fd\u8fde\u5165\uff0c\u4e0d\u80fd\u8fde\u51fa\uff01",validate:function(e){var t=!0;return e&&(t=!1),t}}),e}}]),r}(e.CircleNodeModel)}}))}(e),e.render($t),f(e)}),[]);var f=function(e){e.on("element:click",(function(t){var r=t.data;s(r),console.log(JSON.stringify(e.getGraphData()))})),e.on("connection:not-allowed",(function(e){Ht.b.error(e.msg)}))};return Object(n.jsxs)("div",{className:"approve-example-container",children:[Object(n.jsx)("div",{className:"node-panel",children:Qt(r)}),Object(n.jsx)("div",{id:"graph",className:"viewport"}),u?Object(n.jsx)("div",{className:"property-panel",children:Jt(u,(function(e,t){var n=r.graphModel.nodesMap[e],o=r.graphModel.edgesMap[e];n?n.model.setProperties(Object.assign(n.model.properties,t)):o&&o.model.setProperties(Object.assign(o.model.properties,t))}),(function(){s(void 0)}))}):""]})}}),Object(n.jsx)(s.a,{path:"/usage/approve/preview",exact:!0,component:function(){var e=Object(o.useState)(),t=Object(k.a)(e,2),r=t[0],i=t[1],a=Object(o.useState)(Boolean),c=Object(k.a)(a,2),u=c[0],s=c[1],f=Object(o.useState)({}),d=Object(k.a)(f,2),h=d[0],m=d[1];Object(o.useEffect)((function(){var e=new p.a(Object(l.a)(Object(l.a)({},ur),{},{container:document.querySelector("#graph")}));!function(e){e.register("apply",(function(e){return{view:e.CircleNode,model:function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(e,n){var o;Object(y.a)(this,r),o=t.call(this,e,n);var i=e.properties;return o.stroke=tr[i.status],o}return r}(e.CircleNodeModel)}})),e.register("approver",(function(e){var t=e.RectNode,r=e.RectNodeModel,n=e.h,o=function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(){return Object(y.a)(this,r),t.apply(this,arguments)}return Object(b.a)(r,[{key:"getLabelShape",value:function(){var e=Object(It.a)(Object(Lt.a)(r.prototype),"getAttributes",this).call(this),t=e.x,o=e.y,i=e.width,a=e.height,c=e.properties,u=c.labelColor,s=c.approveTypeLabel;return n("text",{fill:u,fontSize:12,x:t-i/2+5,y:o-a/2+15,width:50,height:25},s)}},{key:"getShape",value:function(){var e=Object(It.a)(Object(Lt.a)(r.prototype),"getAttributes",this).call(this),t=e.x,o=e.y,i=e.width,a=e.height,c=e.fill,u=e.stroke,s=e.strokeWidth,l=e.radius;return n("g",{},[n("rect",{x:t-i/2,y:o-a/2,rx:l,ry:l,fill:c,stroke:u,strokeWidth:s,width:i,height:a}),this.getLabelShape()])}}]),r}(t);return o.extendKey="UserTaskNode",{view:o,model:function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(e,n){var o;Object(y.a)(this,r),o=t.call(this,e,n);var i=e.properties;return o.stroke=tr[i.status],o}return r}(r)}})),e.register("jugement",(function(e){return{view:e.PolygonNode,model:function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(e,n){var o;Object(y.a)(this,r),(o=t.call(this,e,n)).points=[[35,0],[70,35],[35,70],[0,35]];var i=e.properties;return o.stroke=tr[i.status],o.properties={api:""},o}return r}(e.PolygonNodeModel)}})),e.register("finsh",(function(e){return{view:e.CircleNode,model:function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(e,n){var o;Object(y.a)(this,r),o=t.call(this,e,n);var i=e.properties;return o.stroke=tr[i.status],o}return r}(e.CircleNodeModel)}})),e.register("action",(function(e){var t=e.PolylineEdge,r=e.PolylineEdgeModel;return console.log(t,r),{view:t,model:function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(e,n){var o;Object(y.a)(this,r),o=t.call(this,e,n);var i=e.properties;return o.stroke=tr[i.status],o.hoverStroke=tr[i.status],o.selectedStroke=tr[i.status],o}return r}(r)}}))}(e),e.render(ar),O(e)}),[]);var O=function(e){e.on("node:mouseenter",(function(e){var t=e.e,r=e.data;i(r),s(!0),r.id?m({top:t.clientY,left:t.clientX}):m({display:"none"})})),e.on("node:mouseleave",(function(){i(void 0),s(!0)}))};return Object(n.jsxs)("div",{className:"approve-example-container",children:[Object(n.jsx)("div",{id:"graph",className:"viewport"}),u?cr(h,r):""]})}}),Object(n.jsx)(s.a,{path:"/",component:function(){return Object(o.useEffect)((function(){new p.a(Object(l.a)(Object(l.a)({},d),{},{container:document.querySelector("#container")})).render(h)}),[]),Object(n.jsx)("div",{id:"container",className:"viewport"})}})]});r(291);var yr=function(){return Object(n.jsx)("div",{className:"App",children:hr})},br=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,306)).then((function(t){var r=t.getCLS,n=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;r(e),n(e),o(e),i(e),a(e)}))};c.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(u.a,{children:Object(n.jsx)(yr,{})})}),document.getElementById("root")),br()},80:function(e,t,r){},9:function(e,t,r){window,e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=14)}([function(e,t,r){"use strict";r.r(t),function(e,n){r.d(t,"$mobx",(function(){return x})),r.d(t,"FlowCancellationError",(function(){return St})),r.d(t,"IDerivationState",(function(){return Q})),r.d(t,"ObservableMap",(function(){return Or})),r.d(t,"ObservableSet",(function(){return _r})),r.d(t,"Reaction",(function(){return Ke})),r.d(t,"_allowStateChanges",(function(){return we})),r.d(t,"_allowStateChangesInsideComputed",(function(){return Pe})),r.d(t,"_allowStateReadsEnd",(function(){return ye})),r.d(t,"_allowStateReadsStart",(function(){return he})),r.d(t,"_endAction",(function(){return _e})),r.d(t,"_getAdministration",(function(){return Tr})),r.d(t,"_getGlobalState",(function(){return Be})),r.d(t,"_interceptReads",(function(){return Dt})),r.d(t,"_isComputingDerivation",(function(){return ce})),r.d(t,"_resetGlobalState",(function(){return Ge})),r.d(t,"_startAction",(function(){return xe})),r.d(t,"action",(function(){return it})),r.d(t,"autorun",(function(){return st})),r.d(t,"comparer",(function(){return S})),r.d(t,"computed",(function(){return ne})),r.d(t,"configure",(function(){return bt})),r.d(t,"createAtom",(function(){return E})),r.d(t,"decorate",(function(){return vt})),r.d(t,"entries",(function(){return Gt})),r.d(t,"extendObservable",(function(){return gt})),r.d(t,"flow",(function(){return kt})),r.d(t,"get",(function(){return Ht})),r.d(t,"getAtom",(function(){return Mr})),r.d(t,"getDebugName",(function(){return Cr})),r.d(t,"getDependencyTree",(function(){return jt})),r.d(t,"getObserverTree",(function(){return _t})),r.d(t,"has",(function(){return Ft})),r.d(t,"intercept",(function(){return Nt})),r.d(t,"isAction",(function(){return ct})),r.d(t,"isArrayLike",(function(){return y})),r.d(t,"isBoxedObservable",(function(){return Ae})),r.d(t,"isComputed",(function(){return Tt})),r.d(t,"isComputedProp",(function(){return Ct})),r.d(t,"isFlowCancellationError",(function(){return Pt})),r.d(t,"isObservable",(function(){return It})),r.d(t,"isObservableArray",(function(){return vr})),r.d(t,"isObservableMap",(function(){return jr})),r.d(t,"isObservableObject",(function(){return Nr})),r.d(t,"isObservableProp",(function(){return Lt})),r.d(t,"isObservableSet",(function(){return wr})),r.d(t,"keys",(function(){return zt})),r.d(t,"observable",(function(){return $})),r.d(t,"observe",(function(){return Vt})),r.d(t,"onBecomeObserved",(function(){return dt})),r.d(t,"onBecomeUnobserved",(function(){return ht})),r.d(t,"onReactionError",(function(){return qe})),r.d(t,"reaction",(function(){return pt})),r.d(t,"remove",(function(){return Ut})),r.d(t,"runInAction",(function(){return at})),r.d(t,"set",(function(){return Xt})),r.d(t,"spy",(function(){return tt})),r.d(t,"toJS",(function(){return Kt})),r.d(t,"trace",(function(){return qt})),r.d(t,"transaction",(function(){return $t})),r.d(t,"untracked",(function(){return fe})),r.d(t,"values",(function(){return Bt})),r.d(t,"when",(function(){return Jt}));var o=[];Object.freeze(o);var i={};function a(){return++ze.mobxGuid}function c(e){throw u(!1,e),"X"}function u(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is a production build."))}function s(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}Object.freeze(i);var l=function(){};function f(e){return null!==e&&"object"==typeof e}function p(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function d(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:r})}function h(e,t){var r="isMobX"+e;return t.prototype[r]=!0,function(e){return f(e)&&!0===e[r]}}function y(e){return Array.isArray(e)||vr(e)}function b(e){return e instanceof Map}function v(e){return e instanceof Set}function g(e){var t=new Set;for(var r in e)t.add(r);return Object.getOwnPropertySymbols(e).forEach((function(r){Object.getOwnPropertyDescriptor(e,r).enumerable&&t.add(r)})),Array.from(t)}function m(e){return e&&e.toString?e.toString():new String(e).toString()}function O(e){return null===e?null:"object"==typeof e?""+e:e}var j="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,x=Symbol("mobx administration"),_=function(){function e(e){void 0===e&&(e="Atom@"+a()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Q.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.reportObserved=function(){return Ye(this)},e.prototype.reportChanged=function(){He(),function(e){e.lowestObserverState!==Q.STALE&&(e.lowestObserverState=Q.STALE,e.observers.forEach((function(t){t.dependenciesState===Q.UP_TO_DATE&&(t.isTracing!==ee.NONE&&We(t,e),t.onBecomeStale()),t.dependenciesState=Q.STALE})))}(this),Ve()},e.prototype.toString=function(){return this.name},e}(),w=h("Atom",_);function E(e,t,r){void 0===t&&(t=l),void 0===r&&(r=l);var n=new _(e);return t!==l&&dt(n,t),r!==l&&ht(n,r),n}var S={identity:function(e,t){return e===t},structural:function(e,t){return Ir(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return Ir(e,t,1)}},P=function(e,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},k=function(){return(k=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function A(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function D(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function N(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(D(arguments[t]));return e}var M=Symbol("mobx did run lazy initializers"),T=Symbol("mobx pending decorators"),C={},R={};function I(e,t){var r=t?C:R;return r[e]||(r[e]={configurable:!0,enumerable:t,get:function(){return L(this),this[e]},set:function(t){L(this),this[e]=t}})}function L(e){var t,r;if(!0!==e[M]){var n=e[T];if(n){d(e,M,!0);var o=N(Object.getOwnPropertySymbols(n),Object.keys(n));try{for(var i=A(o),a=i.next();!a.done;a=i.next()){var c=n[a.value];c.propertyCreator(e,c.prop,c.descriptor,c.decoratorTarget,c.decoratorArguments)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}}}function z(e,t){return function(){var r,n=function(n,o,i,a){if(!0===a)return t(n,o,i,n,r),null;if(!Object.prototype.hasOwnProperty.call(n,T)){var c=n[T];d(n,T,k({},c))}return n[T][o]={prop:o,propertyCreator:t,descriptor:i,decoratorTarget:n,decoratorArguments:r},I(o,e)};return B(arguments)?(r=o,n.apply(null,arguments)):(r=Array.prototype.slice.call(arguments),n)}}function B(e){return(2===e.length||3===e.length)&&("string"==typeof e[1]||"symbol"==typeof e[1])||4===e.length&&!0===e[3]}function G(e,t,r){return It(e)?e:Array.isArray(e)?$.array(e,{name:r}):p(e)?$.object(e,void 0,{name:r}):b(e)?$.map(e,{name:r}):v(e)?$.set(e,{name:r}):e}function X(e){return e}function U(t){u(t);var r=z(!0,(function(e,r,n,o,i){var a=n?n.initializer?n.initializer.call(e):n.value:void 0;Sr(e).addObservableProp(r,a,t)})),n=(void 0!==e&&e.env,r);return n.enhancer=t,n}var F={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function H(e){return null==e?F:"string"==typeof e?{name:e,deep:!0,proxy:!0}:e}Object.freeze(F);var V=U(G),Y=U((function(e,t,r){return null==e||Nr(e)||vr(e)||jr(e)||wr(e)?e:Array.isArray(e)?$.array(e,{name:r,deep:!1}):p(e)?$.object(e,void 0,{name:r,deep:!1}):b(e)?$.map(e,{name:r,deep:!1}):v(e)?$.set(e,{name:r,deep:!1}):c(!1)})),W=U(X),K=U((function(e,t,r){return Ir(e,t)?t:e}));function q(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?X:G}var Z={box:function(e,t){arguments.length>2&&J("box");var r=H(t);return new ke(e,q(r),r.name,!0,r.equals)},array:function(e,t){arguments.length>2&&J("array");var r=H(t);return pr(e,q(r),r.name)},map:function(e,t){arguments.length>2&&J("map");var r=H(t);return new Or(e,q(r),r.name)},set:function(e,t){arguments.length>2&&J("set");var r=H(t);return new _r(e,q(r),r.name)},object:function(e,t,r){"string"==typeof arguments[1]&&J("object");var n=H(r);if(!1===n.proxy)return gt({},e,t,n);var o=mt(n),i=or(gt({},void 0,void 0,n));return Ot(i,e,t,o),i},ref:W,shallow:Y,deep:V,struct:K},$=function e(t,r,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return V.apply(null,arguments);if(It(t))return t;var o=p(t)?e.object(t,r,n):Array.isArray(t)?e.array(t,r):b(t)?e.map(t,r):v(t)?e.set(t,r):t;if(o!==t)return o;c(!1)};function J(e){c("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(Z).forEach((function(e){return $[e]=Z[e]}));var Q,ee,te=z(!1,(function(e,t,r,n,o){var i=r.get,a=r.set,c=o[0]||{};Sr(e).addComputedProp(e,t,k({get:i,set:a,context:e},c))})),re=te({equals:S.structural}),ne=function(e,t,r){if("string"==typeof t)return te.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return te.apply(null,arguments);var n="object"==typeof t?t:{};return n.get=e,n.set="function"==typeof t?t:n.set,n.name=n.name||e.name||"",new De(n)};ne.struct=re,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(Q||(Q={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(ee||(ee={}));var oe=function(e){this.cause=e};function ie(e){return e instanceof oe}function ae(e){switch(e.dependenciesState){case Q.UP_TO_DATE:return!1;case Q.NOT_TRACKING:case Q.STALE:return!0;case Q.POSSIBLY_STALE:for(var t=he(!0),r=pe(),n=e.observing,o=n.length,i=0;i<o;i++){var a=n[i];if(Ne(a)){if(ze.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return de(r),ye(t),!0}if(e.dependenciesState===Q.STALE)return de(r),ye(t),!0}}return be(e),de(r),ye(t),!1}}function ce(){return null!==ze.trackingDerivation}function ue(e){var t=e.observers.size>0;ze.computationDepth>0&&t&&c(!1),ze.allowStateChanges||!t&&"strict"!==ze.enforceActions||c(!1)}function se(e,t,r){var n=he(!0);be(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++ze.runId;var o,i=ze.trackingDerivation;if(ze.trackingDerivation=e,!0===ze.disableErrorBoundaries)o=t.call(r);else try{o=t.call(r)}catch(e){o=new oe(e)}return ze.trackingDerivation=i,function(e){for(var t=e.observing,r=e.observing=e.newObserving,n=Q.UP_TO_DATE,o=0,i=e.unboundDepsCount,a=0;a<i;a++)0===(c=r[a]).diffValue&&(c.diffValue=1,o!==a&&(r[o]=c),o++),c.dependenciesState>n&&(n=c.dependenciesState);for(r.length=o,e.newObserving=null,i=t.length;i--;)0===(c=t[i]).diffValue&&Ue(c,e),c.diffValue=0;for(;o--;){var c;1===(c=r[o]).diffValue&&(c.diffValue=0,Xe(c,e))}n!==Q.UP_TO_DATE&&(e.dependenciesState=n,e.onBecomeStale())}(e),ye(n),o}function le(e){var t=e.observing;e.observing=[];for(var r=t.length;r--;)Ue(t[r],e);e.dependenciesState=Q.NOT_TRACKING}function fe(e){var t=pe();try{return e()}finally{de(t)}}function pe(){var e=ze.trackingDerivation;return ze.trackingDerivation=null,e}function de(e){ze.trackingDerivation=e}function he(e){var t=ze.allowStateReads;return ze.allowStateReads=e,t}function ye(e){ze.allowStateReads=e}function be(e){if(e.dependenciesState!==Q.UP_TO_DATE){e.dependenciesState=Q.UP_TO_DATE;for(var t=e.observing,r=t.length;r--;)t[r].lowestObserverState=Q.UP_TO_DATE}}var ve=0,ge=1,me=Object.getOwnPropertyDescriptor((function(){}),"name");function Oe(e,t,r){var n=function(){return je(e,t,r||this,arguments)};return n.isMobxAction=!0,n}function je(e,t,r,n){var o=xe(e,r,n);try{return t.apply(r,n)}catch(e){throw o.error=e,e}finally{_e(o)}}function xe(e,t,r){var n=0,o=pe();He();var i={prevDerivation:o,prevAllowStateChanges:Ee(!0),prevAllowStateReads:he(!0),notifySpy:!1,startTime:n,actionId:ge++,parentActionId:ve};return ve=i.actionId,i}function _e(e){ve!==e.actionId&&c("invalid action stack. did you forget to finish an action?"),ve=e.parentActionId,void 0!==e.error&&(ze.suppressReactionErrors=!0),Se(e.prevAllowStateChanges),ye(e.prevAllowStateReads),Ve(),de(e.prevDerivation),e.notifySpy,ze.suppressReactionErrors=!1}function we(e,t){var r,n=Ee(e);try{r=t()}finally{Se(n)}return r}function Ee(e){var t=ze.allowStateChanges;return ze.allowStateChanges=e,t}function Se(e){ze.allowStateChanges=e}function Pe(e){var t,r=ze.computationDepth;ze.computationDepth=0;try{t=e()}finally{ze.computationDepth=r}return t}me&&me.configurable;var ke=function(e){function t(t,r,n,o,i){void 0===n&&(n="ObservableValue@"+a()),void 0===o&&(o=!0),void 0===i&&(i=S.default);var c=e.call(this,n)||this;return c.enhancer=r,c.name=n,c.equals=i,c.hasUnreportedChange=!1,c.value=r(t,void 0,n),c}return function(e,t){function r(){this.constructor=e}P(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){this.value,(e=this.prepareNewValue(e))!==ze.UNCHANGED&&this.setNewValue(e)},t.prototype.prepareNewValue=function(e){if(ue(this),ir(this)){var t=cr(this,{object:this,type:"update",newValue:e});if(!t)return ze.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?ze.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),ur(this)&&lr(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return ar(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),sr(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return O(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(_),Ae=h("ObservableValue",ke),De=function(){function e(e){this.dependenciesState=Q.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Q.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+a(),this.value=new oe(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ee.NONE,u(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+a(),e.set&&(this.setter=Oe(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?S.structural:S.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){e.lowestObserverState===Q.UP_TO_DATE&&(e.lowestObserverState=Q.POSSIBLY_STALE,e.observers.forEach((function(t){t.dependenciesState===Q.UP_TO_DATE&&(t.dependenciesState=Q.POSSIBLY_STALE,t.isTracing!==ee.NONE&&We(t,e),t.onBecomeStale())})))}(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.get=function(){this.isComputing&&c("Cycle detected in computation "+this.name+": "+this.derivation),0!==ze.inBatch||0!==this.observers.size||this.keepAlive?(Ye(this),ae(this)&&this.trackAndCompute()&&function(e){e.lowestObserverState!==Q.STALE&&(e.lowestObserverState=Q.STALE,e.observers.forEach((function(t){t.dependenciesState===Q.POSSIBLY_STALE?t.dependenciesState=Q.STALE:t.dependenciesState===Q.UP_TO_DATE&&(e.lowestObserverState=Q.UP_TO_DATE)})))}(this)):ae(this)&&(this.warnAboutUntrackedRead(),He(),this.value=this.computeValue(!1),Ve());var e=this.value;if(ie(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(ie(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){u(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else u(!1,!1)},e.prototype.trackAndCompute=function(){var e=this.value,t=this.dependenciesState===Q.NOT_TRACKING,r=this.computeValue(!0),n=t||ie(e)||ie(r)||!this.equals(e,r);return n&&(this.value=r),n},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,ze.computationDepth++,e)t=se(this,this.derivation,this.scope);else if(!0===ze.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new oe(e)}return ze.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(le(this),this.value=void 0)},e.prototype.observe=function(e,t){var r=this,n=!0,o=void 0;return st((function(){var i=r.get();if(!n||t){var a=pe();e({type:"update",object:r,newValue:i,oldValue:o}),de(a)}n=!1,o=i}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return O(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),Ne=h("ComputedValue",De),Me=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"],Te=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Ce={};function Re(){return"undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:Ce}var Ie=!0,Le=!1,ze=function(){var e=Re();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Ie=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Te).version&&(Ie=!1),Ie?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Te):(setTimeout((function(){Le||c("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Te)}();function Be(){return ze}function Ge(){var e=new Te;for(var t in e)-1===Me.indexOf(t)&&(ze[t]=e[t]);ze.allowStateChanges=!ze.enforceActions}function Xe(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Ue(e,t){e.observers.delete(t),0===e.observers.size&&Fe(e)}function Fe(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,ze.pendingUnobservations.push(e))}function He(){ze.inBatch++}function Ve(){if(0==--ze.inBatch){$e();for(var e=ze.pendingUnobservations,t=0;t<e.length;t++){var r=e[t];r.isPendingUnobservation=!1,0===r.observers.size&&(r.isBeingObserved&&(r.isBeingObserved=!1,r.onBecomeUnobserved()),r instanceof De&&r.suspend())}ze.pendingUnobservations=[]}}function Ye(e){var t=ze.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&ze.inBatch>0&&Fe(e),!1)}function We(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===ee.BREAK){var r=[];!function e(t,r,n){r.length>=1e3?r.push("(and many more)"):(r.push(""+new Array(n).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return e(t,r,n+1)})))}(jt(e),r,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof De?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+r.join("\n")+"\n*/\n    ")()}}var Ke=function(){function e(e,t,r,n){void 0===e&&(e="Reaction@"+a()),void 0===n&&(n=!1),this.name=e,this.onInvalidate=t,this.errorHandler=r,this.requiresObservable=n,this.observing=[],this.newObserving=[],this.dependenciesState=Q.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+a(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ee.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ze.pendingReactions.push(this),$e())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(He(),this._isScheduled=!1,ae(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(e){this.reportExceptionInDerivation(e)}}Ve()}},e.prototype.track=function(e){if(!this.isDisposed){He(),this._isRunning=!0;var t=se(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&le(this),ie(t)&&this.reportExceptionInDerivation(t.cause),Ve()}},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(ze.disableErrorBoundaries)throw e;var r="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";ze.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(r,e),ze.globalReactionErrorHandlers.forEach((function(r){return r(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(He(),le(this),Ve()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[x]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),qt(this,e)},e}();function qe(e){return ze.globalReactionErrorHandlers.push(e),function(){var t=ze.globalReactionErrorHandlers.indexOf(e);t>=0&&ze.globalReactionErrorHandlers.splice(t,1)}}var Ze=function(e){return e()};function $e(){ze.inBatch>0||ze.isRunningReactions||Ze(Je)}function Je(){ze.isRunningReactions=!0;for(var e=ze.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var r=e.splice(0),n=0,o=r.length;n<o;n++)r[n].runReaction()}ze.isRunningReactions=!1}var Qe=h("Reaction",Ke);function et(e){var t=Ze;Ze=function(r){return e((function(){return t(r)}))}}function tt(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function rt(){c(!1)}function nt(e){return function(t,r,n){if(n){if(n.value)return{value:Oe(e,n.value),enumerable:!1,configurable:!0,writable:!0};var o=n.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Oe(e,o.call(this))}}}return ot(e).apply(this,arguments)}}function ot(e){return function(t,r,n){Object.defineProperty(t,r,{configurable:!0,enumerable:!1,get:function(){},set:function(t){d(this,r,it(e,t))}})}}var it=function(e,t,r,n){return 1===arguments.length&&"function"==typeof e?Oe(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?Oe(e,t):1===arguments.length&&"string"==typeof e?nt(e):!0!==n?nt(t).apply(null,arguments):void d(e,t,Oe(e.name||t,r.value,this))};function at(e,t){return je("string"==typeof e?e:e.name||"<unnamed action>","function"==typeof e?e:t,this,void 0)}function ct(e){return"function"==typeof e&&!0===e.isMobxAction}function ut(e,t,r){d(e,t,Oe(t,r.bind(e)))}function st(e,t){void 0===t&&(t=i);var r,n=t&&t.name||e.name||"Autorun@"+a();if(t.scheduler||t.delay){var o=ft(t),c=!1;r=new Ke(n,(function(){c||(c=!0,o((function(){c=!1,r.isDisposed||r.track(u)})))}),t.onError,t.requiresObservable)}else r=new Ke(n,(function(){this.track(u)}),t.onError,t.requiresObservable);function u(){e(r)}return r.schedule(),r.getDisposer()}it.bound=function(e,t,r,n){return!0===n?(ut(e,t,r.value),null):r?{configurable:!0,enumerable:!1,get:function(){return ut(this,t,r.value||r.initializer.call(this)),this[t]},set:rt}:{enumerable:!1,configurable:!0,set:function(e){ut(this,t,e)},get:function(){}}};var lt=function(e){return e()};function ft(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:lt}function pt(e,t,r){void 0===r&&(r=i);var n,o,c,u=r.name||"Reaction@"+a(),s=it(u,r.onError?(n=r.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){n.call(this,e)}}):t),l=!r.scheduler&&!r.delay,f=ft(r),p=!0,d=!1,h=r.compareStructural?S.structural:r.equals||S.default,y=new Ke(u,(function(){p||l?b():d||(d=!0,f(b))}),r.onError,r.requiresObservable);function b(){if(d=!1,!y.isDisposed){var t=!1;y.track((function(){var r=e(y);t=p||!h(c,r),c=r})),p&&r.fireImmediately&&s(c,y),p||!0!==t||s(c,y),p&&(p=!1)}}return y.schedule(),y.getDisposer()}function dt(e,t,r){return yt("onBecomeObserved",e,t,r)}function ht(e,t,r){return yt("onBecomeUnobserved",e,t,r)}function yt(e,t,r,n){var o="function"==typeof n?Mr(t,r):Mr(t),i="function"==typeof n?n:r,a=e+"Listeners";return o[a]?o[a].add(i):o[a]=new Set([i]),"function"!=typeof o[e]?c(!1):function(){var e=o[a];e&&(e.delete(i),0===e.size&&delete o[a])}}function bt(e){var t=e.enforceActions,r=e.computedRequiresReaction,n=e.computedConfigurable,o=e.disableErrorBoundaries,i=e.reactionScheduler,a=e.reactionRequiresObservable,u=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((ze.pendingReactions.length||ze.inBatch||ze.isRunningReactions)&&c("isolateGlobalState should be called before MobX is running any reactions"),Le=!0,Ie&&(0==--Re().__mobxInstanceCount&&(Re().__mobxGlobals=void 0),ze=new Te)),void 0!==t){var s=void 0;switch(t){case!0:case"observed":s=!0;break;case!1:case"never":s=!1;break;case"strict":case"always":s="strict";break;default:c("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}ze.enforceActions=s,ze.allowStateChanges=!0!==s&&"strict"!==s}void 0!==r&&(ze.computedRequiresReaction=!!r),void 0!==a&&(ze.reactionRequiresObservable=!!a),void 0!==u&&(ze.observableRequiresReaction=!!u,ze.allowStateReads=!ze.observableRequiresReaction),void 0!==n&&(ze.computedConfigurable=!!n),void 0!==o&&(!0===o&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),ze.disableErrorBoundaries=!!o),i&&et(i)}function vt(e,t){var r="function"==typeof e?e.prototype:e,n=function(e){var n=t[e];Array.isArray(n)||(n=[n]);var o=Object.getOwnPropertyDescriptor(r,e),i=n.reduce((function(t,n){return n(r,e,t)}),o);i&&Object.defineProperty(r,e,i)};for(var o in t)n(o);return e}function gt(e,t,r,n){var o=mt(n=H(n));return L(e),Sr(e,n.name,o.enhancer),t&&Ot(e,t,r,o),e}function mt(e){return e.defaultDecorator||(!1===e.deep?W:V)}function Ot(e,t,r,n){var o,i;He();try{var a=j(t);try{for(var c=A(a),u=c.next();!u.done;u=c.next()){var s=u.value,l=Object.getOwnPropertyDescriptor(t,s),f=(r&&s in r?r[s]:l.get?te:n)(e,s,l,!0);f&&Object.defineProperty(e,s,f)}}catch(e){o={error:e}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}}finally{Ve()}}function jt(e,t){return xt(Mr(e,t))}function xt(e){var t,r,n={name:e.name};return e.observing&&e.observing.length>0&&(n.dependencies=(t=e.observing,r=[],t.forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r).map(xt)),n}function _t(e,t){return wt(Mr(e,t))}function wt(e){var t={name:e.name};return function(e){return e.observers&&e.observers.size>0}(e)&&(t.observers=Array.from(function(e){return e.observers}(e)).map(wt)),t}var Et=0;function St(){this.message="FLOW_CANCELLED"}function Pt(e){return e instanceof St}function kt(e){1!==arguments.length&&c("Flow expects 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var r,n=this,o=arguments,i=++Et,a=it(t+" - runid: "+i+" - init",e).apply(n,o),c=void 0,u=new Promise((function(e,n){var o=0;function u(e){var r;c=void 0;try{r=it(t+" - runid: "+i+" - yield "+o++,a.next).call(a,e)}catch(e){return n(e)}l(r)}function s(e){var r;c=void 0;try{r=it(t+" - runid: "+i+" - yield "+o++,a.throw).call(a,e)}catch(e){return n(e)}l(r)}function l(t){if(!t||"function"!=typeof t.then)return t.done?e(t.value):(c=Promise.resolve(t.value)).then(u,s);t.then(l,n)}r=n,u(void 0)}));return u.cancel=it(t+" - runid: "+i+" - cancel",(function(){try{c&&At(c);var e=a.return(void 0),t=Promise.resolve(e.value);t.then(l,l),At(t),r(new St)}catch(e){r(e)}})),u}}function At(e){"function"==typeof e.cancel&&e.cancel()}function Dt(e,t,r){var n;if(jr(e)||vr(e)||Ae(e))n=Tr(e);else{if(!Nr(e))return c(!1);if("string"!=typeof t)return c(!1);n=Tr(e,t)}return void 0!==n.dehancer?c(!1):(n.dehancer="function"==typeof t?t:r,function(){n.dehancer=void 0})}function Nt(e,t,r){return"function"==typeof r?function(e,t,r){return Tr(e,t).intercept(r)}(e,t,r):function(e,t){return Tr(e).intercept(t)}(e,t)}function Mt(e,t){if(null==e)return!1;if(void 0!==t){if(!1===Nr(e))return!1;if(!e[x].values.has(t))return!1;var r=Mr(e,t);return Ne(r)}return Ne(e)}function Tt(e){return arguments.length>1?c(!1):Mt(e)}function Ct(e,t){return"string"!=typeof t?c(!1):Mt(e,t)}function Rt(e,t){return null!=e&&(void 0!==t?!!Nr(e)&&e[x].values.has(t):Nr(e)||!!e[x]||w(e)||Qe(e)||Ne(e))}function It(e){return 1!==arguments.length&&c(!1),Rt(e)}function Lt(e,t){return"string"!=typeof t?c(!1):Rt(e,t)}function zt(e){return Nr(e)?e[x].getKeys():jr(e)||wr(e)?Array.from(e.keys()):vr(e)?e.map((function(e,t){return t})):c(!1)}function Bt(e){return Nr(e)?zt(e).map((function(t){return e[t]})):jr(e)?zt(e).map((function(t){return e.get(t)})):wr(e)?Array.from(e.values()):vr(e)?e.slice():c(!1)}function Gt(e){return Nr(e)?zt(e).map((function(t){return[t,e[t]]})):jr(e)?zt(e).map((function(t){return[t,e.get(t)]})):wr(e)?Array.from(e.entries()):vr(e)?e.map((function(e,t){return[t,e]})):c(!1)}function Xt(e,t,r){if(2!==arguments.length||wr(e))if(Nr(e)){var n=e[x];n.values.get(t)?n.write(t,r):n.addObservableProp(t,r,n.defaultEnhancer)}else if(jr(e))e.set(t,r);else if(wr(e))e.add(t);else{if(!vr(e))return c(!1);"number"!=typeof t&&(t=parseInt(t,10)),u(t>=0,"Not a valid index: '"+t+"'"),He(),t>=e.length&&(e.length=t+1),e[t]=r,Ve()}else{He();var o=t;try{for(var i in o)Xt(e,i,o[i])}finally{Ve()}}}function Ut(e,t){if(Nr(e))e[x].remove(t);else if(jr(e))e.delete(t);else if(wr(e))e.delete(t);else{if(!vr(e))return c(!1);"number"!=typeof t&&(t=parseInt(t,10)),u(t>=0,"Not a valid index: '"+t+"'"),e.splice(t,1)}}function Ft(e,t){return Nr(e)?Tr(e).has(t):jr(e)||wr(e)?e.has(t):vr(e)?t>=0&&t<e.length:c(!1)}function Ht(e,t){if(Ft(e,t))return Nr(e)?e[t]:jr(e)?e.get(t):vr(e)?e[t]:c(!1)}function Vt(e,t,r,n){return"function"==typeof r?function(e,t,r,n){return Tr(e,t).observe(r,n)}(e,t,r,n):function(e,t,r){return Tr(e).observe(t,r)}(e,t,r)}St.prototype=Object.create(Error.prototype);var Yt={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Wt(e,t,r,n){return n.detectCycles&&e.set(t,r),r}function Kt(e,t){var r;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=Yt),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(r=new Map),function e(t,r,n){if(!r.recurseEverything&&!It(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(Ae(t))return e(t.get(),r,n);if(It(t)&&zt(t),!0===r.detectCycles&&null!==t&&n.has(t))return n.get(t);if(vr(t)||Array.isArray(t)){var o=Wt(n,t,[],r),i=t.map((function(t){return e(t,r,n)}));o.length=i.length;for(var a=0,c=i.length;a<c;a++)o[a]=i[a];return o}if(wr(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===r.exportMapsAsObjects){var u=Wt(n,t,new Set,r);return t.forEach((function(t){u.add(e(t,r,n))})),u}var s=Wt(n,t,[],r);return t.forEach((function(t){s.push(e(t,r,n))})),s}if(jr(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===r.exportMapsAsObjects){var l=Wt(n,t,new Map,r);return t.forEach((function(t,o){l.set(o,e(t,r,n))})),l}var f=Wt(n,t,{},r);return t.forEach((function(t,o){f[o]=e(t,r,n)})),f}var p=Wt(n,t,{},r);return g(t).forEach((function(o){p[o]=e(t[o],r,n)})),p}(e,t,r)}function qt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=!1;"boolean"==typeof e[e.length-1]&&(r=e.pop());var n=Zt(e);if(!n)return c(!1);n.isTracing===ee.NONE&&console.log("[mobx.trace] '"+n.name+"' tracing enabled"),n.isTracing=r?ee.BREAK:ee.LOG}function Zt(e){switch(e.length){case 0:return ze.trackingDerivation;case 1:return Mr(e[0]);case 2:return Mr(e[0],e[1])}}function $t(e,t){void 0===t&&(t=void 0),He();try{return e.apply(t)}finally{Ve()}}function Jt(e,t,r){return 1===arguments.length||t&&"object"==typeof t?er(e,t):Qt(e,t,r||{})}function Qt(e,t,r){var n;"number"==typeof r.timeout&&(n=setTimeout((function(){if(!i[x].isDisposed){i();var e=new Error("WHEN_TIMEOUT");if(!r.onError)throw e;r.onError(e)}}),r.timeout)),r.name=r.name||"When@"+a();var o=Oe(r.name+"-effect",t),i=st((function(t){e()&&(t.dispose(),n&&clearTimeout(n),o())}),r);return i}function er(e,t){var r,n=new Promise((function(n,o){var i=Qt(e,n,k(k({},t),{onError:o}));r=function(){i(),o("WHEN_CANCELLED")}}));return n.cancel=r,n}function tr(e){return e[x]}function rr(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e}var nr={has:function(e,t){if(t===x||"constructor"===t||t===M)return!0;var r=tr(e);return rr(t)?r.has(t):t in e},get:function(e,t){if(t===x||"constructor"===t||t===M)return e[t];var r=tr(e),n=r.values.get(t);if(n instanceof _){var o=n.get();return void 0===o&&r.has(t),o}return rr(t)&&r.has(t),e[t]},set:function(e,t,r){return!!rr(t)&&(Xt(e,t,r),!0)},deleteProperty:function(e,t){return!!rr(t)&&(tr(e).remove(t),!0)},ownKeys:function(e){return tr(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return c("Dynamic observable objects cannot be frozen"),!1}};function or(e){var t=new Proxy(e,nr);return e[x].proxy=t,t}function ir(e){return void 0!==e.interceptors&&e.interceptors.length>0}function ar(e,t){var r=e.interceptors||(e.interceptors=[]);return r.push(t),s((function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}))}function cr(e,t){var r=pe();try{for(var n=N(e.interceptors||[]),o=0,i=n.length;o<i&&(u(!(t=n[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{de(r)}}function ur(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function sr(e,t){var r=e.changeListeners||(e.changeListeners=[]);return r.push(t),s((function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}))}function lr(e,t){var r=pe(),n=e.changeListeners;if(n){for(var o=0,i=(n=n.slice()).length;o<i;o++)n[o](t);de(r)}}var fr={get:function(e,t){return t===x?e[x]:"length"===t?e[x].getArrayLength():"number"==typeof t?hr.get.call(e,t):"string"!=typeof t||isNaN(t)?hr.hasOwnProperty(t)?hr[t]:e[t]:hr.get.call(e,parseInt(t))},set:function(e,t,r){return"length"===t&&e[x].setArrayLength(r),"number"==typeof t&&hr.set.call(e,t,r),"symbol"==typeof t||isNaN(t)?e[t]=r:hr.set.call(e,parseInt(t),r),!0},preventExtensions:function(e){return c("Observable arrays cannot be frozen"),!1}};function pr(e,t,r,n){void 0===r&&(r="ObservableArray@"+a()),void 0===n&&(n=!1);var o,i,c,u=new dr(r,t,n);o=u.values,i=x,c=u,Object.defineProperty(o,i,{enumerable:!1,writable:!1,configurable:!0,value:c});var s=new Proxy(u.values,fr);if(u.proxy=s,e&&e.length){var l=Ee(!0);u.spliceWithArray(0,0,e),Se(l)}return s}var dr=function(){function e(e,t,r){this.owned=r,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new _(e||"ObservableArray@"+a()),this.enhancer=function(r,n){return t(r,n,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return ar(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),sr(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var r=new Array(e-t),n=0;n<e-t;n++)r[n]=void 0;this.spliceWithArray(t,0,r)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,r){var n=this;ue(this.atom);var i=this.values.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===r&&(r=o),ir(this)){var a=cr(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:r});if(!a)return o;t=a.removedCount,r=a.added}r=0===r.length?r:r.map((function(e){return n.enhancer(e,void 0)}));var c=this.spliceItemsIntoValues(e,t,r);return 0===t&&0===r.length||this.notifyArraySplice(e,r,c),this.dehanceValues(c)},e.prototype.spliceItemsIntoValues=function(e,t,r){var n;if(r.length<1e4)return(n=this.values).splice.apply(n,N([e,t],r));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(r,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,r){var n=!this.owned&&!1,o=ur(this),i=o||n?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:r}:null;this.atom.reportChanged(),o&&lr(this,i)},e.prototype.notifyArraySplice=function(e,t,r){var n=!this.owned&&!1,o=ur(this),i=o||n?{object:this.proxy,type:"splice",index:e,removed:r,added:t,removedCount:r.length,addedCount:t.length}:null;this.atom.reportChanged(),o&&lr(this,i)},e}(),hr={intercept:function(e){return this[x].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[x].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[x];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=this[x];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(e);case 2:return o.spliceWithArray(e,t)}return o.spliceWithArray(e,t,r)},spliceWithArray:function(e,t,r){return this[x].spliceWithArray(e,t,r)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this[x];return r.spliceWithArray(r.values.length,0,e),r.values.length},pop:function(){return this.splice(Math.max(this[x].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this[x];return r.spliceWithArray(0,0,e),r.values.length},reverse:function(){var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[x],r=t.dehanceValues(t.values).indexOf(e);return r>-1&&(this.splice(r,1),!0)},get:function(e){var t=this[x];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var r=this[x],n=r.values;if(e<n.length){ue(r.atom);var o=n[e];if(ir(r)){var i=cr(r,{type:"update",object:r.proxy,index:e,newValue:t});if(!i)return;t=i.newValue}(t=r.enhancer(t,o))!==o&&(n[e]=t,r.notifyArrayChildUpdate(e,t,o))}else{if(e!==n.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+n.length);r.spliceWithArray(e,0,[t])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){"function"==typeof Array.prototype[e]&&(hr[e]=function(){var t=this[x];t.atom.reportObserved();var r=t.dehanceValues(t.values);return r[e].apply(r,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(e){"function"==typeof Array.prototype[e]&&(hr[e]=function(t,r){var n=this,o=this[x];return o.atom.reportObserved(),o.dehanceValues(o.values)[e]((function(e,o){return t.call(r,e,o,n)}),r)})})),["reduce","reduceRight"].forEach((function(e){hr[e]=function(){var t=this,r=this[x];r.atom.reportObserved();var n=arguments[0];return arguments[0]=function(e,o,i){return o=r.dehanceValue(o),n(e,o,i,t)},r.values[e].apply(r.values,arguments)}}));var yr,br=h("ObservableArrayAdministration",dr);function vr(e){return f(e)&&br(e[x])}var gr,mr={},Or=function(){function e(e,t,r){if(void 0===t&&(t=G),void 0===r&&(r="ObservableMap@"+a()),this.enhancer=t,this.name=r,this[yr]=mr,this._keysAtom=E(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!ze.trackingDerivation)return this._has(e);var r=this._hasMap.get(e);if(!r){var n=r=new ke(this._has(e),X,this.name+"."+m(e)+"?",!1);this._hasMap.set(e,n),ht(n,(function(){return t._hasMap.delete(e)}))}return r.get()},e.prototype.set=function(e,t){var r=this._has(e);if(ir(this)){var n=cr(this,{type:r?"update":"add",object:this,newValue:t,name:e});if(!n)return this;t=n.newValue}return r?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(ue(this._keysAtom),ir(this)&&!(n=cr(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var r=ur(this),n=r?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return $t((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),r&&lr(this,n),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var r=this._hasMap.get(e);r&&r.setNewValue(t)},e.prototype._updateValue=function(e,t){var r=this._data.get(e);if((t=r.prepareNewValue(t))!==ze.UNCHANGED){var n=ur(this),o=n?{type:"update",object:this,oldValue:r.value,name:e,newValue:t}:null;r.setNewValue(t),n&&lr(this,o)}},e.prototype._addValue=function(e,t){var r=this;ue(this._keysAtom),$t((function(){var n=new ke(t,r.enhancer,r.name+"."+m(e),!1);r._data.set(e,n),t=n.value,r._updateHasMapEntry(e,!0),r._keysAtom.reportChanged()}));var n=ur(this);n&&lr(this,n?{type:"add",object:this,name:e,newValue:t}:null)},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return Br({next:function(){var r=t.next(),n=r.done,o=r.value;return{done:n,value:n?void 0:e.get(o)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return Br({next:function(){var r=t.next(),n=r.done,o=r.value;return{done:n,value:n?void 0:[o,e.get(o)]}}})},e.prototype[(yr=x,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var r,n;try{for(var o=A(this),i=o.next();!i.done;i=o.next()){var a=D(i.value,2),c=a[0],u=a[1];e.call(t,u,c,this)}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},e.prototype.merge=function(e){var t=this;return jr(e)&&(e=e.toJS()),$t((function(){var r=Ee(!0);try{p(e)?g(e).forEach((function(r){return t.set(r,e[r])})):Array.isArray(e)?e.forEach((function(e){var r=D(e,2),n=r[0],o=r[1];return t.set(n,o)})):b(e)?(e.constructor!==Map&&c("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach((function(e,r){return t.set(r,e)}))):null!=e&&c("Cannot initialize map from "+e)}finally{Se(r)}})),this},e.prototype.clear=function(){var e=this;$t((function(){fe((function(){var t,r;try{for(var n=A(e.keys()),o=n.next();!o.done;o=n.next()){var i=o.value;e.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}}))}))},e.prototype.replace=function(e){var t=this;return $t((function(){var r,n,o,i,a=function(e){if(b(e)||jr(e))return e;if(Array.isArray(e))return new Map(e);if(p(e)){var t=new Map;for(var r in e)t.set(r,e[r]);return t}return c("Cannot convert to map from '"+e+"'")}(e),u=new Map,s=!1;try{for(var l=A(t._data.keys()),f=l.next();!f.done;f=l.next()){var d=f.value;if(!a.has(d))if(t.delete(d))s=!0;else{var h=t._data.get(d);u.set(d,h)}}}catch(e){r={error:e}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}try{for(var y=A(a.entries()),v=y.next();!v.done;v=y.next()){var g=D(v.value,2),m=(d=g[0],h=g[1],t._data.has(d));if(t.set(d,h),t._data.has(d)){var O=t._data.get(d);u.set(d,O),m||(s=!0)}}}catch(e){o={error:e}}finally{try{v&&!v.done&&(i=y.return)&&i.call(y)}finally{if(o)throw o.error}}if(!s)if(t._data.size!==u.size)t._keysAtom.reportChanged();else for(var j=t._data.keys(),x=u.keys(),_=j.next(),w=x.next();!_.done;){if(_.value!==w.value){t._keysAtom.reportChanged();break}_=j.next(),w=x.next()}t._data=u})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,r={};try{for(var n=A(this),o=n.next();!o.done;o=n.next()){var i=D(o.value,2),a=i[0],c=i[1];r["symbol"==typeof a?a:m(a)]=c}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map((function(t){return m(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return sr(this,e)},e.prototype.intercept=function(e){return ar(this,e)},e}(),jr=h("ObservableMap",Or),xr={},_r=function(){function e(e,t,r){if(void 0===t&&(t=G),void 0===r&&(r="ObservableSet@"+a()),this.name=r,this[gr]=xr,this._data=new Set,this._atom=E(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,n){return t(e,n,r)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;$t((function(){fe((function(){var t,r;try{for(var n=A(e._data.values()),o=n.next();!o.done;o=n.next()){var i=o.value;e.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}}))}))},e.prototype.forEach=function(e,t){var r,n;try{for(var o=A(this),i=o.next();!i.done;i=o.next()){var a=i.value;e.call(t,a,a,this)}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if(ue(this._atom),ir(this)&&!(n=cr(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){$t((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var r=ur(this),n=r?{type:"add",object:this,newValue:e}:null;r&&lr(this,n)}return this},e.prototype.delete=function(e){var t=this;if(ir(this)&&!(n=cr(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var r=ur(this),n=r?{type:"delete",object:this,oldValue:e}:null;return $t((function(){t._atom.reportChanged(),t._data.delete(e)})),r&&lr(this,n),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),r=Array.from(this.values());return Br({next:function(){var n=e;return e+=1,n<r.length?{value:[t[n],r[n]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,r=Array.from(this._data.values());return Br({next:function(){return t<r.length?{value:e.dehanceValue(r[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return wr(e)&&(e=e.toJS()),$t((function(){var r=Ee(!0);try{Array.isArray(e)||v(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&c("Cannot initialize set from "+e)}finally{Se(r)}})),this},e.prototype.observe=function(e,t){return sr(this,e)},e.prototype.intercept=function(e){return ar(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[(gr=x,Symbol.iterator)]=function(){return this.values()},e}(),wr=h("ObservableSet",_r),Er=function(){function e(e,t,r,n){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=r,this.defaultEnhancer=n,this.keysAtom=new _(r+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var r=this.target,n=this.values.get(e);if(n instanceof De)n.set(t);else{if(ir(this)){if(!(i=cr(this,{type:"update",object:this.proxy||r,name:e,newValue:t})))return;t=i.newValue}if((t=n.prepareNewValue(t))!==ze.UNCHANGED){var o=ur(this),i=o?{type:"update",object:this.proxy||r,oldValue:n.value,name:e,newValue:t}:null;n.setNewValue(t),o&&lr(this,i)}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),r=t.get(e);if(r)return r.get();var n=!!this.values.get(e);return r=new ke(n,X,this.name+"."+m(e)+"?",!1),t.set(e,r),r.get()},e.prototype.addObservableProp=function(e,t,r){void 0===r&&(r=this.defaultEnhancer);var n=this.target;if(ir(this)){var o=cr(this,{object:this.proxy||n,name:e,type:"add",newValue:t});if(!o)return;t=o.newValue}var i=new ke(t,r,this.name+"."+m(e),!1);this.values.set(e,i),t=i.value,Object.defineProperty(n,e,function(e){return Pr[e]||(Pr[e]={configurable:!0,enumerable:!0,get:function(){return this[x].read(e)},set:function(t){this[x].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,r){var n,o,i,a=this.target;r.name=r.name||this.name+"."+m(t),this.values.set(t,new De(r)),(e===a||(n=e,o=t,!(i=Object.getOwnPropertyDescriptor(n,o))||!1!==i.configurable&&!1!==i.writable))&&Object.defineProperty(e,t,function(e){return kr[e]||(kr[e]={configurable:ze.computedConfigurable,enumerable:!1,get:function(){return Ar(this).read(e)},set:function(t){Ar(this).write(e,t)}})}(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(ir(this)&&!(a=cr(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{He();var r=ur(this),n=this.values.get(e),o=n&&n.get();if(n&&n.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var i=this.pendingKeys.get(e);i&&i.set(!1)}delete this.target[e];var a=r?{type:"remove",object:this.proxy||t,oldValue:o,name:e}:null;r&&lr(this,a)}finally{Ve()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return sr(this,e)},e.prototype.intercept=function(e){return ar(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var r=ur(this),n=r?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(r&&lr(this,n),this.pendingKeys){var o=this.pendingKeys.get(e);o&&o.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var r=[];try{for(var n=A(this.values),o=n.next();!o.done;o=n.next()){var i=D(o.value,2),a=i[0];i[1]instanceof ke&&r.push(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},e}();function Sr(e,t,r){if(void 0===t&&(t=""),void 0===r&&(r=G),Object.prototype.hasOwnProperty.call(e,x))return e[x];p(e)||(t=(e.constructor.name||"ObservableObject")+"@"+a()),t||(t="ObservableObject@"+a());var n=new Er(e,new Map,m(t),r);return d(e,x,n),n}var Pr=Object.create(null),kr=Object.create(null);function Ar(e){return e[x]||(L(e),e[x])}var Dr=h("ObservableObjectAdministration",Er);function Nr(e){return!!f(e)&&(L(e),Dr(e[x]))}function Mr(e,t){if("object"==typeof e&&null!==e){if(vr(e))return void 0!==t&&c(!1),e[x].atom;if(wr(e))return e[x];if(jr(e)){var r=e;return void 0===t?r._keysAtom:((n=r._data.get(t)||r._hasMap.get(t))||c(!1),n)}var n;if(L(e),t&&!e[x]&&e[t],Nr(e))return t?((n=e[x].values.get(t))||c(!1),n):c(!1);if(w(e)||Ne(e)||Qe(e))return e}else if("function"==typeof e&&Qe(e[x]))return e[x];return c(!1)}function Tr(e,t){return e||c("Expecting some object"),void 0!==t?Tr(Mr(e,t)):w(e)||Ne(e)||Qe(e)||jr(e)||wr(e)?e:(L(e),e[x]?e[x]:void c(!1))}function Cr(e,t){return(void 0!==t?Mr(e,t):Nr(e)||jr(e)||wr(e)?Tr(e):Mr(e)).name}var Rr=Object.prototype.toString;function Ir(e,t,r){return void 0===r&&(r=-1),function e(t,r,n,o,i){if(t===r)return 0!==t||1/t==1/r;if(null==t||null==r)return!1;if(t!=t)return r!=r;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof r)return!1;var c=Rr.call(t);if(c!==Rr.call(r))return!1;switch(c){case"[object RegExp]":case"[object String]":return""+t==""+r;case"[object Number]":return+t!=+t?+r!=+r:0==+t?1/+t==1/r:+t==+r;case"[object Date]":case"[object Boolean]":return+t==+r;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(r);case"[object Map]":case"[object Set]":n>=0&&n++}t=Lr(t),r=Lr(r);var u="[object Array]"===c;if(!u){if("object"!=typeof t||"object"!=typeof r)return!1;var s=t.constructor,l=r.constructor;if(s!==l&&!("function"==typeof s&&s instanceof s&&"function"==typeof l&&l instanceof l)&&"constructor"in t&&"constructor"in r)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var f=(o=o||[]).length;f--;)if(o[f]===t)return i[f]===r;if(o.push(t),i.push(r),u){if((f=t.length)!==r.length)return!1;for(;f--;)if(!e(t[f],r[f],n-1,o,i))return!1}else{var p=Object.keys(t),d=void 0;if(f=p.length,Object.keys(r).length!==f)return!1;for(;f--;)if(!zr(r,d=p[f])||!e(t[d],r[d],n-1,o,i))return!1}return o.pop(),i.pop(),!0}(e,t,r)}function Lr(e){return vr(e)?e.slice():b(e)||jr(e)||v(e)||wr(e)?Array.from(e.entries()):e}function zr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Br(e){return e[Symbol.iterator]=Gr,e}function Gr(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:tt,extras:{getDebugName:Cr},$mobx:x})}.call(this,r(184),r(100))},function(e,t,r){"use strict";r.d(t,"j",(function(){return L})),r.d(t,"h",(function(){return z})),r.d(t,"e",(function(){return h})),r.d(t,"g",(function(){return h})),r.d(t,"b",(function(){return v})),r.d(t,"f",(function(){return b})),r.d(t,"a",(function(){return g})),r.d(t,"c",(function(){return B})),r.d(t,"d",(function(){return G})),r.d(t,"k",(function(){return E})),r.d(t,"i",(function(){return n}));var n,o,i,a,c,u,s={},l=[],f=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function p(e,t){for(var r in t)e[r]=t[r];return e}function d(e){var t=e.parentNode;t&&t.removeChild(e)}function h(e,t,r){var n,o,i,a=arguments,c={};for(i in t)"key"==i?n=t[i]:"ref"==i?o=t[i]:c[i]=t[i];if(arguments.length>3)for(r=[r],i=3;i<arguments.length;i++)r.push(a[i]);if(null!=r&&(c.children=r),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===c[i]&&(c[i]=e.defaultProps[i]);return y(e,c,n,o,null)}function y(e,t,r,o,i){var a={type:e,props:t,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++n.__v:i};return null!=n.vnode&&n.vnode(a),a}function b(){return{current:null}}function v(e){return e.children}function g(e,t){this.props=e,this.context=t}function m(e,t){if(null==t)return e.__?m(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?m(e):null}function O(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return O(e)}}function j(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!x.__r++||a!==n.debounceRendering)&&((a=n.debounceRendering)||i)(x)}function x(){for(var e;x.__r=o.length;)e=o.sort((function(e,t){return e.__v.__b-t.__v.__b})),o=[],e.some((function(e){var t,r,n,o,i,a;e.__d&&(i=(o=(t=e).__v).__e,(a=t.__P)&&(r=[],(n=p({},o)).__v=o.__v+1,N(a,o,n,t.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,r,null==i?m(o):i,o.__h),M(r,o),o.__e!=i&&O(o)))}))}function _(e,t,r,n,o,i,a,c,u,f){var p,h,b,g,O,j,x,_=n&&n.__k||l,E=_.length;for(u==s&&(u=null!=a?a[0]:E?m(n,0):null),r.__k=[],p=0;p<t.length;p++)if(null!=(g=r.__k[p]=null==(g=t[p])||"boolean"==typeof g?null:"string"==typeof g||"number"==typeof g?y(null,g,null,null,g):Array.isArray(g)?y(v,{children:g},null,null,null):g.__b>0?y(g.type,g.props,g.key,null,g.__v):g)){if(g.__=r,g.__b=r.__b+1,null===(b=_[p])||b&&g.key==b.key&&g.type===b.type)_[p]=void 0;else for(h=0;h<E;h++){if((b=_[h])&&g.key==b.key&&g.type===b.type){_[h]=void 0;break}b=null}N(e,g,b=b||s,o,i,a,c,u,f),O=g.__e,(h=g.ref)&&b.ref!=h&&(x||(x=[]),b.ref&&x.push(b.ref,null,g),x.push(h,g.__c||O,g)),null!=O?(null==j&&(j=O),"function"==typeof g.type&&g.__k===b.__k?g.__d=u=w(g,u,e):u=S(e,g,b,_,a,O,u),f||"option"!==r.type?"function"==typeof r.type&&(r.__d=u):e.value=""):u&&b.__e==u&&u.parentNode!=e&&(u=m(b))}if(r.__e=j,null!=a&&"function"!=typeof r.type)for(p=a.length;p--;)null!=a[p]&&d(a[p]);for(p=E;p--;)null!=_[p]&&("function"==typeof r.type&&null!=_[p].__e&&_[p].__e==r.__d&&(r.__d=m(n,p+1)),R(_[p],_[p]));if(x)for(p=0;p<x.length;p++)C(x[p],x[++p],x[++p])}function w(e,t,r){var n,o;for(n=0;n<e.__k.length;n++)(o=e.__k[n])&&(o.__=e,"function"==typeof o.type?w(o,t,r):t=S(r,o,o,e.__k,null,o.__e,t));return t}function E(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){E(e,t)})):t.push(e)),t}function S(e,t,r,n,o,i,a){var c,u,s;if(void 0!==t.__d)c=t.__d,t.__d=void 0;else if(o==r||i!=a||null==i.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(i),c=null;else{for(u=a,s=0;(u=u.nextSibling)&&s<n.length;s+=2)if(u==i)break e;e.insertBefore(i,a),c=a}return void 0!==c?c:i.nextSibling}function P(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]=null==r?"":"number"!=typeof r||f.test(t)?r:r+"px"}function k(e,t,r,n,o){var i,a,c;if(o&&"className"==t&&(t="class"),"style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||P(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||P(e.style,t,r[t])}else"o"===t[0]&&"n"===t[1]?(i=t!==(t=t.replace(/Capture$/,"")),(a=t.toLowerCase())in e&&(t=a),t=t.slice(2),e.l||(e.l={}),e.l[t+i]=r,c=i?D:A,r?n||e.addEventListener(t,c,i):e.removeEventListener(t,c,i)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&"download"!==t&&"href"!==t&&!o&&t in e?e[t]=null==r?"":r:"function"!=typeof r&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/xlink:?/,""))?null==r||!1===r?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):null==r||!1===r&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,r))}function A(e){this.l[e.type+!1](n.event?n.event(e):e)}function D(e){this.l[e.type+!0](n.event?n.event(e):e)}function N(e,t,r,o,i,a,c,u,s){var l,f,d,h,y,b,m,O,j,x,w,E=t.type;if(void 0!==t.constructor)return null;null!=r.__h&&(s=r.__h,u=t.__e=r.__e,t.__h=null,a=[u]),(l=n.__b)&&l(t);try{e:if("function"==typeof E){if(O=t.props,j=(l=E.contextType)&&o[l.__c],x=l?j?j.props.value:l.__:o,r.__c?m=(f=t.__c=r.__c).__=f.__E:("prototype"in E&&E.prototype.render?t.__c=f=new E(O,x):(t.__c=f=new g(O,x),f.constructor=E,f.render=I),j&&j.sub(f),f.props=O,f.state||(f.state={}),f.context=x,f.__n=o,d=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=E.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=p({},f.__s)),p(f.__s,E.getDerivedStateFromProps(O,f.__s))),h=f.props,y=f.state,d)null==E.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==E.getDerivedStateFromProps&&O!==h&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(O,x),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(O,f.__s,x)||t.__v===r.__v){f.props=O,f.state=f.__s,t.__v!==r.__v&&(f.__d=!1),f.__v=t,t.__e=r.__e,t.__k=r.__k,f.__h.length&&c.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(O,f.__s,x),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(h,y,b)}))}f.context=x,f.props=O,f.state=f.__s,(l=n.__r)&&l(t),f.__d=!1,f.__v=t,f.__P=e,l=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(o=p(p({},o),f.getChildContext())),d||null==f.getSnapshotBeforeUpdate||(b=f.getSnapshotBeforeUpdate(h,y)),w=null!=l&&l.type===v&&null==l.key?l.props.children:l,_(e,Array.isArray(w)?w:[w],t,r,o,i,a,c,u,s),f.base=t.__e,t.__h=null,f.__h.length&&c.push(f),m&&(f.__E=f.__=null),f.__e=!1}else null==a&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=T(r.__e,t,r,o,i,a,c,s);(l=n.diffed)&&l(t)}catch(e){t.__v=null,(s||null!=a)&&(t.__e=u,t.__h=!!s,a[a.indexOf(u)]=null),n.__e(e,t,r)}}function M(e,t){n.__c&&n.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){n.__e(e,t.__v)}}))}function T(e,t,r,n,o,i,a,c){var u,f,p,d,h,y=r.props,b=t.props;if(o="svg"===t.type||o,null!=i)for(u=0;u<i.length;u++)if(null!=(f=i[u])&&((null===t.type?3===f.nodeType:f.localName===t.type)||e==f)){e=f,i[u]=null;break}if(null==e){if(null===t.type)return document.createTextNode(b);e=o?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,b.is&&{is:b.is}),i=null,c=!1}if(null===t.type)y===b||c&&e.data===b||(e.data=b);else{if(null!=i&&(i=l.slice.call(e.childNodes)),p=(y=r.props||s).dangerouslySetInnerHTML,d=b.dangerouslySetInnerHTML,!c){if(null!=i)for(y={},h=0;h<e.attributes.length;h++)y[e.attributes[h].name]=e.attributes[h].value;(d||p)&&(d&&(p&&d.__html==p.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}(function(e,t,r,n,o){var i;for(i in r)"children"===i||"key"===i||i in t||k(e,i,null,r[i],n);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||r[i]===t[i]||k(e,i,t[i],r[i],n)})(e,b,y,o,c),d?t.__k=[]:(u=t.props.children,_(e,Array.isArray(u)?u:[u],t,r,n,"foreignObject"!==t.type&&o,i,a,s,c)),c||("value"in b&&void 0!==(u=b.value)&&(u!==e.value||"progress"===t.type&&!u)&&k(e,"value",u,y.value,!1),"checked"in b&&void 0!==(u=b.checked)&&u!==e.checked&&k(e,"checked",u,y.checked,!1))}return e}function C(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,r)}}function R(e,t,r){var o,i,a;if(n.unmount&&n.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||C(o,null,t)),r||"function"==typeof e.type||(r=null!=(i=e.__e)),e.__e=e.__d=void 0,null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){n.__e(e,t)}o.base=o.__P=null}if(o=e.__k)for(a=0;a<o.length;a++)o[a]&&R(o[a],t,r);null!=i&&d(i)}function I(e,t,r){return this.constructor(e,r)}function L(e,t,r){var o,i,a;n.__&&n.__(e,t),i=(o=r===c)?null:r&&r.__k||t.__k,e=h(v,null,[e]),a=[],N(t,(o?t:r||t).__k=e,i||s,s,void 0!==t.ownerSVGElement,r&&!o?[r]:i?null:t.childNodes.length?l.slice.call(t.childNodes):null,a,r||s,o),M(a,e)}function z(e,t){L(e,t,c)}function B(e,t,r){var n,o,i,a=arguments,c=p({},e.props);for(i in t)"key"==i?n=t[i]:"ref"==i?o=t[i]:c[i]=t[i];if(arguments.length>3)for(r=[r],i=3;i<arguments.length;i++)r.push(a[i]);return null!=r&&(c.children=r),y(e.type,c,n||e.key,o||e.ref,null)}function G(e,t){var r={__c:t="__cC"+u++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,n;return this.getChildContext||(r=[],(n={})[t]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&r.some(j)},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return r.Provider.__=r.Consumer.contextType=r}n={__e:function(e,t){for(var r,n,o,i=t.__h;t=t.__;)if((r=t.__c)&&!r.__)try{if((n=r.constructor)&&null!=n.getDerivedStateFromError&&(r.setState(n.getDerivedStateFromError(e)),o=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e),o=r.__d),o)return t.__h=i,r.__E=r}catch(t){e=t}throw e},__v:0},g.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(p({},r),this.props)),e&&p(r,e),null!=e&&this.__v&&(t&&this.__h.push(t),j(this))},g.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),j(this))},g.prototype.render=v,o=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,x.__r=0,c=s,u=0},function(e,t,r){"use strict";var n,o,i,a,c,u;r.d(t,"b",(function(){return n})),r.d(t,"e",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return c})),r.d(t,"f",(function(){return u})),r.d(t,"a",(function(){return s})),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(n||(n={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(o||(o={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(i||(i={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(a||(a={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change"}(c||(c={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(u||(u={}));var s=999},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"k",(function(){return c})),r.d(t,"a",(function(){return s})),r.d(t,"i",(function(){return l})),r.d(t,"g",(function(){return p})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return h})),r.d(t,"h",(function(){return y})),r.d(t,"e",(function(){return b})),r.d(t,"f",(function(){return v})),r.d(t,"j",(function(){return g})),r(21),r(232),r(94),r(95),r(193),r(22);var n=r(33),o=r(64),i=r(2),a=function(e){return e.anchors},c=function(e,t){for(var r,n=t.length-1;n>=0;n--)if(f(e,t[n])){var o=u(e,t[n]);if(o){r={node:t[n],anchorIndex:o.index,anchorPosition:o.anchor};break}}return r},u=function(e,t){for(var r,n=a(t),o=Number.MAX_SAFE_INTEGER,i=0;i<n.length;i++){var c=s(e.x,e.y,n[i].x,n[i].y);c<o&&(o=c,r={index:i,anchor:{x:n[i].x,y:n[i].y}})}return r},s=function(e,t,r,n){return Math.hypot(e-r,t-n)},l=function(e,t){var r=!1,n=p(t);return e.x>=n.minX-0&&e.x<=n.maxX+0&&e.y>=n.minY-0&&e.y<=n.maxY+0&&(r=!0),r},f=function(e,t){var r=!1,n=p(t);return e.x>=n.minX-5&&e.x<=n.maxX+5&&e.y>=n.minY-5&&e.y<=n.maxY+5&&(r=!0),r},p=function(e){var t=e.x,r=e.y,n=e.width,o=e.height;return{minX:t-n/2,minY:r-o/2,maxX:t+n/2,maxY:r+o/2,x:t,y:r,width:n,height:o,centerX:t,centerY:r}},d=function(e,t,r){var n,o=function(e){var t=e,r=t.x,n=t.y,o=t.width,i=t.height,a=t.radius;return[{x:r-o/2+a,y:n-i/2+a,r:a},{x:r+o/2-a,y:n-i/2+a,r:a},{x:r-o/2+a,y:n+i/2-a,r:a},{x:r+o/2-a,y:n+i/2-a,r:a}]}(r),i=Number.MAX_SAFE_INTEGER;return o.forEach((function(t){var r=s(e.x,e.y,t.x,t.y);r<i&&(i=r,n=t)})),h(e,t,n)},h=function(e,t,r){var n,o=r,a=o.x,c=o.y,u=o.r;if(t===i.f.HORIZONTAL){var s=a-Math.sqrt(u*u-(e.y-c)*(e.y-c)),l=a+Math.sqrt(u*u-(e.y-c)*(e.y-c));n={x:Math.abs(s-e.x)<Math.abs(l-e.x)?s:l,y:e.y}}else if(t===i.f.VERTICAL){var f=c-Math.sqrt(u*u-(e.x-a)*(e.x-a)),p=c+Math.sqrt(u*u-(e.x-a)*(e.x-a)),d=Math.abs(f-e.y)<Math.abs(p-e.y)?f:p;n={x:e.x,y:d}}return n},y=function(e,t){var r=t,n=!1,o=r.x-r.width/2+r.radius,i=r.x+r.width/2-r.radius,a=r.y-r.height/2+r.radius,c=r.y+r.height/2-r.radius,u=r.x,s=r.y,l=r.width,f=r.height;return e.y===s+f/2||e.y===s-f/2?n=e.x>o&&e.x<i:e.x!==u+l/2&&e.x!==u-l/2||(n=e.y>a&&e.y<c),n},b=function(e,t,r){var n,o=r,a=o.x,c=o.y,u=o.rx,s=o.ry;if(t===i.f.HORIZONTAL){var l=a-Math.sqrt(u*u-(e.y-c)*(e.y-c)*u*u/(s*s)),f=a+Math.sqrt(u*u-(e.y-c)*(e.y-c)*u*u/(s*s));n={x:Math.abs(l-e.x)<Math.abs(f-e.x)?l:f,y:e.y}}else if(t===i.f.VERTICAL){var p=c-Math.sqrt(s*s-(e.x-a)*(e.x-a)*s*s/(u*u)),d=c+Math.sqrt(s*s-(e.x-a)*(e.x-a)*s*s/(u*u)),h=Math.abs(p-e.y)<Math.abs(d-e.y)?p:d;n={x:e.x,y:h}}return n},v=function(e,t,r){for(var n,a=r.pointsPosition,c=Number.MAX_SAFE_INTEGER,u=[],l=0;l<a.length;l++)u.push({start:a[l],end:a[(l+1)%a.length]});return u.forEach((function(r){var a=r.start,u=r.end,l=a,f=u;a.x>u.x&&(l=u,f=a);var p,d=(f.y-l.y)/(f.x-l.x),h=(l.x*f.y-f.x*l.y)/(l.x-f.x);if(d>Number.MAX_SAFE_INTEGER||h>Number.MAX_SAFE_INTEGER?p={x:e.x,y:e.y}:t===i.f.HORIZONTAL?p={x:(e.y-h)/d,y:e.y}:t===i.f.VERTICAL&&(p={x:e.x,y:d*e.x+h}),Object(o.b)(p,a,u)){var y=s(p.x,p.y,e.x,e.y);y<c&&(c=y,n=p)}})),n},g=function(e){return Object(n.a)(e,["id","type","x","y","text","properties"])}},function(e,t,r){"use strict";r.d(t,"j",(function(){return y})),r.d(t,"i",(function(){return v})),r.d(t,"h",(function(){return O})),r.d(t,"c",(function(){return a.e})),r.d(t,"a",(function(){return a.a})),r.d(t,"b",(function(){return A})),r.d(t,"f",(function(){return D})),r.d(t,"e",(function(){return T})),r.d(t,"g",(function(){return oe}));var n,o,i,a=r(1),c=0,u=[],s=a.i.__b,l=a.i.__r,f=a.i.diffed,p=a.i.__c,d=a.i.unmount;function h(e,t){a.i.__h&&a.i.__h(o,e,c||t),c=0;var r=o.__H||(o.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function y(e){return c=1,b(S,e)}function b(e,t,r){var i=h(n++,2);return i.t=e,i.__c||(i.__=[r?r(t):S(void 0,t),function(e){var t=i.t(i.__[0],e);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=o),i.__}function v(e,t){var r=h(n++,3);!a.i.__s&&E(r.__H,t)&&(r.__=e,r.__H=t,o.__H.__h.push(r))}function g(e,t){var r=h(n++,4);!a.i.__s&&E(r.__H,t)&&(r.__=e,r.__H=t,o.__h.push(r))}function m(e,t){var r=h(n++,7);return E(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function O(e,t){return c=8,m((function(){return e}),t)}function j(){u.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(_),e.__H.__h.forEach(w),e.__H.__h=[]}catch(t){e.__H.__h=[],a.i.__e(t,e.__v)}})),u=[]}a.i.__b=function(e){o=null,s&&s(e)},a.i.__r=function(e){l&&l(e),n=0;var t=(o=e.__c).__H;t&&(t.__h.forEach(_),t.__h.forEach(w),t.__h=[])},a.i.diffed=function(e){f&&f(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==u.push(t)&&i===a.i.requestAnimationFrame||((i=a.i.requestAnimationFrame)||function(e){var t,r=function(){clearTimeout(n),x&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);x&&(t=requestAnimationFrame(r))})(j)),o=void 0},a.i.__c=function(e,t){t.some((function(e){try{e.__h.forEach(_),e.__h=e.__h.filter((function(e){return!e.__||w(e)}))}catch(r){t.some((function(e){e.__h&&(e.__h=[])})),t=[],a.i.__e(r,e.__v)}})),p&&p(e,t)},a.i.unmount=function(e){d&&d(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(_)}catch(e){a.i.__e(e,t.__v)}};var x="function"==typeof requestAnimationFrame;function _(e){var t=o;"function"==typeof e.__c&&e.__c(),o=t}function w(e){var t=o;e.__c=e.__(),o=t}function E(e,t){return!e||e.length!==t.length||t.some((function(t,r){return t!==e[r]}))}function S(e,t){return"function"==typeof t?t(e):t}function P(e,t){for(var r in t)e[r]=t[r];return e}function k(e,t){for(var r in e)if("__source"!==r&&!(r in t))return!0;for(var n in t)if("__source"!==n&&e[n]!==t[n])return!0;return!1}function A(e){this.props=e}function D(e,t){function r(e){var r=this.props.ref,n=r==e.ref;return!n&&r&&(r.call?r(null):r.current=null),t?!t(this.props,e)||!n:k(this.props,e)}function n(t){return this.shouldComponentUpdate=r,Object(a.e)(e,t)}return n.displayName="Memo("+(e.displayName||e.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(A.prototype=new a.a).isPureReactComponent=!0,A.prototype.shouldComponentUpdate=function(e,t){return k(this.props,e)||k(this.state,t)};var N=a.i.__b;a.i.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),N&&N(e)};var M="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function T(e){function t(t,r){var n=P({},t);return delete n.ref,e(n,(r=t.ref||r)&&("object"!=typeof r||"current"in r)?r:null)}return t.$$typeof=M,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var C=function(e,t){return null==e?null:Object(a.k)(Object(a.k)(e).map(t))},R={map:C,forEach:C,count:function(e){return e?Object(a.k)(e).length:0},only:function(e){var t=Object(a.k)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:a.k},I=a.i.__e;function L(e){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),(e=P({},e)).__c=null,e.__k=e.__k&&e.__k.map(L)),e}function z(e){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(z)),e}function B(){this.__u=0,this.t=null,this.__b=null}function G(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function X(){this.u=null,this.o=null}a.i.__e=function(e,t,r){if(e.then)for(var n,o=t;o=o.__;)if((n=o.__c)&&n.__c)return null==t.__e&&(t.__e=r.__e,t.__k=r.__k),n.__c(e,t);I(e,t,r)},(B.prototype=new a.a).__c=function(e,t){var r=t.__c,n=this;null==n.t&&(n.t=[]),n.t.push(r);var o=G(n.__v),i=!1,a=function(){i||(i=!0,r.componentWillUnmount=r.__c,o?o(c):c())};r.__c=r.componentWillUnmount,r.componentWillUnmount=function(){a(),r.__c&&r.__c()};var c=function(){var e;if(!--n.__u)for(n.__v.__k[0]=z(n.state.__e),n.setState({__e:n.__b=null});e=n.t.pop();)e.forceUpdate()};!0===t.__h||n.__u++||n.setState({__e:n.__b=n.__v.__k[0]}),e.then(a,a)},B.prototype.componentWillUnmount=function(){this.t=[]},B.prototype.render=function(e,t){this.__b&&(this.__v.__k&&(this.__v.__k[0]=L(this.__b)),this.__b=null);var r=t.__e&&Object(a.e)(a.b,null,e.fallback);return r&&(r.__h=null),[Object(a.e)(a.b,null,t.__e?null:e.children),r]};var U=function(e,t,r){if(++r[1]===r[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(r=e.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.u=r=r[2]}};function F(e){return this.getChildContext=function(){return e.context},e.children}function H(e){var t=this,r=e.i;t.componentWillUnmount=function(){Object(a.j)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==r&&t.componentWillUnmount(),e.__v?(t.l||(t.i=r,t.l={parentNode:r,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,r){this.childNodes.push(e),t.i.appendChild(e,r)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),Object(a.j)(Object(a.e)(F,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}(X.prototype=new a.a).__e=function(e){var t=this,r=G(t.__v),n=t.o.get(e);return n[0]++,function(o){var i=function(){t.props.revealOrder?(n.push(o),U(t,e,n)):o()};r?r(i):i()}},X.prototype.render=function(e){this.u=null,this.o=new Map;var t=Object(a.k)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var r=t.length;r--;)this.o.set(t[r],this.u=[1,0,this.u]);return e.children},X.prototype.componentDidUpdate=X.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,r){U(e,r,t)}))};var V="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Y=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,W=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};a.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(a.a.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var K=a.i.event;function q(){}function Z(){return this.cancelBubble}function $(){return this.defaultPrevented}a.i.event=function(e){return K&&(e=K(e)),e.persist=q,e.isPropagationStopped=Z,e.isDefaultPrevented=$,e.nativeEvent=e};var J,Q={configurable:!0,get:function(){return this.class}},ee=a.i.vnode;a.i.vnode=function(e){var t=e.type,r=e.props,n=r;if("string"==typeof t){for(var o in n={},r){var i=r[o];"defaultValue"===o&&"value"in r&&null==r.value?o="value":"download"===o&&!0===i?i="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+t)&&!W(r.type)?o="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():Y.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===i&&(i=void 0),n[o]=i}"select"==t&&n.multiple&&Array.isArray(n.value)&&(n.value=Object(a.k)(r.children).forEach((function(e){e.props.selected=-1!=n.value.indexOf(e.props.value)}))),"select"==t&&null!=n.defaultValue&&(n.value=Object(a.k)(r.children).forEach((function(e){e.props.selected=n.multiple?-1!=n.defaultValue.indexOf(e.props.value):n.defaultValue==e.props.value}))),e.props=n}t&&r.class!=r.className&&(Q.enumerable="className"in r,null!=r.className&&(n.class=r.className),Object.defineProperty(n,"className",Q)),e.$$typeof=V,ee&&ee(e)};var te=a.i.__r;a.i.__r=function(e){te&&te(e),J=e.__c};var re={ReactCurrentDispatcher:{current:{readContext:function(e){return J.__n[e.__c].props.value}}}};function ne(e){return!!e&&e.$$typeof===V}var oe=function(e,t){return e(t)};a.b,t.d={useState:y,useReducer:b,useEffect:v,useLayoutEffect:g,useRef:function(e){return c=5,m((function(){return{current:e}}),[])},useImperativeHandle:function(e,t,r){c=6,g((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==r?r:r.concat(e))},useMemo:m,useCallback:O,useContext:function(e){var t=o.context[e.__c],r=h(n++,9);return r.__c=e,t?(null==r.__&&(r.__=!0,t.sub(o)),t.props.value):e.__},useDebugValue:function(e,t){a.i.useDebugValue&&a.i.useDebugValue(t?t(e):e)},version:"16.8.0",Children:R,render:function(e,t,r){return null==t.__k&&(t.textContent=""),Object(a.j)(e,t),"function"==typeof r&&r(),e?e.__c:null},hydrate:function(e,t,r){return Object(a.h)(e,t),"function"==typeof r&&r(),e?e.__c:null},unmountComponentAtNode:function(e){return!!e.__k&&(Object(a.j)(null,e),!0)},createPortal:function(e,t){return Object(a.e)(H,{__v:e,i:t})},createElement:a.e,createContext:a.d,createFactory:function(e){return a.e.bind(null,e)},cloneElement:function(e){return ne(e)?a.c.apply(null,arguments):e},createRef:a.f,Fragment:a.b,isValidElement:ne,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:a.a,PureComponent:A,memo:D,forwardRef:T,unstable_batchedUpdates:oe,StrictMode:a.b,Suspense:B,SuspenseList:X,lazy:function(e){var t,r,n;function o(o){if(t||(t=e()).then((function(e){r=e.default||e}),(function(e){n=e})),n)throw n;if(!r)throw t;return Object(a.e)(r,o)}return o.displayName="Lazy",o.__f=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:re}},function(e,t,r){"use strict";r.d(t,"b",(function(){return O})),r.d(t,"o",(function(){return A})),r.d(t,"j",(function(){return D})),r.d(t,"i",(function(){return N})),r.d(t,"l",(function(){return M})),r.d(t,"k",(function(){return T})),r.d(t,"g",(function(){return C})),r.d(t,"p",(function(){return R})),r.d(t,"n",(function(){return I})),r.d(t,"e",(function(){return B})),r.d(t,"a",(function(){return G})),r.d(t,"c",(function(){return X})),r.d(t,"d",(function(){return U})),r.d(t,"h",(function(){return H})),r.d(t,"f",(function(){return V})),r.d(t,"m",(function(){return Y})),r.d(t,"q",(function(){return W})),r(41),r(225),r(21),r(146),r(114),r(94),r(95),r(187),r(96),r(188),r(157),r(22);var n=r(33),o=(r(46),r(52),r(64)),i=r(2),a=r(3),c=r(61);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=function(e){var t=[],r={};return e.forEach((function(e){var t="".concat(e.x,"-").concat(e.y);e.id=t,r[t]=e})),Object.keys(r).forEach((function(e){t.push(r[e])})),t},v=function(e,t){return 0===e.width&&0===e.height?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},g=function(e,t){return function(e,t){var r=Math.abs(e.x-t.centerX),n=Math.abs(e.y-t.centerY);return r/t.width>n/t.height?i.f.HORIZONTAL:i.f.VERTICAL}(t,e)===i.f.HORIZONTAL?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},m=function(e,t){var r=Math.min(e.minX,t.minX),n=Math.min(e.minY,t.minY),o=Math.max(e.maxX,t.maxX),i=Math.max(e.maxY,t.maxY);return{centerX:(r+o)/2,centerY:(n+i)/2,minX:r,minY:n,maxX:o,maxY:i,height:i-n,width:o-r}},O=function(){var e=arguments.length>1?arguments[1]:void 0,t=[],r=[];(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(e){t.push(e.x),r.push(e.y)}));var n=Math.min.apply(Math,t),o=Math.max.apply(Math,t),i=Math.min.apply(Math,r),a=Math.max.apply(Math,r),c=o-n,u=a-i;return e&&(c+=e,u+=e),{centerX:(n+o)/2,centerY:(i+a)/2,maxX:o,maxY:a,minX:n,minY:i,x:(n+o)/2,y:(i+a)/2,height:u,width:c}},j=function(e){var t=e.minX,r=e.minY,n=e.maxX,o=e.maxY;return[{x:t,y:r},{x:n,y:r},{x:n,y:o},{x:t,y:o}]},x=function(e,t){var r=e.x,n=e.y;return r<t.minX||r>t.maxX||n<t.minY||n>t.maxY},_=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},w=function(e,t,r,n,o){return _(e,t)+_(e,r)+function(e,t){var r=0;return t.forEach((function(t){t&&(e.x===t.x&&(r+=-2),e.y===t.y&&(r+=-2))})),r}(e,[t,r,n,o])},E=function(e,t,r,n){var o=t.x-e.x,i=t.y-e.y,a=n.x-r.x,c=n.y-r.y,u=(-i*(e.x-r.x)+o*(e.y-r.y))/(-a*i+o*c),s=(a*(e.y-r.y)-c*(e.x-r.x))/(-a*i+o*c);return u>=0&&u<=1&&s>=0&&s<=1},S=function(e,t,r){if(0===r.width&&0===r.height)return!1;var n=d(j(r),4),o=n[0],i=n[1],a=n[2],c=n[3];return E(e,t,o,i)||E(e,t,o,c)||E(e,t,i,a)||E(e,t,a,c)},P=function(e,t,r,n,o,i,a){var c=[],u=[t],s={},l={},f={};l[t.id]=0,f[t.id]=w(t,r,t);var d={};e.forEach((function(e){d[e.id]=e}));for(var h=function(){var p,h,y,v=void 0,g=1/0;if(u.forEach((function(e){f[e.id]<g&&(g=f[e.id],v=e)})),v===r){var m=[];return function e(t,r,n,o,i){i||(i=0),t.unshift(r[o]),n[o]&&n[o]!==o&&i<=100&&e(t,r,n,n[o],i+1)}(m,d,s,r.id),{v:m}}h=v,(y=(p=u).indexOf(h))>-1&&p.splice(y,1),c.push(v),function(e,t,r,n){var o=[];return e.forEach((function(e){e!==t&&(e.x!==t.x&&e.y!==t.y||S(e,t,r)||S(e,t,n)||o.push(e))})),b(o)}(e,v,n,o).forEach((function(e){if(-1===c.indexOf(e)){-1===u.indexOf(e)&&u.push(e);var n=f[v.id]+_(v,e);l[e.id]&&n>=l[e.id]||(s[e.id]=v.id,l[e.id]=n,f[e.id]=l[e.id]+w(e,r,t,i,a))}}))};u.length;){var y=h();if("object"===p(y))return y.v}return[t,r]},k=function(e){return Object(a.g)(e)},A=function(e){for(var t=e,r=1;r<t.length-1;){var n=t[r-1],o=t[r],i=t[r+1];n.x===o.x&&o.x===i.x||n.y===o.y&&o.y===i.y?t.splice(r,1):r++}return t},D=function(e,t,r,n,o){var i,a,c=k(r),u=k(n),s=v(c,o),l=v(u,o),p=g(s,e),d=g(l,t);if(i=s,a=l,2*Math.abs(i.centerX-a.centerX)<i.width+a.width&&2*Math.abs(i.centerY-a.centerY)<i.height+a.height){var h=L(e,t,p,d);return[e,p].concat(f(h),[d,t])}var y=O([p,d]),_=m(s,y),w=m(l,y),E=[];E=(E=E.concat(j(_))).concat(j(w));var S={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[y,_,w].forEach((function(e){E=E.concat(function(e,t){return function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]}(e,t.x).concat(function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]}(e,t.y))}(e,S).filter((function(e){return x(e,s)&&x(e,l)})))})),[{x:p.x,y:d.y},{x:d.x,y:p.y}].forEach((function(e){x(e,s)&&x(e,l)&&E.push(e)})),E.unshift(p),E.push(d),E=b(E);var D=P(E,p,d,c,u,e,t);return D.unshift(e),D.push(t),D.length>2&&(D=A(D)),b(D)},N=function(e){var t;if(1===e.length)t=[e[0],e[0]];else if(e.length>=2){for(var r=e[0],n=e[1],o=Object(a.a)(r.x,r.y,n.x,n.y),i=1;i<e.length-1;i++){var c=e[i],u=e[i+1],s=Object(a.a)(c.x,c.y,u.x,u.y);s>o&&(o=s,r=c,n=u)}t=[r,n]}return t},M=function(e,t,r){var n=Object(a.i)(e,r),o=Object(a.i)(t,r);return n&&o},T=function(e,t,r){var n=Object(a.i)(e,r),o=Object(a.i)(t,r);return!(n&&o)&&(n||o)},C=function(e,t,r){for(var n,i,c=Object(a.g)(r),u=j(c),s=0;s<u.length;s++)E(e,t,u[s],u[(s+1)%u.length])&&(i=[u[s],u[(s+1)%u.length]]);return i&&(n=Object(o.a)(e,t,i[0],i[1])),n},R=function(e,t){var r;return e.x===t.x?r=i.f.VERTICAL:e.y===t.y&&(r=i.f.HORIZONTAL),r},I=function(e){var t=e.split(" "),r=[];return t&&t.forEach((function(e){var t=d(e.split(","),2),n=t[0],o=t[1];r.push({x:Number(n),y:Number(o)})})),r},L=function(e,t,r,n){var i=[];if(R(e,r)===R(t,n))e.y===r.y?(i.push({x:r.x,y:(r.y+n.y)/2}),i.push({x:n.x,y:(r.y+n.y)/2})):(i.push({x:(r.x+n.x)/2,y:r.y}),i.push({x:(r.x+n.x)/2,y:n.y}));else{var a={x:r.x,y:n.y},c=Object(o.b)(a,e,r),u=Object(o.b)(a,t,n);if(c||u)a={x:n.x,y:r.y};else{var s=z(a,e,r),l=z(a,t,n);s&&l&&(a={x:n.x,y:r.y})}i.push(a)}return i},z=function(e,t,r){return e.x===t.x&&e.x===r.x||e.y===t.y&&e.y===r.y},B=function(e){if(!e)return 0;for(var t=0,r=0;r<e.length;r++){var n=e.charCodeAt(r);t+=n>=1&&n<=126||n>=65376&&n<=65439?1:2}return t},G=function(e){var t,r=e.start,n=e.end;if(r.x===n.x&&r.y===n.y)t="";else{var o={start:r,end:n,offset:10,verticalLength:5},i=Object(c.a)(s(s({},o),{},{type:"start"})),a=Object(c.a)(s(s({},o),{},{type:"end"}));t="M".concat(i.leftX," ").concat(i.leftY," \n    L").concat(i.rightX," ").concat(i.rightY," \n    L").concat(a.rightX," ").concat(a.rightY,"\n    L").concat(a.leftX," ").concat(a.leftY," z")}return{d:t,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},X=function(e){var t=e.start,r=e.end,n=e.sourceNode,o=e.targetNode,i=e.offset,c=Object(a.g)(n),u=Object(a.g)(o),s=v(c,i),l=v(u,i);return{sNext:g(s,t),ePre:g(l,r)}},U=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[F(t[0]),F(t[1]),F(t[2]),F(t[3])]},F=function(e){var t=d(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},H=function(e){var t=U(e);return[t[2],t[3]]},V=function(e,t){for(var r,n=e.x,i=e.y,a=I(t),c=Number.MAX_SAFE_INTEGER,u=[],s=0;s<a.length;s++)u.push({start:a[s],end:a[(s+1)%a.length]});if(u.forEach((function(e){var t=e.start,a=e.end;if(t.x===a.x){var u={x:t.x,y:i};if(Object(o.b)(u,t,a)){var s=Math.abs(t.x-n);s<c&&(c=s,r=u)}}else if(t.y===a.y){var l={x:n,y:t.y};if(Object(o.b)(l,t,a)){var f=Math.abs(t.y-i);f<c&&(c=f,r=l)}}})),!r){var l=u[0],f=l.start,p=l.end;r={x:f.x+(p.x-f.x)/2,y:f.y+(p.y-f.y)/2}}return r},Y=function(e){return Object(n.a)(e,["id","type","sourceNodeId","targetNodeId","pointsList","startPoint","endPoint","text","properties"])},W=function(e,t){var r=Math.abs(e.x),n=Math.abs(e.y),o=Math.abs(t.x),i=Math.abs(t.y);return Math.sqrt(Math.pow(r-o,2)+Math.pow(n-i,2))}},function(e,t,r){var n=r(20),o=r(101).f,i=r(45),a=r(51),c=r(136),u=r(205),s=r(143);e.exports=function(e,t){var r,l,f,p,d,h=e.target,y=e.global,b=e.stat;if(r=y?n:b?n[h]||c(h,{}):(n[h]||{}).prototype)for(l in t){if(p=t[l],f=e.noTargetGet?(d=o(r,l))&&d.value:r[l],!s(y?l:h+(b?".":"#")+l,e.forced)&&void 0!==f){if(typeof p==typeof f)continue;u(p,f)}(e.sham||f&&f.sham)&&i(p,"sham",!0),a(r,l,p,e)}}},function(e,t,r){"use strict";var n=Array.isArray;t.a=n},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return g}));var a={fill:"#FFFFFF",stroke:"#000000",strokeWidth:2,fillOpacity:1,strokeOpacity:1,opacity:1,outlineColor:"#000000",outlineStrokeDashArray:"3,3",hoverOutlineColor:"#000000",hoverOutlineStrokeDashArray:"3,3"},c=o(o({},a),{},{width:100,height:80,radius:0}),u=o(o({},a),{},{r:50}),s=o(o({},a),{},{rx:55,ry:45}),l=o(o({},a),{},{rx:50,ry:50}),f=o({},a),p=o(o({},a),{},{stroke:"#000000",strokeWidth:1,r:4}),d={stroke:"#000000",strokeWidth:2,hoverStroke:"#000000",selectedStroke:"#000000",strokeDashArray:"1,0",outlineColor:"#000000",outlineStrokeDashArray:"3,3"},h=o({},d),y=o(o({},d),{},{offset:30}),b=o(o({},d),{},{offset:100,adjustLineColor:"#4169E1",adjustAnchorStroke:"#4169E1",adjustAnchorFill:"#1E90FF",adjustAnchorFillOpacity:.5}),v={color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:""},g={rect:c,circle:u,diamond:l,ellipse:s,polygon:f,anchor:p,text:v,nodeText:o({},v),edgeText:{color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:"",background:{fill:"transparent",height:20,stroke:"transparent",radius:0},hoverBackground:null},line:h,polyline:y,bezier:b,arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},anchorHover:{fill:"#1E90FF",fillOpacity:.5,stroke:"#4169E1",strokeWidth:1,r:10},snapline:{stroke:"#1E90FF",strokeWidth:1}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){"use strict";var n=r(124),o="object"==typeof self&&self&&self.Object===Object&&self,i=n.a||o||Function("return this")();t.a=i},function(e,t,r){"use strict";t.a=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){var n=r(6),o=r(9),i=r(36),a=r(150),c=r(172);n({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!c},{getPrototypeOf:function(e){return a(i(e))}})},function(e,t,r){r(6)({target:"Object",stat:!0},{setPrototypeOf:r(152)})},function(e,t,r){"use strict";r.r(t),r.d(t,"observer",(function(){return s}));var n=r(71),o=r(122);r.d(t,"LogicFlow",(function(){return o.a})),r(194);var i=r(195);for(var a in i)["default","observer","LogicFlow"].indexOf(a)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(a);var c=r(120);r.d(t,"Keyboard",(function(){return c.a}));var u=r(119);function s(e){return Object(n.c)(e)}r.d(t,"get",(function(){return u.b})),r.d(t,"defaults",(function(){return u.a})),t.default=o.a},function(e,t,r){"use strict";var n=r(10).a.Symbol;t.a=n},function(e,t,r){"use strict";var n=r(56),o=r(43),i=r(80),a=r(135),c=r(131),u=function(e,t){return Object(c.a)(Object(a.a)(e,t,i.a),e+"")},s=r(54),l=r(31),f=r(53),p=r(11),d=function(e,t,r){if(!Object(p.a)(r))return!1;var n=typeof t;return!!("number"==n?Object(l.a)(r)&&Object(f.a)(t,r.length):"string"==n&&t in r)&&Object(s.a)(r[t],e)},h=function(e){return u((function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&d(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++n<o;){var c=r[n];c&&e(t,c,n,i)}return t}))},y=r(55),b=r(32),v=Object.prototype.hasOwnProperty,g=h((function(e,t){if(Object(y.a)(t)||Object(l.a)(t))Object(o.a)(t,Object(b.a)(t),e);else for(var r in t)v.call(t,r)&&Object(n.a)(e,r,t[r])}));t.a=g},function(e,t,r){var n=r(20),o=r(163),i=r(30),a=r(140),c=r(170),u=r(208),s=o("wks"),l=n.Symbol,f=u?l:l&&l.withoutSetter||a;e.exports=function(e){return i(s,e)||(c&&i(l,e)?s[e]=l[e]:s[e]=f("Symbol."+e)),s[e]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return H})),r.d(t,"b",(function(){return H})),r(42),r(192),r(23);var n,o,i,a,c,u,s,l,f,p,d,h,y,b,v,g,m,O,j,x,_,w,E,S,P,k=r(0),A=r(16),D=r(33),N=r(87),M=r(8),T=r(2),C=r(26),R=r(3);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var F=Object(A.a)({x:0,y:0,zIndex:1,text:{value:"",x:0,y:0,draggable:!1,editable:!0}},M.a.rect,M.a.circle),H=(o=U((n=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=Object(N.a)(),this.BaseType=T.c.NODE,this.modelType=T.e.NODE,this.additionStateData=void 0,this.menu=void 0,this.targetRules=[],this.sourceRules=[],this.hasSetTargetRules=!1,this.hasSetSourceRules=!1,G(this,"properties",o,this),G(this,"type",i,this),G(this,"x",a,this),G(this,"y",c,this),G(this,"width",u,this),G(this,"height",s,this),G(this,"fill",l,this),G(this,"fillOpacity",f,this),G(this,"strokeWidth",p,this),G(this,"stroke",d,this),G(this,"strokeOpacity",h,this),G(this,"opacity",y,this),G(this,"outlineColor",b,this),G(this,"hoverOutlineColor",v,this),G(this,"outlineStrokeDashArray",g,this),G(this,"hoverOutlineStrokeDashArray",m,this),G(this,"isSelected",O,this),G(this,"isHovered",j,this),G(this,"isHitable",x,this),G(this,"zIndex",_,this),G(this,"anchorsOffset",w,this),G(this,"state",E,this),G(this,"text",S,this),G(this,"draggable",P,this),this.setStyleFromTheme(n,r),this.initNodeData(t),this.setAttributes()}var t,r,n;return t=e,(r=[{key:"initNodeData",value:function(e){e.properties||(e.properties={}),this.formatText(e),Object(A.a)(this,Object(R.j)(e))}},{key:"formatText",value:function(e){e.text||(e.text={value:"",x:e.x,y:e.y,draggable:!1,editable:!0}),e.text&&"string"==typeof e.text?e.text={value:e.text,x:e.x,y:e.y,draggable:!1,editable:!0}:e.text&&void 0===e.text.editable&&(e.text.editable=!0)}},{key:"setAttributes",value:function(){}},{key:"getData",value:function(){var e=this.text,t=e.x,r=e.y,n=e.value,o=this.properties;Object(k.isObservable)(o)&&(o=Object(k.toJS)(o));var i={id:this.id,type:this.type,x:this.x,y:this.y,properties:o};return n&&(i.text={x:t,y:r,value:n}),i}},{key:"getProperties",value:function(){return Object(k.toJS)(this.properties)}},{key:"isAllowConnectedAsSource",value:function(e){var t=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var r,n=!0,o=0;o<t.length;o++){var i=t[o];if(!i.validate.call(this,this,e)){n=!1,r=i.message;break}}return{isAllPass:n,msg:r}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(e){var t=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var r,n=!0,o=0;o<t.length;o++){var i=t[o];if(!i.validate.call(this,e,this)){n=!1,r=i.message;break}}return{isAllPass:n,msg:r}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"move",value:function(e,t){this.x+=e,this.y+=t,this.text&&this.moveText(e,t)}},{key:"moveTo",value:function(e,t){if(this.text){var r=e-this.x,n=t-this.y;this.text&&this.moveText(r,n)}this.x=e,this.y=t}},{key:"moveText",value:function(e,t){var r=this.text,n=r.x,o=r.y,i=r.value,a=r.draggable,c=r.editable;this.text={value:i,editable:c,draggable:a,x:n+e,y:o+t}}},{key:"updateText",value:function(e){this.text.value=e}},{key:"setSelected",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=e}},{key:"setHovered",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=e}},{key:"setHitable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=e}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"updateStroke",value:function(e){this.stroke=e}},{key:"updateData",value:function(e){var t=Object(C.a)(Object(D.a)(e,"type","x","y","text","properties")),r=this.text,n=r.x,o=r.y,i=r.draggable,a=r.editable;if(t.text&&"string"==typeof t.text)t.text={x:n,y:o,value:t.text,draggable:i,editable:a};else if("object"===B(t.text)){var c=L(L({},this.text),t.text);t.text=Object(D.a)(c,"x","y","value","draggable","editable")}Object(A.a)(this,t)}},{key:"setProperty",value:function(e,t){this.properties[e]=Object(C.a)(t)}},{key:"setProperties",value:function(e){this.properties=Object.assign(this.properties,e)}},{key:"setStyleFromTheme",value:function(e,t){var r=t.theme;r[e]&&Object(A.a)(this,r[e])}},{key:"setZIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.zIndex;this.zIndex=e}},{key:"updateAttributes",value:function(e){Object(A.a)(this,e),console.log(this)}},{key:"anchors",get:function(){return[]}}])&&X(t.prototype,r),n&&X(t,n),e}()).prototype,"properties",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=U(n.prototype,"type",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=U(n.prototype,"x",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.x}}),c=U(n.prototype,"y",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.y}}),u=U(n.prototype,"width",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.width}}),s=U(n.prototype,"height",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.height}}),l=U(n.prototype,"fill",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.fill}}),f=U(n.prototype,"fillOpacity",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.fillOpacity}}),p=U(n.prototype,"strokeWidth",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.strokeWidth}}),d=U(n.prototype,"stroke",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.stroke}}),h=U(n.prototype,"strokeOpacity",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.strokeOpacity}}),y=U(n.prototype,"opacity",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.opacity}}),b=U(n.prototype,"outlineColor",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.outlineColor}}),v=U(n.prototype,"hoverOutlineColor",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.hoverOutlineColor}}),g=U(n.prototype,"outlineStrokeDashArray",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.outlineStrokeDashArray}}),m=U(n.prototype,"hoverOutlineStrokeDashArray",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.hoverOutlineStrokeDashArray}}),O=U(n.prototype,"isSelected",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=U(n.prototype,"isHovered",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=U(n.prototype,"isHitable",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=U(n.prototype,"zIndex",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.zIndex}}),w=U(n.prototype,"anchorsOffset",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=U(n.prototype,"state",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=U(n.prototype,"text",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.text}}),P=U(n.prototype,"draggable",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),U(n.prototype,"move",[k.action],Object.getOwnPropertyDescriptor(n.prototype,"move"),n.prototype),U(n.prototype,"moveTo",[k.action],Object.getOwnPropertyDescriptor(n.prototype,"moveTo"),n.prototype),U(n.prototype,"moveText",[k.action],Object.getOwnPropertyDescriptor(n.prototype,"moveText"),n.prototype),U(n.prototype,"updateText",[k.action],Object.getOwnPropertyDescriptor(n.prototype,"updateText"),n.prototype),U(n.prototype,"setSelected",[k.action],Object.getOwnPropertyDescriptor(n.prototype,"setSelected"),n.prototype),U(n.prototype,"setHovered",[k.action],Object.getOwnPropertyDescriptor(n.prototype,"setHovered"),n.prototype),U(n.prototype,"setHitable",[k.action],Object.getOwnPropertyDescriptor(n.prototype,"setHitable"),n.prototype),U(n.prototype,"setElementState",[k.action],Object.getOwnPropertyDescriptor(n.prototype,"setElementState"),n.prototype),U(n.prototype,"updateStroke",[k.action],Object.getOwnPropertyDescriptor(n.prototype,"updateStroke"),n.prototype),U(n.prototype,"updateData",[k.action],Object.getOwnPropertyDescriptor(n.prototype,"updateData"),n.prototype),U(n.prototype,"setProperty",[k.action],Object.getOwnPropertyDescriptor(n.prototype,"setProperty"),n.prototype),U(n.prototype,"setProperties",[k.action],Object.getOwnPropertyDescriptor(n.prototype,"setProperties"),n.prototype),U(n.prototype,"setStyleFromTheme",[k.action],Object.getOwnPropertyDescriptor(n.prototype,"setStyleFromTheme"),n.prototype),U(n.prototype,"setZIndex",[k.action],Object.getOwnPropertyDescriptor(n.prototype,"setZIndex"),n.prototype),U(n.prototype,"updateAttributes",[k.action],Object.getOwnPropertyDescriptor(n.prototype,"updateAttributes"),n.prototype),n)},,function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,r(100))},function(e,t,r){"use strict";var n=r(6),o=r(168);n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(e,t,r){var n=r(20),o=r(183),i=r(168),a=r(45);for(var c in o){var u=n[c],s=u&&u.prototype;if(s&&s.forEach!==i)try{a(s,"forEach",i)}catch(e){s.forEach=i}}},function(e,t,r){var n=r(6),o=r(9),i=r(72),a=r(101).f,c=r(29),u=o((function(){a(1)}));n({target:"Object",stat:!0,forced:!c||u,sham:!c},{getOwnPropertyDescriptor:function(e,t){return a(i(e),t)}})},function(e,t,r){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){"use strict";var n,o=r(125),i=r(10).a["__core-js_shared__"],a=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",c=function(e){return!!a&&a in e},u=r(11),s=r(49),l=/^\[object .+?Constructor\]$/,f=Function.prototype,p=Object.prototype,d=f.toString,h=p.hasOwnProperty,y=RegExp("^"+d.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),b=function(e){return!(!Object(u.a)(e)||c(e))&&(Object(o.a)(e)?y:l).test(Object(s.a)(e))},v=function(e,t){return null==e?void 0:e[t]};t.a=function(e,t){var r=v(e,t);return b(r)?r:void 0}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}},function(e,t,r){var n=r(34);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,r){"use strict";var n=r(6),o=r(107).map,i=r(111),a=r(66),c=i("map"),u=a("map");n({target:"Array",proto:!0,forced:!c||!u},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(9);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){"use strict";var n=r(125),o=r(81);t.a=function(e){return null!=e&&Object(o.a)(e.length)&&!Object(n.a)(e)}},function(e,t,r){"use strict";var n=r(134),o=r(55),i=r(127),a=Object(i.a)(Object.keys,Object),c=Object.prototype.hasOwnProperty,u=function(e){if(!Object(o.a)(e))return a(e);var t=[];for(var r in Object(e))c.call(e,r)&&"constructor"!=r&&t.push(r);return t},s=r(31);t.a=function(e){return Object(s.a)(e)?Object(n.a)(e):u(e)}},function(e,t,r){"use strict";var n=r(84),o=r(56),i=r(59),a=r(53),c=r(11),u=r(44),s=function(e,t,r,n){if(!Object(c.a)(e))return e;for(var s=-1,l=(t=Object(i.a)(t,e)).length,f=l-1,p=e;null!=p&&++s<l;){var d=Object(u.a)(t[s]),h=r;if("__proto__"===d||"constructor"===d||"prototype"===d)return e;if(s!=f){var y=p[d];void 0===(h=n?n(y,d,p):void 0)&&(h=Object(c.a)(y)?y:Object(a.a)(t[s+1])?[]:{})}Object(o.a)(p,d,h),p=p[d]}return e},l=function(e,t,r){for(var o=-1,a=t.length,c={};++o<a;){var u=t[o],l=Object(n.a)(e,u);r(l,u)&&s(c,Object(i.a)(u,e),l)}return c},f=r(132),p=function(e,t){return l(e,t,(function(t,r){return Object(f.a)(e,r)}))},d=r(83),h=r(15),y=r(88),b=r(7),v=h.a?h.a.isConcatSpreadable:void 0,g=function(e){return Object(b.a)(e)||Object(y.a)(e)||!!(v&&e&&e[v])},m=function e(t,r,n,o,i){var a=-1,c=t.length;for(n||(n=g),i||(i=[]);++a<c;){var u=t[a];r>0&&n(u)?r>1?e(u,r-1,n,o,i):Object(d.a)(i,u):o||(i[i.length]=u)}return i},O=function(e){return null!=e&&e.length?m(e,1):[]},j=r(135),x=r(131),_=function(e){return Object(x.a)(Object(j.a)(e,void 0,O),e+"")}((function(e,t){return null==e?{}:p(e,t)}));t.a=_},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){var n=r(29),o=r(160),i=r(27),a=r(103),c=Object.defineProperty;t.f=n?c:function(e,t,r){if(i(e),t=a(t,!0),i(r),o)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(50);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return H})),r(21),r(192),r(23),r(68),r(185),r(22);var n,o,i,a,c,u,s,l,f,p,d,h,y,b,v,g,m,O,j,x,_,w,E,S,P=r(0),k=r(16),A=r(33),D=r(87),N=r(3),M=r(2),T=r(8),C=r(26),R=r(5);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function B(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var F=X({sourceNodeId:"",targetNodeId:"",startPoint:null,endPoint:null,zIndex:0,isSelected:!1,isHovered:!1,text:{value:"",x:0,y:0,draggable:!1,editable:!0},points:"",pointsList:[],strokeOpacity:1},T.a.line),H=(o=B((n=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=Object(D.a)(),this.BaseType=M.c.EDGE,L(this,"state",o,this),this.modelType=M.e.EDGE,this.additionStateData=void 0,this.graphModel=void 0,this.menu=void 0,L(this,"text",i,this),L(this,"type",a,this),L(this,"properties",c,this),L(this,"sourceNodeId",u,this),L(this,"targetNodeId",s,this),L(this,"startPoint",l,this),L(this,"endPoint",f,this),L(this,"strokeWidth",p,this),L(this,"stroke",d,this),L(this,"strokeDashArray",h,this),L(this,"outlineColor",y,this),L(this,"outlineStrokeDashArray",b,this),L(this,"strokeOpacity",v,this),L(this,"zIndex",g,this),L(this,"isSelected",m,this),L(this,"isHovered",O,this),L(this,"isHitable",j,this),L(this,"hoverStroke",x,this),L(this,"selectedStroke",_,this),L(this,"points",w,this),L(this,"pointsList",E,this),L(this,"draggable",S,this),this.graphModel=r,this.setStyleFromTheme(n,r),this.initEdgeData(t),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(t)}var t,r,n;return t=e,(r=[{key:"initEdgeData",value:function(e){e.properties||(e.properties={}),Object(k.a)(this,Object(R.m)(e))}},{key:"setAttributes",value:function(){}},{key:"move",value:function(){}},{key:"getBeginAnchor",value:function(e,t){var r,n;return Object(N.b)(e).forEach((function(e){var o=Object(R.q)(e,t);n?o<n&&(n=o,r=e):(n=o,r=e)})),r}},{key:"getEndAnchor",value:function(e){var t,r,n=this;return Object(N.b)(e).forEach((function(e){var o=Object(R.q)(e,n.startPoint);r?o<r&&(r=o,t=e):(r=o,t=e)})),t}},{key:"getProperties",value:function(){return Object(P.toJS)(this.properties)}},{key:"getData",value:function(){var e=this.text,t=e.x,r=e.y,n=e.value,o={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:X({},this.startPoint),endPoint:X({},this.endPoint),properties:Object(P.toJS)(this.properties)};return n&&(o.text={x:t,y:r,value:n}),o}},{key:"setProperty",value:function(e,t){this.properties[e]=Object(C.a)(t)}},{key:"setProperties",value:function(e){this.properties=Object.assign(this.properties,e)}},{key:"updateData",value:function(e){var t=Object(C.a)(Object(A.a)(e,"type","sourceNodeId","targetNodeId","startPoint","endPoint","text","properties")),r=this.text,n=r.x,o=r.y,i=r.draggable,a=r.editable;if(t.text&&"string"==typeof t.text){var c={value:t.text,draggable:i,editable:a},u=this.textPosition;t.text=n||o?X(X({},c),{},{x:n,y:o}):X(X({},c),u)}else if("object"===I(t.text)){var s=X(X({},this.text),t.text);t.text=Object(A.a)(s,"x","y","value","draggable","editable")}Object(k.a)(this,t)}},{key:"formatText",value:function(e){var t=this.textPosition,r=t.x,n=t.y;e.text?"string"!=typeof e.text?"[object Object]"===Object.prototype.toString.call(e.text)&&Object.assign(this.text,{x:r,y:n,draggable:!1,editable:!0},e.text):this.text={value:e.text||"",x:r,y:n,draggable:!1,editable:!0}:this.text={value:"",x:r,y:n,draggable:!1,editable:!0}}},{key:"moveText",value:function(e,t){if(this.text){var r=this.text,n=r.x,o=r.y,i=r.value,a=r.draggable,c=r.editable;this.text={value:i,draggable:a,x:n+e,y:o+t,editable:c}}}},{key:"setText",value:function(e){e&&(this.text=Object(k.a)(this.text,e))}},{key:"updateText",value:function(e){var t=this.text,r=t.x,n=t.y,o=t.draggable,i=t.editable;this.text={x:r,y:n,draggable:o,editable:i,value:e}}},{key:"setAnchors",value:function(){if(!this.startPoint){var e=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint=e}if(!this.endPoint){var t=this.getEndAnchor(this.targetNode);this.endPoint=t}}},{key:"setSelected",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=e}},{key:"setHovered",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=e}},{key:"setHitable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=e}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"updateStroke",value:function(e){this.stroke=e}},{key:"updateStrokeWidth",value:function(e){this.strokeWidth=e}},{key:"updateStartPoint",value:function(e){this.startPoint=e}},{key:"updateEndPoint",value:function(e){this.endPoint=e}},{key:"setStyleFromTheme",value:function(e,t){var r=t.theme;r[e]&&Object(k.a)(this,r[e])}},{key:"setZIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.zIndex;this.zIndex=e}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(e){Object(k.a)(this,e)}},{key:"sourceNode",get:function(){var e,t;return null===(e=this.graphModel)||void 0===e||null===(t=e.nodesMap[this.sourceNodeId])||void 0===t?void 0:t.model}},{key:"targetNode",get:function(){var e,t;return null===(e=this.graphModel)||void 0===e||null===(t=e.nodesMap[this.targetNodeId])||void 0===t?void 0:t.model}},{key:"textPosition",get:function(){return{x:0,y:0}}}])&&z(t.prototype,r),n&&z(t,n),e}()).prototype,"state",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),i=B(n.prototype,"text",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.text}}),a=B(n.prototype,"type",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=B(n.prototype,"properties",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),u=B(n.prototype,"sourceNodeId",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.sourceNodeId}}),s=B(n.prototype,"targetNodeId",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.targetNodeId}}),l=B(n.prototype,"startPoint",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.startPoint}}),f=B(n.prototype,"endPoint",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.endPoint}}),p=B(n.prototype,"strokeWidth",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.strokeWidth}}),d=B(n.prototype,"stroke",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.stroke}}),h=B(n.prototype,"strokeDashArray",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.strokeDashArray}}),y=B(n.prototype,"outlineColor",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.outlineColor}}),b=B(n.prototype,"outlineStrokeDashArray",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.outlineStrokeDashArray}}),v=B(n.prototype,"strokeOpacity",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.strokeOpacity}}),g=B(n.prototype,"zIndex",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.zIndex}}),m=B(n.prototype,"isSelected",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.isSelected}}),O=B(n.prototype,"isHovered",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.isHovered}}),j=B(n.prototype,"isHitable",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),x=B(n.prototype,"hoverStroke",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.hoverStroke}}),_=B(n.prototype,"selectedStroke",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.selectedStroke}}),w=B(n.prototype,"points",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.points}}),E=B(n.prototype,"pointsList",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.pointsList}}),S=B(n.prototype,"draggable",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B(n.prototype,"sourceNode",[P.computed],Object.getOwnPropertyDescriptor(n.prototype,"sourceNode"),n.prototype),B(n.prototype,"targetNode",[P.computed],Object.getOwnPropertyDescriptor(n.prototype,"targetNode"),n.prototype),B(n.prototype,"textPosition",[P.computed],Object.getOwnPropertyDescriptor(n.prototype,"textPosition"),n.prototype),B(n.prototype,"setProperty",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"setProperty"),n.prototype),B(n.prototype,"setProperties",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"setProperties"),n.prototype),B(n.prototype,"updateData",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"updateData"),n.prototype),B(n.prototype,"formatText",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"formatText"),n.prototype),B(n.prototype,"moveText",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"moveText"),n.prototype),B(n.prototype,"setText",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"setText"),n.prototype),B(n.prototype,"updateText",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"updateText"),n.prototype),B(n.prototype,"setAnchors",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"setAnchors"),n.prototype),B(n.prototype,"setSelected",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"setSelected"),n.prototype),B(n.prototype,"setHovered",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"setHovered"),n.prototype),B(n.prototype,"setHitable",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"setHitable"),n.prototype),B(n.prototype,"setElementState",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"setElementState"),n.prototype),B(n.prototype,"updateStroke",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"updateStroke"),n.prototype),B(n.prototype,"updateStrokeWidth",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"updateStrokeWidth"),n.prototype),B(n.prototype,"updateStartPoint",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"updateStartPoint"),n.prototype),B(n.prototype,"updateEndPoint",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"updateEndPoint"),n.prototype),B(n.prototype,"setStyleFromTheme",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"setStyleFromTheme"),n.prototype),B(n.prototype,"setZIndex",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"setZIndex"),n.prototype),B(n.prototype,"initPoints",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"initPoints"),n.prototype),B(n.prototype,"updateAttributes",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"updateAttributes"),n.prototype),n);t.b=H},function(e,t,r){"use strict";(function(e){r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return s}));var n=r(4),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};function i(){var e=o(Object(n.j)(0),2)[1];return Object(n.h)((function(){e((function(e){return e+1}))}),[])}function a(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}function c(e){return"function"==typeof Symbol?Symbol.for(e):"__$mobx-react "+e+"__"}var u={};function s(){return"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:u}}).call(this,r(100))},function(e,t,r){"use strict";var n=r(15),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=n.a?n.a.toStringTag:void 0,u=function(e){var t=i.call(e,c),r=e[c];try{e[c]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[c]=r:delete e[c]),o},s=Object.prototype.toString,l=function(e){return s.call(e)},f=n.a?n.a.toStringTag:void 0;t.a=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":f&&f in Object(e)?u(e):l(e)}},function(e,t,r){var n=r(73),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t,r){"use strict";var n=r(6),o=r(9),i=r(169),a=r(34),c=r(36),u=r(40),s=r(155),l=r(145),f=r(111),p=r(17),d=r(153),h=p("isConcatSpreadable"),y=d>=51||!o((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),b=f("concat"),v=function(e){if(!a(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)};n({target:"Array",proto:!0,forced:!y||!b},{concat:function(e){var t,r,n,o,i,a=c(this),f=l(a,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(v(i=-1===t?a:arguments[t])){if(p+(o=u(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<o;r++,p++)r in i&&s(f,p,i[r])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(f,p++,i)}return f.length=p,f}})},function(e,t,r){var n=r(6),o=r(237),i=r(147);n({target:"Array",proto:!0},{fill:o}),i("fill")},function(e,t,r){"use strict";var n=r(56),o=r(126);t.a=function(e,t,r,i){var a=!r;r||(r={});for(var c=-1,u=t.length;++c<u;){var s=t[c],l=i?i(r[s],e[s],s,r,e):void 0;void 0===l&&(l=e[s]),a?Object(o.a)(r,s,l):Object(n.a)(r,s,l)}return r}},function(e,t,r){"use strict";var n=r(57);t.a=function(e){if("string"==typeof e||Object(n.a)(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,r){var n=r(29),o=r(35),i=r(102);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return O})),r.d(t,"b",(function(){return O})),r(23);var n,o,i=r(0),a=r(37),c=r(2);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h,y,b,v,g,m,O=(o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,r,n,o=f(i);function i(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e,t,"line")).modelType=c.e.LINE_EDGE,r}return t=i,(r=[{key:"textPosition",get:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&s(t.prototype,r),n&&s(t,n),i}(a.b),h=(n=o).prototype,y="textPosition",b=[i.computed],v=Object.getOwnPropertyDescriptor(n.prototype,"textPosition"),g=n.prototype,m={},Object.keys(v).forEach((function(e){m[e]=v[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=b.slice().reverse().reduce((function(e,t){return t(h,y,e)||e}),m),g&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(g):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(h,y,m),m=null),n)},function(e,t,r){"use strict";var n=r(25),o=r(10),i=Object(n.a)(o.a,"DataView"),a=r(60),c=Object(n.a)(o.a,"Promise"),u=Object(n.a)(o.a,"Set"),s=Object(n.a)(o.a,"WeakMap"),l=r(39),f=r(49),p=Object(f.a)(i),d=Object(f.a)(a.a),h=Object(f.a)(c),y=Object(f.a)(u),b=Object(f.a)(s),v=l.a;(i&&"[object DataView]"!=v(new i(new ArrayBuffer(1)))||a.a&&"[object Map]"!=v(new a.a)||c&&"[object Promise]"!=v(c.resolve())||u&&"[object Set]"!=v(new u)||s&&"[object WeakMap]"!=v(new s))&&(v=function(e){var t=Object(l.a)(e),r="[object Object]"==t?e.constructor:void 0,n=r?Object(f.a)(r):"";if(n)switch(n){case p:return"[object DataView]";case d:return"[object Map]";case h:return"[object Promise]";case y:return"[object Set]";case b:return"[object WeakMap]"}return t}),t.a=v},function(e,r,n){"use strict";(function(e){var o=n(124),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,c=a&&a.exports===i&&o.a.process,u=function(){try{return a&&a.require&&a.require("util").types||c&&c.binding&&c.binding("util")}catch(e){}}();r.a=u}).call(this,n(156)(e))},function(e,t,r){"use strict";var n=Function.prototype.toString;t.a=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,r){var n=r(20),o=r(45),i=r(30),a=r(136),c=r(162),u=r(104),s=u.get,l=u.enforce,f=String(String).split("String");(e.exports=function(e,t,r,c){var u,s=!!c&&!!c.unsafe,p=!!c&&!!c.enumerable,d=!!c&&!!c.noTargetGet;"function"==typeof r&&("string"!=typeof t||i(r,"name")||o(r,"name",t),(u=l(r)).source||(u.source=f.join("string"==typeof t?t:""))),e!==n?(s?!d&&e[t]&&(p=!0):delete e[t],p?e[t]=r:o(e,t,r)):p?e[t]=r:a(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&s(this).source||c(this)}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return P})),r.d(t,"b",(function(){return P})),r(41),r(21),r(116),r(28),r(114),r(23),r(22);var n,o,i,a=r(0),c=r(2),u=r(8),s=r(3),l=r(5);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t,r){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=E(e);if(t){var o=E(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _(this,r)}}function _(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var P=(i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(a,e);var t,r,n,i=x(a);function a(e,t){var r,n,s,l,f;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t,"polyline")).modelType=c.e.POLYLINE_EDGE,r.offset=u.a.polyline.offset,r.draginngPointList=void 0,n=r,s="dbClickPosition",l=o,f=w(r),l&&Object.defineProperty(n,s,{enumerable:l.enumerable,configurable:l.configurable,writable:l.writable,value:l.initializer?l.initializer.call(f):void 0}),r}return t=a,(r=[{key:"getAfterAnchor",value:function(e,t,r){var n,o;return r.forEach((function(r){var i;e===c.f.HORIZONTAL?i=Math.abs(t.y-r.y):e===c.f.VERTICAL&&(i=Math.abs(t.x-r.x)),(!o||o>i)&&(o=i,n=r)})),n}},{key:"getCorssPoint",value:function(e,t,r){var n;return e===c.f.HORIZONTAL?n={x:r.x,y:t.y}:e===c.f.VERTICAL&&(n={x:t.x,y:r.y}),n}},{key:"removeCrossPoints",value:function(e,t,r){var n=b(r);if(1===e){var o=n[e],i=n[t],a=n[e-1];if(Object(l.l)(a,o,this.sourceNode)){if(Object(l.k)(o,i,this.sourceNode)){var c=Object(l.g)(o,i,this.sourceNode);c&&(n[e]=c,n.splice(e-1,1),e--,t--)}}else this.sourceNode.anchors.forEach((function(t){(t.x===a.x&&t.x===o.x||t.y===a.y&&t.y===o.y)&&Object(s.a)(t.x,t.y,o.x,o.y)<Object(s.a)(a.x,a.y,o.x,o.y)&&(n[e-1]=t)}))}if(t===r.length-2){var u=n[e],f=n[t],p=n[t+1];if(Object(l.l)(f,p,this.targetNode)){if(Object(l.k)(u,f,this.targetNode)){var d=Object(l.g)(u,f,this.targetNode);d&&(n[t]=d,n.splice(t+1,1))}}else this.targetNode.anchors.forEach((function(e){(e.x===p.x&&e.x===f.x||e.y===p.y&&e.y===f.y)&&Object(s.a)(e.x,e.y,f.x,f.y)<Object(s.a)(p.x,p.y,f.x,f.y)&&(n[t+1]=e)}))}return n}},{key:"getDragingPoints",value:function(e,t,r,n,o){var i=b(o),a=this.getAfterAnchor(e,r,n),c=this.getCorssPoint(e,r,a);return"start"===t?(i.unshift(c),i.unshift(a)):(i.push(c),i.push(a)),i}},{key:"updateCrossPoints",value:function(e){var t=b(e),r=e[0],n=e[1],o=e[t.length-2],i=e[t.length-1],a=this.sourceNode,u=this.targetNode,f=a.modelType,p=u.modelType,d=Object(l.p)(r,n),h=t[0];switch(f){case c.e.RECT_NODE:0!==a.radius&&(Object(s.h)(r,a)||(h=Object(s.c)(r,d,a)));break;case c.e.CIRCLE_NODE:h=Object(s.d)(r,d,a);break;case c.e.ELLIPSE_NODE:h=Object(s.e)(r,d,a);break;case c.e.DIAMOND_NODE:case c.e.POLYGON_NODE:h=Object(s.f)(r,d,a)}t[0]=h;var y=Object(l.p)(o,i),v=t[t.length-1];switch(p){case c.e.RECT_NODE:0!==u.radius&&(Object(s.h)(i,u)||(v=Object(s.c)(i,y,u)));break;case c.e.CIRCLE_NODE:v=Object(s.d)(i,y,u);break;case c.e.ELLIPSE_NODE:v=Object(s.e)(i,y,u);break;case c.e.DIAMOND_NODE:case c.e.POLYGON_NODE:v=Object(s.f)(i,y,u)}return t[t.length-1]=v,t}},{key:"getData",value:function(){var e=O(E(a.prototype),"getData",this).call(this),t=this.pointsList.map((function(e){return{x:e.x,y:e.y}}));return h(h({},e),{},{pointsList:t})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var e=Object(l.j)({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=e,this.points=e.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" ")}},{key:"updateStartPoint",value:function(e){this.startPoint=e,this.updatePoints()}},{key:"updateEndPoint",value:function(e){this.endPoint=e,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=b(this.pointsList)}},{key:"dragAppend",value:function(e,t){var r=e.start,n=e.end,o=e.startIndex,i=e.endIndex,a=e.direction,u=this.pointsList;if(a===c.f.HORIZONTAL){u[o]={x:r.x,y:r.y+t.y},u[i]={x:n.x,y:n.y+t.y};var f=b(this.pointsList);if(0!==o&&i!==this.pointsList.length-1&&(f=this.removeCrossPoints(o,i,f)),0===o){var p={x:r.x,y:r.y+t.y};if(!Object(s.i)(p,this.sourceNode)){var d=this.sourceNode.anchors;f=this.getDragingPoints(a,"start",p,d,f)}}if(i===this.pointsList.length-1){var y={x:n.x,y:n.y+t.y};if(!Object(s.i)(y,this.targetNode)){var v=this.targetNode.anchors;f=this.getDragingPoints(a,"end",y,v,f)}}f=Object(l.o)(f),this.updatePointsAfterDrage(f),this.draginngPointList=f}else if(a===c.f.VERTICAL){u[o]={x:r.x+t.x,y:r.y},u[i]={x:n.x+t.x,y:n.y};var g=b(this.pointsList);if(0!==o&&i!==this.pointsList.length-1&&(g=this.removeCrossPoints(o,i,g)),0===o){var m={x:r.x+t.x,y:r.y};if(!Object(s.i)(m,this.sourceNode)){var O=this.sourceNode.anchors;g=this.getDragingPoints(a,"start",m,O,g)}}if(i===this.pointsList.length-1){var j={x:n.x+t.x,y:n.y};if(!Object(s.i)(j,this.targetNode)){var x=this.targetNode.anchors;g=this.getDragingPoints(a,"end",j,x,g)}}g=Object(l.o)(g),this.updatePointsAfterDrage(g),this.draginngPointList=g}return this.setText(h(h({},this.text),this.textPosition)),{start:u[o],end:u[i],startIndex:o,endIndex:i,direction:a}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var e=Object(l.n)(this.points);this.pointsList=b(e),this.draginngPointList=[];var t=e[0];this.startPoint=h({},t);var r=e[e.length-1];this.endPoint=h({},r)}}},{key:"updatePointsAfterDrage",value:function(e){var t=this.updateCrossPoints(e);this.points=t.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" ")}},{key:"textPosition",get:function(){var e,t=null===(e=this.text)||void 0===e?void 0:e.value;if(this.dbClickPosition&&!t){var r=this.dbClickPosition;return{x:r.x,y:r.y}}var n=Object(l.n)(this.points),o=p(Object(l.i)(n),2),i=o[0],a=o[1];return{x:(i.x+a.x)/2,y:(i.y+a.y)/2}}}])&&m(t.prototype,r),n&&m(t,n),a}(r(37).b),o=S((n=i).prototype,"dbClickPosition",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S(n.prototype,"textPosition",[a.computed],Object.getOwnPropertyDescriptor(n.prototype,"textPosition"),n.prototype),S(n.prototype,"initPoints",[a.action],Object.getOwnPropertyDescriptor(n.prototype,"initPoints"),n.prototype),S(n.prototype,"updatePoints",[a.action],Object.getOwnPropertyDescriptor(n.prototype,"updatePoints"),n.prototype),S(n.prototype,"updateStartPoint",[a.action],Object.getOwnPropertyDescriptor(n.prototype,"updateStartPoint"),n.prototype),S(n.prototype,"updateEndPoint",[a.action],Object.getOwnPropertyDescriptor(n.prototype,"updateEndPoint"),n.prototype),S(n.prototype,"dragAppendStart",[a.action],Object.getOwnPropertyDescriptor(n.prototype,"dragAppendStart"),n.prototype),S(n.prototype,"dragAppend",[a.action],Object.getOwnPropertyDescriptor(n.prototype,"dragAppend"),n.prototype),S(n.prototype,"dragAppendEnd",[a.action],Object.getOwnPropertyDescriptor(n.prototype,"dragAppendEnd"),n.prototype),S(n.prototype,"updatePointsAfterDrage",[a.action],Object.getOwnPropertyDescriptor(n.prototype,"updatePointsAfterDrage"),n.prototype),n)},function(e,t,r){"use strict";var n=/^(?:0|[1-9]\d*)$/;t.a=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,r){"use strict";t.a=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){"use strict";var n=Object.prototype;t.a=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,r){"use strict";var n=r(126),o=r(54),i=Object.prototype.hasOwnProperty;t.a=function(e,t,r){var a=e[t];i.call(e,t)&&Object(o.a)(a,r)&&(void 0!==r||t in e)||Object(n.a)(e,t,r)}},function(e,t,r){"use strict";var n=r(39),o=r(24);t.a=function(e){return"symbol"==typeof e||Object(o.a)(e)&&"[object Symbol]"==Object(n.a)(e)}},function(e,t,r){"use strict";var n=function(){this.__data__=[],this.size=0},o=r(54),i=function(e,t){for(var r=e.length;r--;)if(Object(o.a)(e[r][0],t))return r;return-1},a=Array.prototype.splice,c=function(e){var t=this.__data__,r=i(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)},u=function(e){var t=this.__data__,r=i(t,e);return r<0?void 0:t[r][1]},s=function(e){return i(this.__data__,e)>-1},l=function(e,t){var r=this.__data__,n=i(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function f(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}f.prototype.clear=n,f.prototype.delete=c,f.prototype.get=u,f.prototype.has=s,f.prototype.set=l,t.a=f},function(e,t,r){"use strict";var n=r(7),o=r(85),i=r(70);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(a.Cache||i.a),r}a.Cache=i.a;var c=a,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,l=function(e){var t=c(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(u,(function(e,r,n,o){t.push(n?o.replace(s,"$1"):r||e)})),t})),f=r(15),p=r(128),d=r(57),h=f.a?f.a.prototype:void 0,y=h?h.toString:void 0,b=function e(t){if("string"==typeof t)return t;if(Object(n.a)(t))return Object(p.a)(t,e)+"";if(Object(d.a)(t))return y?y.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r},v=function(e){return null==e?"":b(e)};t.a=function(e,t){return Object(n.a)(e)?e:Object(o.a)(e,t)?[e]:l(v(e))}},function(e,t,r){"use strict";var n=r(25),o=r(10),i=Object(n.a)(o.a,"Map");t.a=i},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){var t=e.start,r=e.end,n=e.offset,o=e.verticalLength,i=e.type,a={leftX:0,leftY:0,rightX:0,rightY:0},c=Math.atan((r.y-t.y)/(r.x-t.x)),u=Math.atan(n/o),s=Math.sqrt(o*o+n*n);return"start"===i?r.x>=t.x?(a.leftX=t.x+s*Math.sin(c+u),a.leftY=t.y-s*Math.cos(c+u),a.rightX=t.x-s*Math.sin(c-u),a.rightY=t.y+s*Math.cos(c-u)):(a.leftX=t.x-s*Math.sin(c+u),a.leftY=t.y+s*Math.cos(c+u),a.rightX=t.x+s*Math.sin(c-u),a.rightY=t.y-s*Math.cos(c-u)):"end"===i&&(r.x>=t.x?(a.leftX=r.x+s*Math.sin(c-u),a.leftY=r.y-s*Math.cos(c-u),a.rightX=r.x-s*Math.sin(c+u),a.rightY=r.y+s*Math.cos(c+u)):(a.leftX=r.x-s*Math.sin(c-u),a.leftY=r.y+s*Math.cos(c-u),a.rightX=r.x+s*Math.sin(c+u),a.rightY=r.y-s*Math.cos(c+u))),a}},function(e,t,r){"use strict";var n=r(58),o=function(){this.__data__=new n.a,this.size=0},i=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},a=function(e){return this.__data__.get(e)},c=function(e){return this.__data__.has(e)},u=r(60),s=r(70),l=function(e,t){var r=this.__data__;if(r instanceof n.a){var o=r.__data__;if(!u.a||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new s.a(o)}return r.set(e,t),this.size=r.size,this};function f(e){var t=this.__data__=new n.a(e);this.size=t.size}f.prototype.clear=o,f.prototype.delete=i,f.prototype.get=a,f.prototype.has=c,f.prototype.set=l,t.a=f},function(e,t,r){"use strict";function n(e,t){return t*Math.round(e/t)||e}function o(e,t){return e%t}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(e,t,r,n){var o=(t.y-e.y)*(n.x-r.x)-(e.x-t.x)*(r.y-n.y);if(0===o)return!1;var i=((t.x-e.x)*(n.x-r.x)*(r.y-e.y)+(t.y-e.y)*(n.x-r.x)*e.x-(n.y-r.y)*(t.x-e.x)*r.x)/o,a=-((t.y-e.y)*(n.y-r.y)*(r.x-e.x)+(t.x-e.x)*(n.y-r.y)*e.y-(n.x-r.x)*(t.y-e.y)*r.y)/o;return(i-e.x)*(i-t.x)<=0&&(a-e.y)*(a-t.y)<=0&&(i-r.x)*(i-n.x)<=0&&(a-r.y)*(a-n.y)<=0&&{x:i,y:a}},o=function(e,t,r){var n=e.x,o=e.y;return(n-t.x)*(n-r.x)<=0&&(o-t.y)*(o-r.y)<=0}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(29),o=r(9),i=r(30),a=Object.defineProperty,c={},u=function(e){throw e};e.exports=function(e,t){if(i(c,e))return c[e];t||(t={});var r=[][e],s=!!i(t,"ACCESSORS")&&t.ACCESSORS,l=i(t,0)?t[0]:u,f=i(t,1)?t[1]:void 0;return c[e]=!!r&&!o((function(){if(s&&!n)return!0;var e={length:-1};s?a(e,1,{enumerable:!0,get:u}):e[1]=1,r.call(e,l,f)}))}},function(e,t,r){"use strict";var n=r(72),o=r(147),i=r(93),a=r(104),c=r(149),u=a.set,s=a.getterFor("Array Iterator");e.exports=c(Array,"Array",(function(e,t){u(this,{type:"Array Iterator",target:n(e),index:0,kind:t})}),(function(){var e=s(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t,r){var n=r(154),o=r(51),i=r(220);n||o(Object.prototype,"toString",i,{unsafe:!0})},function(e,r,n){"use strict";(function(e){var o=n(10),i=n(199),a=t&&!t.nodeType&&t,c=a&&"object"==typeof e&&e&&!e.nodeType&&e,u=c&&c.exports===a?o.a.Buffer:void 0,s=(u?u.isBuffer:void 0)||i.a;r.a=s}).call(this,n(156)(e))},function(e,t,r){"use strict";var n=r(25),o=Object(n.a)(Object,"create"),i=function(){this.__data__=o?o(null):{},this.size=0},a=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},c=Object.prototype.hasOwnProperty,u=function(e){var t=this.__data__;if(o){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return c.call(t,e)?t[e]:void 0},s=Object.prototype.hasOwnProperty,l=function(e){var t=this.__data__;return o?void 0!==t[e]:s.call(t,e)},f=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=o&&void 0===t?"__lodash_hash_undefined__":t,this};function p(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}p.prototype.clear=i,p.prototype.delete=a,p.prototype.get=u,p.prototype.has=l,p.prototype.set=f;var d=p,h=r(58),y=r(60),b=function(){this.size=0,this.__data__={hash:new d,map:new(y.a||h.a),string:new d}},v=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},g=function(e,t){var r=e.__data__;return v(t)?r["string"==typeof t?"string":"hash"]:r.map},m=function(e){var t=g(this,e).delete(e);return this.size-=t?1:0,t},O=function(e){return g(this,e).get(e)},j=function(e){return g(this,e).has(e)},x=function(e,t){var r=g(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function _(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_.prototype.clear=b,_.prototype.delete=m,_.prototype.get=O,_.prototype.has=j,_.prototype.set=x,t.a=_},function(e,t,r){"use strict";r.d(t,"a",(function(){return te})),r.d(t,"b",(function(){return oe})),r.d(t,"c",(function(){return J}));var n=r(0),o=r(4);if(!o.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!n.spy)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var i=r(38),a=Object(i.b)("observerBatching");function c(e){e()}var u=!1;function s(){return u}function l(e){return Object(n.getDependencyTree)(e)}var f,p=1e4,d=new Set;function h(){void 0===f&&(f=setTimeout(y,1e4))}function y(){f=void 0;var e=Date.now();d.forEach((function(t){var r=t.current;r&&e>=r.cleanAt&&(r.reaction.dispose(),t.current=null,d.delete(t))})),d.size>0&&h()}var b=!1,v=[],g={};function m(e){return"observer"+e}function O(e,t,r){if(void 0===t&&(t="observed"),void 0===r&&(r=g),s())return e();var a,c=function(e){return function(){b?v.push(e):e()}}((r.useForceUpdate||i.d)()),u=o.d.useRef(null);if(!u.current){var f=new n.Reaction(m(t),(function(){y.mounted?c():(f.dispose(),u.current=null)})),y=function(e){return{cleanAt:Date.now()+p,reaction:e}}(f);u.current=y,a=u,d.add(a),h()}var O=u.current.reaction;return o.d.useDebugValue(O,l),o.d.useEffect((function(){var e;return e=u,d.delete(e),u.current?u.current.mounted=!0:(u.current={reaction:new n.Reaction(m(t),(function(){c()})),cleanAt:1/0},c()),function(){u.current.reaction.dispose(),u.current=null}}),[]),function(e){b=!0,v=[];try{var t=e();b=!1;var r=v.length>0?v:void 0;return o.d.useLayoutEffect((function(){r&&r.forEach((function(e){return e()}))}),[r]),t}finally{b=!1}}((function(){var t,r;if(O.track((function(){try{t=e()}catch(e){r=e}})),r)throw r;return t}))}var j=function(){return(j=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function x(e,t){if(s())return e;var r,n,i,a=j({forwardRef:!1},t),c=e.displayName||e.name,u=function(t,r){return O((function(){return e(t,r)}),c)};return u.displayName=c,r=a.forwardRef?Object(o.f)(Object(o.e)(u)):Object(o.f)(u),n=e,i=r,Object.keys(n).forEach((function(e){w[e]||Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(n,e))})),r.displayName=c,r}var _,w={$$typeof:!0,render:!0,compare:!0,type:!0};function E(e){var t=e.children,r=e.render,n=t||r;return"function"!=typeof n?null:O(n)}function S(e,t,r,n,o){var i="children"===t?"render":"children",a="function"==typeof e[t],c="function"==typeof e[i];return a&&c?new Error("MobX Observer: Do not use children and render in the same time in`"+r):a||c?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[t]+"` supplied to `"+r+"`, expected `function`.")}E.propTypes={children:S,render:S},E.displayName="Observer",(_=o.g)||(_=c),Object(n.configure)({reactionScheduler:_}),Object(i.a)()[a]=!0;var P=0,k={};function A(e){return k[e]||(k[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+P+")";return P++,t}(e)),k[e]}function D(e,t){if(N(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!Object.hasOwnProperty.call(t,r[o])||!N(e[r[o]],t[r[o]]))return!1;return!0}function N(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var M={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,propTypes:1};function T(e,t,r){Object.hasOwnProperty.call(e,t)?e[t]=r:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:r})}var C=A("patchMixins"),R=A("patchedDefinition");function I(e,t){for(var r=this,n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];t.locks++;try{var a;return null!=e&&(a=e.apply(this,o)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(r,o)}))}}function L(e,t){return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];I.call.apply(I,[this,e,t].concat(n))}}function z(e,t,r){var n=function(e,t){var r=e[C]=e[C]||{},n=r[t]=r[t]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}(e,t);n.methods.indexOf(r)<0&&n.methods.push(r);var o=Object.getOwnPropertyDescriptor(e,t);if(!o||!o[R]){var i=e[t],a=function e(t,r,n,o,i){var a,c=L(i,o);return(a={})[R]=!0,a.get=function(){return c},a.set=function(i){if(this===t)c=L(i,o);else{var a=e(this,r,n,o,i);Object.defineProperty(this,r,a)}},a.configurable=!0,a.enumerable=n,a}(e,t,o?o.enumerable:void 0,n,i);Object.defineProperty(e,t,a)}}var B=n.$mobx||"$mobx",G=A("isMobXReactObserver"),X=A("isUnmounted"),U=A("skipRender"),F=A("isForcingUpdate");function H(e){var t=e.prototype;if(e[G]){var r=V(t);console.warn("The provided component class ("+r+") \n                has already been declared as an observer component.")}else e[G]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==o.b)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==W)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=W;K(t,"props"),K(t,"state");var n=t.render;return t.render=function(){return Y.call(this,n)},z(t,"componentWillUnmount",(function(){var e;if(!0!==s()&&(null===(e=this.render[B])||void 0===e||e.dispose(),this[X]=!0,!this.render[B])){var t=V(this);console.warn("The reactive render of an observer class component ("+t+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.")}})),e}function V(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function Y(e){var t=this;if(!0===s())return e.call(this);T(this,U,!1),T(this,F,!1);var r=V(this),i=e.bind(this),a=!1,c=new n.Reaction(r+".render()",(function(){if(!a&&(a=!0,!0!==t[X])){var e=!0;try{T(t,F,!0),t[U]||o.a.prototype.forceUpdate.call(t),e=!1}finally{T(t,F,!1),e&&c.dispose()}}}));function u(){a=!1;var e=void 0,t=void 0;if(c.track((function(){try{t=Object(n._allowStateChanges)(!1,i)}catch(t){e=t}})),e)throw e;return t}return c.reactComponent=this,u[B]=c,this.render=u,u.call(this)}function W(e,t){return s()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!D(this.props,e)}function K(e,t){var r=A("reactProp_"+t+"_valueHolder"),o=A("reactProp_"+t+"_atomHolder");function i(){return this[o]||T(this,o,Object(n.createAtom)("reactive "+t)),this[o]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=!1;return n._allowStateReadsStart&&n._allowStateReadsEnd&&(e=Object(n._allowStateReadsStart)(!0)),i.call(this).reportObserved(),n._allowStateReadsStart&&n._allowStateReadsEnd&&Object(n._allowStateReadsEnd)(e),this[r]},set:function(e){this[F]||D(this[r],e)?T(this,r,e):(T(this,r,e),T(this,U,!0),i.call(this).reportChanged(),T(this,U,!1))}})}var q="function"==typeof Symbol&&Symbol.for,Z=q?Symbol.for("react.forward_ref"):"function"==typeof o.e&&Object(o.e)((function(e){return null})).$$typeof,$=q?Symbol.for("react.memo"):"function"==typeof o.f&&Object(o.f)((function(e){return null})).$$typeof;function J(e){if(!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),$&&e.$$typeof===$)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(Z&&e.$$typeof===Z){var t=e.render;if("function"!=typeof t)throw new Error("render property of ForwardRef was not a function");return Object(o.e)((function(){var e=arguments;return Object(o.c)(E,null,(function(){return t.apply(void 0,e)}))}))}return"function"!=typeof e||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(o.a,e)?H(e):x(e)}function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var ee=o.d.createContext({});function te(e){var t=e.children,r=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["children"]),n=o.d.useContext(ee),i=o.d.useRef(Q({},n,r)).current;return o.d.createElement(ee.Provider,{value:i},t)}function re(e,t,r,n){var i,a,c,u=o.d.forwardRef((function(r,n){var i=Q({},r),a=o.d.useContext(ee);return Object.assign(i,e(a||{},i)||{}),n&&(i.ref=n),o.d.createElement(t,i)}));return n&&(u=J(u)),u.isMobxInjector=!0,i=t,a=u,c=Object.getOwnPropertyNames(Object.getPrototypeOf(i)),Object.getOwnPropertyNames(i).forEach((function(e){M[e]||-1!==c.indexOf(e)||Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})),u.wrappedComponent=t,u.displayName=function(e,t){var r=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t?"inject-with-"+t+"("+r+")":"inject("+r+")"}(t,r),u}function ne(e){return function(t,r){return e.forEach((function(e){if(!(e in r)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");r[e]=t[e]}})),r}}function oe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if("function"==typeof arguments[0]){var n=arguments[0];return function(e){return re(n,e,n.name,!0)}}return function(e){return re(ne(t),e,t.join("-"),!1)}}if(te.displayName="MobXProvider",!o.a)throw new Error("mobx-react requires React to be available");if(!n.observable)throw new Error("mobx-react requires mobx to be available")},function(e,t,r){var n=r(92),o=r(50);e.exports=function(e){return n(o(e))}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(20),o=r(183),i=r(67),a=r(45),c=r(17),u=c("iterator"),s=c("toStringTag"),l=i.values;for(var f in o){var p=n[f],d=p&&p.prototype;if(d){if(d[u]!==l)try{a(d,u,l)}catch(e){d[u]=l}if(d[s]||a(d,s,f),o[f])for(var h in i)if(d[h]!==i[h])try{a(d,h,i[h])}catch(e){d[h]=i[h]}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return g})),r(28),r(23);var n,o,i,a=r(0),c=r(18),u=r(2),s=r(8);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b(e);if(t){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var g=(i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,r,n,i=d(a);function a(e,t){var r,n,c,s,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t,"rect")).modelType=u.e.RECT_NODE,n=r,c="radius",s=o,l=y(r),s&&Object.defineProperty(n,c,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(l):void 0}),r}return t=a,(r=[{key:"anchors",get:function(){var e=this.anchorsOffset,t=this.x,r=this.y,n=this.width,o=this.height;return Array.isArray(e)&&e.length>0?e.map((function(e){return{x:t+e[0],y:r+e[1]}})):[{x:t,y:r-o/2},{x:t+n/2,y:r},{x:t,y:r+o/2},{x:t-n/2,y:r}]}}])&&f(t.prototype,r),n&&f(t,n),a}(c.b),o=v((n=i).prototype,"radius",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s.a.rect.radius}}),v(n.prototype,"anchors",[a.computed],Object.getOwnPropertyDescriptor(n.prototype,"anchors"),n.prototype),n);t.b=g},function(e,t,r){"use strict";r.d(t,"a",(function(){return g})),r(28),r(23);var n,o,i,a=r(0),c=r(18),u=r(2),s=r(8);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b(e);if(t){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var g=(i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,r,n,i=d(a);function a(e,t){var r,n,c,s,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t,"circle")).modelType=u.e.CIRCLE_NODE,n=r,c="r",s=o,l=y(r),s&&Object.defineProperty(n,c,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(l):void 0}),r}return t=a,(r=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"anchors",get:function(){var e=this.anchorsOffset,t=this.x,r=this.y,n=this.r;return Array.isArray(e)&&e.length>0?e.map((function(e){return{x:t+e[0],y:r+e[1]}})):[{x:t,y:r-n},{x:t+n,y:r},{x:t,y:r+n},{x:t-n,y:r}]}}])&&f(t.prototype,r),n&&f(t,n),a}(c.b),o=v((n=i).prototype,"r",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s.a.circle.r}}),v(n.prototype,"width",[a.computed],Object.getOwnPropertyDescriptor(n.prototype,"width"),n.prototype),v(n.prototype,"height",[a.computed],Object.getOwnPropertyDescriptor(n.prototype,"height"),n.prototype),v(n.prototype,"anchors",[a.computed],Object.getOwnPropertyDescriptor(n.prototype,"anchors"),n.prototype),n);t.b=g},function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r(21),r(28),r(94),r(95),r(158),r(23),r(22);var n,o,i,a=r(0),c=r(18),u=r(2);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var m=(i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(a,e);var t,r,n,i=h(a);function a(e,t){var r,n,c,s,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t,"polygon")).modelType=u.e.POLYGON_NODE,n=r,c="points",s=o,l=b(r),s&&Object.defineProperty(n,c,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(l):void 0}),r}return t=a,(r=[{key:"pointsPosition",get:function(){var e=this.x,t=this.y,r=this.width,n=this.height;return this.points.map((function(o){return{x:o[0]+e-r/2,y:o[1]+t-n/2}}))}},{key:"width",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(r){var n=l(r,1)[0];n<e&&(e=n),n>t&&(t=n)})),t-e}},{key:"height",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(r){var n=l(r,2)[1];n<e&&(e=n),n>t&&(t=n)})),t-e}},{key:"anchors",get:function(){var e=this.anchorsOffset,t=this.x,r=this.y,n=this.width,o=this.height,i=this.points;return Array.isArray(e)&&e.length>0?e.map((function(e){return{x:t+e[0],y:r+e[1]}})):i.map((function(e){var i=l(e,2),a=i[0],c=i[1];return{x:t+a-n/2,y:r+c-o/2}}))}}])&&p(t.prototype,r),n&&p(t,n),a}(c.b),o=g((n=i).prototype,"points",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),g(n.prototype,"pointsPosition",[a.computed],Object.getOwnPropertyDescriptor(n.prototype,"pointsPosition"),n.prototype),g(n.prototype,"width",[a.computed],Object.getOwnPropertyDescriptor(n.prototype,"width"),n.prototype),g(n.prototype,"height",[a.computed],Object.getOwnPropertyDescriptor(n.prototype,"height"),n.prototype),g(n.prototype,"anchors",[a.computed],Object.getOwnPropertyDescriptor(n.prototype,"anchors"),n.prototype),n);t.b=m},function(e,t,r){"use strict";r.d(t,"a",(function(){return j})),r(23);var n,o,i,a,c,u=r(0),s=r(18),l=r(2),f=r(8);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}function v(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var j=(c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(u,e);var t,r,n,c=b(u);function u(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(r=c.call(this,e,t,"text")).modelType=l.e.TEXT_NODE,d(r,"fontSize",o,g(r)),d(r,"fontFamily",i,g(r)),d(r,"fontWeight",a,g(r)),r}return t=u,(r=[{key:"width",get:function(){return this.fontSize*this.text.value.length}},{key:"height",get:function(){return 1.5*this.fontSize}},{key:"anchors",get:function(){return[]}}])&&h(t.prototype,r),n&&h(t,n),u}(s.b),o=O((n=c).prototype,"fontSize",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.a.text.fontSize}}),i=O(n.prototype,"fontFamily",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.a.text.fontFamily}}),a=O(n.prototype,"fontWeight",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.a.text.fontWeight}}),O(n.prototype,"width",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"width"),n.prototype),O(n.prototype,"height",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"height"),n.prototype),O(n.prototype,"anchors",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"anchors"),n.prototype),n);t.b=j},function(e,t,r){"use strict";r.d(t,"a",(function(){return O})),r(28),r(23);var n,o,i,a,c=r(0),u=r(18),s=r(2),l=r(8);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var O=(a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(c,e);var t,r,n,a=y(c);function c(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=a.call(this,e,t,"ellipse")).modelType=s.e.ELLIPSE_NODE,p(r,"rx",o,v(r)),p(r,"ry",i,v(r)),r}return t=c,(r=[{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"anchors",get:function(){var e=this.anchorsOffset,t=this.x,r=this.y,n=this.rx,o=this.ry;return Array.isArray(e)&&e.length>0?e.map((function(e){return{x:t+e[0],y:r+e[1]}})):[{x:t,y:r-o},{x:t+n,y:r},{x:t,y:r+o},{x:t-n,y:r}]}}])&&d(t.prototype,r),n&&d(t,n),c}(u.b),o=m((n=a).prototype,"rx",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.a.ellipse.rx}}),i=m(n.prototype,"ry",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.a.ellipse.ry}}),m(n.prototype,"width",[c.computed],Object.getOwnPropertyDescriptor(n.prototype,"width"),n.prototype),m(n.prototype,"height",[c.computed],Object.getOwnPropertyDescriptor(n.prototype,"height"),n.prototype),m(n.prototype,"anchors",[c.computed],Object.getOwnPropertyDescriptor(n.prototype,"anchors"),n.prototype),n);t.b=O},function(e,t,r){"use strict";t.a=function(e){return e}},function(e,t,r){"use strict";t.a=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,r){"use strict";t.a=function(e){return function(t){return e(t)}}},function(e,t,r){"use strict";t.a=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},function(e,t,r){"use strict";var n=r(59),o=r(44);t.a=function(e,t){for(var r=0,i=(t=Object(n.a)(t,e)).length;null!=e&&r<i;)e=e[Object(o.a)(t[r++])];return r&&r==i?e:void 0}},function(e,t,r){"use strict";var n=r(7),o=r(57),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.a=function(e,t){if(Object(n.a)(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Object(o.a)(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t,r){"use strict";var n=r(62),o=r(70),i=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},a=function(e){return this.__data__.has(e)};function c(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new o.a;++t<r;)this.add(e[t])}c.prototype.add=c.prototype.push=i,c.prototype.has=a;var u=c,s=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},l=function(e,t){return e.has(t)},f=function(e,t,r,n,o,i){var a=1&r,c=e.length,f=t.length;if(c!=f&&!(a&&f>c))return!1;var p=i.get(e),d=i.get(t);if(p&&d)return p==t&&d==e;var h=-1,y=!0,b=2&r?new u:void 0;for(i.set(e,t),i.set(t,e);++h<c;){var v=e[h],g=t[h];if(n)var m=a?n(g,v,h,t,e,i):n(v,g,h,e,t,i);if(void 0!==m){if(m)continue;y=!1;break}if(b){if(!s(t,(function(e,t){if(!l(b,t)&&(v===e||o(v,e,r,n,i)))return b.push(t)}))){y=!1;break}}else if(v!==g&&!o(v,g,r,n,i)){y=!1;break}}return i.delete(e),i.delete(t),y},p=r(15),d=r(91),h=r(54),y=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r},b=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},v=p.a?p.a.prototype:void 0,g=v?v.valueOf:void 0,m=function(e,t,r,n,o,i,a){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new d.a(e),new d.a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(h.a)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=y;case"[object Set]":var u=1&n;if(c||(c=b),e.size!=t.size&&!u)return!1;var s=a.get(e);if(s)return s==t;n|=2,a.set(e,t);var l=f(c(e),c(t),n,o,i,a);return a.delete(e),l;case"[object Symbol]":if(g)return g.call(e)==g.call(t)}return!1},O=r(99),j=Object.prototype.hasOwnProperty,x=function(e,t,r,n,o,i){var a=1&r,c=Object(O.a)(e),u=c.length;if(u!=Object(O.a)(t).length&&!a)return!1;for(var s=u;s--;){var l=c[s];if(!(a?l in t:j.call(t,l)))return!1}var f=i.get(e),p=i.get(t);if(f&&p)return f==t&&p==e;var d=!0;i.set(e,t),i.set(t,e);for(var h=a;++s<u;){var y=e[l=c[s]],b=t[l];if(n)var v=a?n(b,y,l,t,e,i):n(y,b,l,e,t,i);if(!(void 0===v?y===b||o(y,b,r,n,i):v)){d=!1;break}h||(h="constructor"==l)}if(d&&!h){var g=e.constructor,m=t.constructor;g==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m||(d=!1)}return i.delete(e),i.delete(t),d},_=r(47),w=r(7),E=r(69),S=r(133),P="[object Object]",k=Object.prototype.hasOwnProperty,A=function(e,t,r,o,i,a){var c=Object(w.a)(e),u=Object(w.a)(t),s=c?"[object Array]":Object(_.a)(e),l=u?"[object Array]":Object(_.a)(t),p=(s="[object Arguments]"==s?P:s)==P,d=(l="[object Arguments]"==l?P:l)==P,h=s==l;if(h&&Object(E.a)(e)){if(!Object(E.a)(t))return!1;c=!0,p=!1}if(h&&!p)return a||(a=new n.a),c||Object(S.a)(e)?f(e,t,r,o,i,a):m(e,t,s,r,o,i,a);if(!(1&r)){var y=p&&k.call(e,"__wrapped__"),b=d&&k.call(t,"__wrapped__");if(y||b){var v=y?e.value():e,g=b?t.value():t;return a||(a=new n.a),i(v,g,r,o,a)}}return!!h&&(a||(a=new n.a),x(e,t,r,o,i,a))},D=r(24);t.a=function e(t,r,n,o,i){return t===r||(null==t||null==r||!Object(D.a)(t)&&!Object(D.a)(r)?t!=t&&r!=r:A(t,r,n,o,e,i))}},function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return p}));var o=new Uint8Array(16);function i(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}for(var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,c=function(e){return"string"==typeof e&&a.test(e)},u=[],s=0;s<256;++s)u.push((s+256).toString(16).substr(1));var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!c(r))throw TypeError("Stringified UUID is invalid");return r},f=function(e,t,r){var n=(e=e||{}).random||(e.rng||i)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return l(n)},p=function(){return f()}},function(e,t,r){"use strict";var n=r(39),o=r(24),i=function(e){return Object(o.a)(e)&&"[object Arguments]"==Object(n.a)(e)},a=Object.prototype,c=a.hasOwnProperty,u=a.propertyIsEnumerable,s=i(function(){return arguments}())?i:function(e){return Object(o.a)(e)&&c.call(e,"callee")&&!u.call(e,"callee")};t.a=s},function(e,t,r){"use strict";var n=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i},o=r(129),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,c=a?function(e){return null==e?[]:(e=Object(e),n(a(e),(function(t){return i.call(e,t)})))}:o.a;t.a=c},function(e,t,r){"use strict";var n=r(25),o=function(){try{var e=Object(n.a)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.a=o},function(e,t,r){"use strict";var n=r(10).a.Uint8Array;t.a=n},function(e,t,r){var n=r(9),o=r(65),i="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t){e.exports={}},function(e,t,r){"use strict";var n=r(29),o=r(20),i=r(143),a=r(51),c=r(30),u=r(65),s=r(181),l=r(103),f=r(9),p=r(110),d=r(164).f,h=r(101).f,y=r(35).f,b=r(226).trim,v=o.Number,g=v.prototype,m="Number"==u(p(g)),O=function(e){var t,r,n,o,i,a,c,u,s=l(e,!1);if("string"==typeof s&&s.length>2)if(43===(t=(s=b(s)).charCodeAt(0))||45===t){if(88===(r=s.charCodeAt(2))||120===r)return NaN}else if(48===t){switch(s.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+s}for(a=(i=s.slice(2)).length,c=0;c<a;c++)if((u=i.charCodeAt(c))<48||u>o)return NaN;return parseInt(i,n)}return+s};if(i("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var j,x=function e(t){var r=arguments.length<1?0:t,n=this;return n instanceof e&&(m?f((function(){g.valueOf.call(n)})):"Number"!=u(n))?s(new v(O(r)),n,e):O(r)},_=n?d(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),w=0;_.length>w;w++)c(v,j=_[w])&&!c(x,j)&&y(x,j,h(v,j));x.prototype=g,g.constructor=x,a(o,"Number",x)}},function(e,t,r){r(6)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,r){"use strict";var n=r(6),o=r(115);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,t,r){"use strict";r.d(t,"a",(function(){return E})),r(21),r(28),r(94),r(95),r(158),r(23),r(22);var n,o,i,a,c=r(0),u=r(18),s=r(2);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t,r){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return j(this,r)}}function j(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var E=(a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(c,e);var t,r,n,a=O(c);function c(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=a.call(this,e,t,"diamond")).modelType=s.e.DIAMOND_NODE,b(r,"rx",o,x(r)),b(r,"ry",i,x(r)),r}return t=c,(r=[{key:"getData",value:function(){var e=this.rx,t=this.ry;return h(h({},g(_(c.prototype),"getData",this).call(this)),{},{rx:e,ry:t})}},{key:"points",get:function(){var e=this.x,t=this.y,r=this.rx,n=this.ry;return[[e,t-n],[e+r,t],[e,t+n],[e-r,t]]}},{key:"pointsPosition",get:function(){return this.points.map((function(e){return{x:e[0],y:e[1]}}))}},{key:"width",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(r){var n=f(r,1)[0];n<e&&(e=n),n>t&&(t=n)})),t-e}},{key:"height",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(r){var n=f(r,2)[1];n<e&&(e=n),n>t&&(t=n)})),t-e}},{key:"anchors",get:function(){var e=this.anchorsOffset,t=this.x,r=this.y,n=this.points;return Array.isArray(e)&&e.length>0?e.map((function(e){return{x:t+e[0],y:r+e[1]}})):n.map((function(e){var t=f(e,2);return{x:t[0],y:t[1]}}))}}])&&v(t.prototype,r),n&&v(t,n),c}(u.b),o=w((n=a).prototype,"rx",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=w(n.prototype,"ry",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w(n.prototype,"points",[c.computed],Object.getOwnPropertyDescriptor(n.prototype,"points"),n.prototype),w(n.prototype,"pointsPosition",[c.computed],Object.getOwnPropertyDescriptor(n.prototype,"pointsPosition"),n.prototype),w(n.prototype,"width",[c.computed],Object.getOwnPropertyDescriptor(n.prototype,"width"),n.prototype),w(n.prototype,"height",[c.computed],Object.getOwnPropertyDescriptor(n.prototype,"height"),n.prototype),w(n.prototype,"anchors",[c.computed],Object.getOwnPropertyDescriptor(n.prototype,"anchors"),n.prototype),n);t.b=E},function(e,t,r){"use strict";r.d(t,"a",(function(){return E})),r.d(t,"b",(function(){return E})),r(41),r(21),r(28),r(23),r(22);var n,o,i,a=r(0),c=r(37),u=r(2),s=r(5),l=r(8);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t,r){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return j(this,r)}}function j(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var E=(i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,r,n,i=O(a);function a(e,t){var r,n,c,s,f;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e,t,"bezier")).modelType=u.e.BEZIER_EDGE,r.offset=l.a.bezier.offset,n=r,c="path",s=o,f=x(r),s&&Object.defineProperty(n,c,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(f):void 0}),r}return t=a,(r=[{key:"getData",value:function(){var e=g(_(a.prototype),"getData",this).call(this),t=this.pointsList.map((function(e){return{x:e.x,y:e.y}}));return y(y({},e),{},{pointsList:t})}},{key:"getControls",value:function(){var e=this.startPoint,t=this.endPoint;return Object(s.c)({start:e,end:t,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(e){var t=p(e,4),r=t[0],n=t[1],o=t[2],i=t[3];return"M ".concat(r.x," ").concat(r.y," \n    C ").concat(n.x," ").concat(n.y,",\n    ").concat(o.x," ").concat(o.y,",\n    ").concat(i.x," ").concat(i.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var e={x:this.startPoint.x,y:this.startPoint.y},t={x:this.endPoint.x,y:this.endPoint.y},r=this.getControls(),n=r.sNext,o=r.ePre;this.pointsList=[e,n,o,t],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(e){this.startPoint=e,this.updatePoints()}},{key:"updateEndPoint",value:function(e){this.endPoint=e,this.updatePoints()}},{key:"updateAdjustAnchor",value:function(e,t){"sNext"===t?this.pointsList[1]=e:"ePre"===t&&(this.pointsList[2]=e),this.path=this.getPath(this.pointsList)}},{key:"textPosition",get:function(){if(this.pointsList&&this.pointsList.length>0){var e=0,t=0;return this.pointsList.forEach((function(r){var n=r.x,o=r.y;e+=n,t+=o})),{x:e/this.pointsList.length,y:t/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&v(t.prototype,r),n&&v(t,n),a}(c.b),o=w((n=i).prototype,"path",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w(n.prototype,"textPosition",[a.computed],Object.getOwnPropertyDescriptor(n.prototype,"textPosition"),n.prototype),w(n.prototype,"initPoints",[a.action],Object.getOwnPropertyDescriptor(n.prototype,"initPoints"),n.prototype),w(n.prototype,"updatePoints",[a.action],Object.getOwnPropertyDescriptor(n.prototype,"updatePoints"),n.prototype),w(n.prototype,"updateStartPoint",[a.action],Object.getOwnPropertyDescriptor(n.prototype,"updateStartPoint"),n.prototype),w(n.prototype,"updateEndPoint",[a.action],Object.getOwnPropertyDescriptor(n.prototype,"updateEndPoint"),n.prototype),w(n.prototype,"updateAdjustAnchor",[a.action],Object.getOwnPropertyDescriptor(n.prototype,"updateAdjustAnchor"),n.prototype),n)},function(e,t,r){"use strict";var n=r(130),o=r(89),i=r(32);t.a=function(e){return Object(n.a)(e,i.a,o.a)}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(29),o=r(159),i=r(102),a=r(72),c=r(103),u=r(30),s=r(160),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=a(e),t=c(t,!0),s)try{return l(e,t)}catch(e){}if(u(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(34);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n,o,i,a=r(204),c=r(20),u=r(34),s=r(45),l=r(30),f=r(137),p=r(138),d=r(105),h=c.WeakMap;if(a){var y=f.state||(f.state=new h),b=y.get,v=y.has,g=y.set;n=function(e,t){return t.facade=e,g.call(y,e,t),t},o=function(e){return b.call(y,e)||{}},i=function(e){return v.call(y,e)}}else{var m=p("state");d[m]=!0,n=function(e,t){return t.facade=e,s(e,m,t),t},o=function(e){return l(e,m)?e[m]:{}},i=function(e){return l(e,m)}}e.exports={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},function(e,t){e.exports={}},function(e,t,r){var n=r(207),o=r(20),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e])||i(o[e]):n[e]&&n[e][t]||o[e]&&o[e][t]}},function(e,t,r){var n=r(108),o=r(92),i=r(36),a=r(40),c=r(145),u=[].push,s=function(e){var t=1==e,r=2==e,s=3==e,l=4==e,f=6==e,p=7==e,d=5==e||f;return function(h,y,b,v){for(var g,m,O=i(h),j=o(O),x=n(y,b,3),_=a(j.length),w=0,E=v||c,S=t?E(h,_):r||p?E(h,0):void 0;_>w;w++)if((d||w in j)&&(m=x(g=j[w],w,O),e))if(t)S[w]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return w;case 2:u.call(S,g)}else switch(e){case 4:return!1;case 7:u.call(S,g)}return f?-1:s||l?l:S}};e.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterOut:s(7)}},function(e,t,r){var n=r(144);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){"use strict";var n=r(9);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},function(e,t,r){var n,o=r(27),i=r(209),a=r(142),c=r(105),u=r(210),s=r(161),l=r(138)("IE_PROTO"),f=function(){},p=function(e){return"<script>"+e+"<\/script>"},d=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;d=n?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=s("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var r=a.length;r--;)delete d.prototype[a[r]];return d()};c[l]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(f.prototype=o(e),r=new f,f.prototype=null,r[l]=e):r=d(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(9),o=r(17),i=r(153),a=o("species");e.exports=function(e){return i>=51||!n((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,r){"use strict";var n=r(215),o=r(217);e.exports=n("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},function(e,t,r){"use strict";var n=r(182).charAt,o=r(104),i=r(149),a=o.set,c=o.getterFor("String Iterator");i(String,"String",(function(e){a(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=c(this),r=t.string,o=t.index;return o>=r.length?{value:void 0,done:!0}:(e=n(r,o),t.index+=e.length,{value:e,done:!1})}))},function(e,t,r){"use strict";var n=r(6),o=r(141),i=r(73),a=r(40),c=r(36),u=r(145),s=r(155),l=r(111),f=r(66),p=l("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,y=Math.min;n({target:"Array",proto:!0,forced:!p||!d},{splice:function(e,t){var r,n,l,f,p,d,b=c(this),v=a(b.length),g=o(e,v),m=arguments.length;if(0===m?r=n=0:1===m?(r=0,n=v-g):(r=m-2,n=y(h(i(t),0),v-g)),v+r-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=u(b,n),f=0;f<n;f++)(p=g+f)in b&&s(l,f,b[p]);if(l.length=n,r<n){for(f=g;f<v-n;f++)d=f+r,(p=f+n)in b?b[d]=b[p]:delete b[d];for(f=v;f>v-n+r;f--)delete b[f-1]}else if(r>n)for(f=v-n;f>g;f--)d=f+r-1,(p=f+n-1)in b?b[d]=b[p]:delete b[d];for(f=0;f<r;f++)b[f+g]=arguments[f+2];return b.length=v-n+r,l}})},function(e,t,r){"use strict";var n,o,i=r(186),a=r(228),c=RegExp.prototype.exec,u=String.prototype.replace,s=c,l=(n=/a/,o=/b*/g,c.call(n,"a"),c.call(o,"a"),0!==n.lastIndex||0!==o.lastIndex),f=a.UNSUPPORTED_Y||a.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(l||p||f)&&(s=function(e){var t,r,n,o,a=this,s=f&&a.sticky,d=i.call(a),h=a.source,y=0,b=e;return s&&(-1===(d=d.replace("y","")).indexOf("g")&&(d+="g"),b=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==e[a.lastIndex-1])&&(h="(?: "+h+")",b=" "+b,y++),r=new RegExp("^(?:"+h+")",d)),p&&(r=new RegExp("^"+h+"$(?!\\s)",d)),l&&(t=a.lastIndex),n=c.call(s?r:a,b),s?n?(n.input=n.input.slice(y),n[0]=n[0].slice(y),n.index=a.lastIndex,a.lastIndex+=n[0].length):a.lastIndex=0:l&&n&&(a.lastIndex=a.global?n.index+n[0].length:t),p&&n&&n.length>1&&u.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),e.exports=s},function(e,t,r){"use strict";var n=r(6),o=r(92),i=r(72),a=r(109),c=[].join,u=o!=Object,s=a("join",",");n({target:"Array",proto:!0,forced:u||!s},{join:function(e){return c.call(i(this),void 0===e?",":e)}})},function(e,t,r){"use strict";r.d(t,"b",(function(){return _})),r.d(t,"a",(function(){return _})),r(67),r(23),r(68),r(74);var n,o,i,a,c,u,s,l,f,p,d,h,y,b=r(0),v=r(16),g=r(33);function m(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var x={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustNodePosition:!1,hideAnchors:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1,metaKeyMultipleSelected:!1},_=(o=j((n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"stopZoomGraph",o,this),m(this,"stopScrollGraph",i,this),m(this,"stopMoveGraph",a,this),m(this,"adjustEdge",c,this),m(this,"adjustNodePosition",u,this),m(this,"hideAnchors",s,this),m(this,"hoverOutline",l,this),m(this,"nodeTextEdit",f,this),m(this,"edgeTextEdit",p,this),m(this,"nodeTextDraggable",d,this),m(this,"edgeTextDraggable",h,this),m(this,"metaKeyMultipleSelected",y,this),this.extraConf={},this.keys=void 0,this.keys=["stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustNodePosition","hideAnchors","hoverOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","metaKeyMultipleSelected","extraConf"];var r=t.isSilentMode,n=t.textEdit;r?Object(v.a)(this,Object(g.a)(x,this.keys),Object(g.a)(t,["stopZoomGraph","stopScrollGraph","stopMoveGraph","hideAnchors","hoverOutline","extraConf"])):n?Object(v.a)(this,Object(g.a)(t,this.keys)):Object(v.a)(this,Object(g.a)(t,this.keys),{nodeTextEdit:!1,edgeTextEdit:!1})}var t,r,n;return t=e,(r=[{key:"updateEditConfig",value:function(e){Object(v.a)(this,Object(g.a)(e,this.keys))}},{key:"getConfig",value:function(){return Object(g.a)(this,this.keys)}}])&&O(t.prototype,r),n&&O(t,n),e}()).prototype,"stopZoomGraph",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=j(n.prototype,"stopScrollGraph",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=j(n.prototype,"stopMoveGraph",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=j(n.prototype,"adjustEdge",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),u=j(n.prototype,"adjustNodePosition",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),s=j(n.prototype,"hideAnchors",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=j(n.prototype,"hoverOutline",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=j(n.prototype,"nodeTextEdit",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=j(n.prototype,"edgeTextEdit",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d=j(n.prototype,"nodeTextDraggable",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=j(n.prototype,"edgeTextDraggable",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=j(n.prototype,"metaKeyMultipleSelected",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j(n.prototype,"updateEditConfig",[b.action],Object.getOwnPropertyDescriptor(n.prototype,"updateEditConfig"),n.prototype),n)},function(e,t,r){"use strict";r.d(t,"a",(function(){return v})),r(23);var n,o,i,a,c,u,s,l,f=r(0);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var v=(o=b((n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.MINI_SCALE_SIZE=.2,this.MAX_SCALE_SIZE=16,h(this,"SCALE_X",o,this),h(this,"SKEW_Y",i,this),h(this,"SKEW_X",a,this),h(this,"SCALE_Y",c,this),h(this,"TRANSLATE_X",u,this),h(this,"TRANSLATE_Y",s,this),h(this,"ZOOM_SIZE",l,this)}var t,r,n;return t=e,(r=[{key:"setZoomMiniSize",value:function(e){this.MINI_SCALE_SIZE=e}},{key:"setZoomMaxSize",value:function(e){this.MAX_SCALE_SIZE=e}},{key:"HtmlPointToCanvasPoint",value:function(e){var t=p(e,2),r=t[0],n=t[1];return[(r-this.TRANSLATE_X)/this.SCALE_X,(n-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(e){var t=p(e,2),r=t[0],n=t[1];return[r*this.SCALE_X+this.TRANSLATE_X,n*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(e,t,r){var n=p(e,2),o=n[0],i=n[1];return[o+t/this.SCALE_X,i+r/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(e,t){return[e/this.SCALE_X,t/this.SCALE_Y]}},{key:"zoom",value:function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.ZOOM_SIZE:-this.ZOOM_SIZE;return!(t<0&&this.SCALE_X<=this.MINI_SCALE_SIZE||t>0&&this.SCALE_X>=this.MAX_SCALE_SIZE||(this.SCALE_X+=t,this.SCALE_Y+=t,e&&(this.TRANSLATE_X-=t*e[0],this.TRANSLATE_Y-=t*e[1]),0))}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1}},{key:"translate",value:function(e,t){this.TRANSLATE_X+=e,this.TRANSLATE_Y+=t}},{key:"focusOn",value:function(e,t,r,n){var o=p(this.CanvasPointToHtmlPoint([e,t]),2),i=r/2-o[0],a=n/2-o[1];this.TRANSLATE_X+=i,this.TRANSLATE_Y+=a}}])&&y(t.prototype,r),n&&y(t,n),e}()).prototype,"SCALE_X",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),i=b(n.prototype,"SKEW_Y",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),a=b(n.prototype,"SKEW_X",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=b(n.prototype,"SCALE_Y",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),u=b(n.prototype,"TRANSLATE_X",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=b(n.prototype,"TRANSLATE_Y",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=b(n.prototype,"ZOOM_SIZE",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.04}}),b(n.prototype,"zoom",[f.action],Object.getOwnPropertyDescriptor(n.prototype,"zoom"),n.prototype),b(n.prototype,"resetZoom",[f.action],Object.getOwnPropertyDescriptor(n.prototype,"resetZoom"),n.prototype),b(n.prototype,"translate",[f.action],Object.getOwnPropertyDescriptor(n.prototype,"translate"),n.prototype),b(n.prototype,"focusOn",[f.action],Object.getOwnPropertyDescriptor(n.prototype,"focusOn"),n.prototype),n)},function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i}));var n=r(16);function o(e){var t=e.container,r=e.grid;if(!t)throw new Error("\u8bf7\u68c0\u67e5 container \u53c2\u6570\u662f\u5426\u6709\u6548");return r&&(e.grid=Object(n.a)({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},r)),Object(n.a)({},i,e)}var i={background:!1,grid:!1,textEdit:!0}},function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r(21),r(67),r(28),r(68),r(96),r(188),r(22),r(74);var n=r(7),o=r(203),i=r.n(o);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mousetrap=void 0,this.options=void 0,this.target=void 0,t.keyboard||(t.keyboard={enabled:!1}),this.options=t;var r=t.lf;this.target=r.container,this.mousetrap=new i.a(this.target),t.keyboard.enabled&&this.enable(!0)}var t,r,o;return t=e,(r=[{key:"initShortcuts",value:function(){var e=this,t=this.options.keyboard.shortcuts;if(t)if(Object(n.a)(t))t.forEach((function(t){var r=t.keys,n=t.callback,o=t.action;return e.on(r,n,o)}));else{var r=t.keys,o=t.callback,i=t.action;this.on(r,o,i)}}},{key:"on",value:function(e,t,r){this.mousetrap.bind(this.getKeys(e),t,r)}},{key:"off",value:function(e,t){this.mousetrap.unbind(this.getKeys(e),t)}},{key:"enable",value:function(e){(this.disabled||e)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(e){var t=this;return(Array.isArray(e)?e:[e]).map((function(e){return t.formatkey(e)}))}},{key:"formatkey",value:function(e){return e.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}},{key:"disabled",get:function(){return!0!==this.options.keyboard.enabled}}])&&a(t.prototype,r),o&&a(t,o),e}();t.b=c},function(e,t,r){"use strict";r.d(t,"b",(function(){return b})),r.d(t,"a",(function(){return b})),r(23);var n,o,i,a,c=r(0),u=r(16),s=r(8),l=r(3);function f(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}function h(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var y=s.a.snapline,b=(o=h((n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graphModel=void 0,f(this,"isShowHorizontal",o,this),f(this,"isShowVertical",i,this),f(this,"position",a,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=t}return d(e,[{key:"stroke",get:function(){return this.graphModel.theme.snapline.stroke||y.stroke}},{key:"strokeWidth",get:function(){return this.graphModel.theme.snapline.strokeWidth||y.strokeWidth}}]),d(e,[{key:"getCenterSnapLine",value:function(e,t){for(var r=e.x,n=e.y,o=!1,i=!1,a=0;a<t.length;a++){var c=t[a];if(c.id!==e.id&&(r===c.x&&(o=!0),n===c.y&&(i=!0),o&&i))break}return{isShowVertical:o,isShowHorizontal:i,position:{x:r,y:n}}}},{key:"getHorizontalSnapline",value:function(e,t){var r,n,o=!1,i=e.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)n=Object(l.g)(a);else{var c=this.graphModel.getNodeModel(i);n=Object(l.g)(c)}}for(var s=0;s<t.length;s++){var f=t[s];if(f.id!==e.id){var p=Object(l.g)(f);if(p.minY===n.minY||p.maxY===n.minY){o=!0,r=n.minY;break}if(p.minY===n.maxY||p.maxY===n.maxY){o=!0,r=n.maxY;break}}}return Object(u.a)({isShowHorizontal:o,position:{y:r}})}},{key:"getVerticalSnapline",value:function(e,t){var r,n,o=!1,i=e.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)n=Object(l.g)(a);else{var c=this.graphModel.getNodeModel(i);n=Object(l.g)(c)}}for(var s=0;s<t.length;s++){var f=t[s];if(f.id!==e.id){var p=Object(l.g)(f);if(p.minX===n.minX||p.maxX===n.minX){o=!0,r=n.minX;break}if(p.minX===n.maxX||p.maxX===n.maxX){o=!0,r=n.maxX;break}}}return Object(u.a)({isShowVertical:o,position:{x:r}})}},{key:"getSnapLinePosition",value:function(e,t){var r=this.getCenterSnapLine(e,t),n=r.isShowHorizontal,o=r.isShowVertical;if(!n){var i=this.getHorizontalSnapline(e,t);i.isShowHorizontal&&(r.isShowHorizontal=i.isShowHorizontal,r.position.y=i.position.y)}if(!o){var a=this.getVerticalSnapline(e,t);a.isShowVertical&&(r.isShowVertical=a.isShowVertical,r.position.x=a.position.x)}return r}},{key:"setSnaplineInfo",value:function(e){var t=e.isShowHorizontal,r=e.isShowVertical,n=e.position;this.position=n,this.isShowHorizontal=t,this.isShowVertical=r}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(e){var t=this.graphModel.nodes,r=this.getSnapLinePosition(e,t);this.setSnaplineInfo(r)}}]),e}()).prototype,"isShowHorizontal",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=h(n.prototype,"isShowVertical",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=h(n.prototype,"position",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(n.prototype,"stroke",[c.computed],Object.getOwnPropertyDescriptor(n.prototype,"stroke"),n.prototype),h(n.prototype,"strokeWidth",[c.computed],Object.getOwnPropertyDescriptor(n.prototype,"strokeWidth"),n.prototype),h(n.prototype,"clearSnapline",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"clearSnapline"),n.prototype),h(n.prototype,"setNodeSnapLine",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"setNodeSnapLine"),n.prototype),n)},function(e,t,r){"use strict";r.d(t,"a",(function(){return ra})),r(21),r(146),r(67),r(28),r(214),r(112),r(68),r(113),r(22),r(74);var n=r(1),o=r(71),i=r(0),a=r(123),c=r(243),u=(r(12),r(13),r(2)),s=function(){};function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=window.document;function p(e){var t=e.onDragStart,r=void 0===t?s:t,n=e.onDraging,o=void 0===n?s:n,i=e.onDragEnd,a=void 0===i?s:i,c=e.step,u=void 0===c?1:c,l=e.isStopPropagation,p=void 0===l||l,d=!1,h=0,y=0,b=0,v=0;function g(e){if(p&&e.stopPropagation(),d&&(b+=e.x-h,v+=e.y-y,h=e.x,y=e.y,Math.abs(b)>u||Math.abs(v)>u)){var t=b%u,r=v%u,n=b-t,i=v-r;b=t,v=r,o({deltaX:n,deltaY:i,event:e})}}function m(e){return p&&e.stopPropagation(),d=!1,f.removeEventListener("mousemove",g,!1),f.removeEventListener("mouseup",m,!1),a({event:e})}return function(e){if(0===e.button)return p&&e.stopPropagation(),d=!0,h=e.x,y=e.y,f.addEventListener("mousemove",g,!1),f.addEventListener("mouseup",m,!1),r({event:e})}}var d=function(){function e(t){var r=this,n=t.onDragStart,o=void 0===n?s:n,i=t.onDraging,a=void 0===i?s:i,c=t.onDragEnd,l=void 0===c?s:c,p=t.eventType,d=void 0===p?"":p,h=t.eventCenter,y=void 0===h?null:h,b=t.step,v=void 0===b?1:b,g=t.isStopPropagation,m=void 0===g||g,O=t.model,j=void 0===O?null:O;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onDragStart=void 0,this.onDraging=void 0,this.onDragEnd=void 0,this.step=void 0,this.isStopPropagation=void 0,this.isDraging=!1,this.startX=0,this.startY=0,this.sumDeltaX=0,this.sumDeltaY=0,this.eventType=void 0,this.eventCenter=void 0,this.model=void 0,this.startTime=void 0,this.handleMouseDown=function(e){var t,n,o;if(0===e.button){r.isStopPropagation&&e.stopPropagation(),r.isDraging=!0,r.startX=e.x,r.startY=e.y,f.addEventListener("mousemove",r.handleMouseMove,!1),f.addEventListener("mouseup",r.handleMouseUp,!1),r.onDragStart({event:e});var i=null===(t=r.model)||void 0===t?void 0:t.getData();null===(n=r.eventCenter)||void 0===n||n.emit(u.d["".concat(r.eventType,"_MOUSEDOWN")],{e:e,data:i}),null===(o=r.eventCenter)||void 0===o||o.emit(u.d["".concat(r.eventType,"_DRAGSTART")],{e:e,data:i}),r.startTime=(new Date).getTime()}},this.handleMouseMove=function(e){if(r.isStopPropagation&&e.stopPropagation(),r.isDraging&&(r.sumDeltaX+=e.x-r.startX,r.sumDeltaY+=e.y-r.startY,r.startX=e.x,r.startY=e.y,Math.abs(r.sumDeltaX)>r.step||Math.abs(r.sumDeltaY)>r.step)){var t,n,o=r.sumDeltaX%r.step,i=r.sumDeltaY%r.step,a=r.sumDeltaX-o,c=r.sumDeltaY-i;r.sumDeltaX=o,r.sumDeltaY=i,r.onDraging({deltaX:a,deltaY:c,event:e});var s,l=null===(t=r.model)||void 0===t?void 0:t.getData();null===(n=r.eventCenter)||void 0===n||n.emit(u.d["".concat(r.eventType,"_MOUSEMOVE")],{e:e,data:l}),(new Date).getTime()-r.startTime>200&&(null===(s=r.eventCenter)||void 0===s||s.emit(u.d["".concat(r.eventType,"_DRAG")],{e:e,data:l}))}},this.handleMouseUp=function(e){var t,n;r.isStopPropagation&&e.stopPropagation(),r.isDraging=!1,f.removeEventListener("mousemove",r.handleMouseMove,!1),f.removeEventListener("mouseup",r.handleMouseUp,!1),r.onDragEnd({event:e});var o,i=null===(t=r.model)||void 0===t?void 0:t.getData();null===(n=r.eventCenter)||void 0===n||n.emit(u.d["".concat(r.eventType,"_MOUSEUP")],{e:e,data:i}),(new Date).getTime()-r.startTime>200&&(null===(o=r.eventCenter)||void 0===o||o.emit(u.d["".concat(r.eventType,"_DROP")],{e:e,data:i}))},this.onDragStart=o,this.onDraging=a,this.onDragEnd=l,this.step=v,this.isStopPropagation=m,this.eventType=d,this.eventCenter=y,this.model=j}var t,r,n;return t=e,(r=[{key:"setStep",value:function(e){this.step=e}}])&&l(t.prototype,r),n&&l(t,n),e}();function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=j(e);if(t){var o=j(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return O(this,r)}}function O(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r(116);var x=r(14);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A(e);if(t){var o=A(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return k(this,r)}}function k(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D,N,M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(a,e);var t,r,o,i=P(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).stepDrag=void 0,t.stepScrollX=0,t.stepScrollY=0,t.onDraging=function(e){var r=e.deltaX,n=e.deltaY;t.setState({isDraging:!0});var o=t.props.graphModel,i=o.transformMatrix;o.editConfig.stopMoveGraph||(i.TRANSLATE_X+=r,i.TRANSLATE_Y+=n)},t.onDragEnd=function(){t.setState({isDraging:!1})},t.zoomHandler=function(e){var r=t.props,n=r.graphModel,o=n.editConfig,i=n.transformMatrix,a=n.gridSize,c=r.graphModel,u=e.deltaX,s=e.deltaY;if(o.stopScrollGraph||!0===e.ctrlKey){if(!o.stopZoomGraph){e.preventDefault();var l=c.getPointByClient({x:e.clientX,y:e.clientY}).canvasOverlayPosition,f=l.x,p=l.y;i.zoom(e.deltaY<0,[f,p])}}else{if(e.preventDefault(),t.stepScrollX+=u,t.stepScrollY+=s,Math.abs(t.stepScrollX)>=a){var d=t.stepScrollX%a,h=t.stepScrollX-d;i.TRANSLATE_X-=h*i.SCALE_X,t.stepScrollX=d}if(Math.abs(t.stepScrollY)>=a){var y=t.stepScrollY%a,b=t.stepScrollY-y;i.TRANSLATE_Y-=b*i.SCALE_Y,t.stepScrollY=y}}},t.clickHandler=function(e){if("canvas-overlay"===e.target.getAttribute("name")){var r=t.props,n=r.graphModel,o=r.eventCenter,i=n.textEditElement;n.selectElements.size>0&&n.clearSelectElements(),i&&i.setElementState(u.b.DEFAULT),o.emit(u.d.BLANK_CLICK,{e:e})}},t.handleContextMenu=function(e){if("canvas-overlay"===e.target.getAttribute("name")){e.preventDefault();var r=t.props,n=r.graphModel,o=r.eventCenter,i=n.getPointByClient({x:e.clientX,y:e.clientY});n.setElementState(u.b.SHOW_MENU,i.domOverlayPosition),o.emit(u.d.BLANK_CONTEXTMENU,{e:e,position:i})}},t.mouseDownHandler=function(e){var r=t.props,n=r.eventCenter,o=r.graphModel,i=o.editConfig,a=o.transformMatrix.SCALE_X,c=o.gridSize;i.stopMoveGraph?n.emit(u.d.BLANK_MOUSEDOWN,{e:e}):(t.stepDrag.setStep(c*a),t.stepDrag.handleMouseDown(e)),t.clickHandler(e)};var r=e.graphModel.gridSize,n=e.eventCenter;return t.stepDrag=new d({onDraging:t.onDraging,onDragEnd:t.onDragEnd,step:r,eventType:"BLANK",eventCenter:n,model:null}),t.state={isDraging:!1},t}return t=a,(r=[{key:"render",value:function(){var e=this.InjectedProps.transformStyle.transform,t=this.props,r=t.children,o=t.dnd,i=this.state.isDraging;return Object(n.g)("svg",w({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:i?"lf-dragging":"lf-drag-able"},o.eventMap()),Object(n.g)("g",{style:{transform:e}},r))}},{key:"InjectedProps",get:function(){return this.props}}])&&E(t.prototype,r),o&&E(t,o),a}(n.a),T=Object(x.observer)((D=M,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var t,r,o,i=m(a);function a(){return b(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"getMatrixString",value:function(){var e=this.props.graphModel.transformMatrix,t=[e.SCALE_X,e.SKEW_Y,e.SKEW_X,e.SCALE_Y,e.TRANSLATE_X,e.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")"),transformOrigin:"left top"}}},{key:"render",value:function(){return Object(n.g)(D,y({},this.props,{transformStyle:this.getMatrixString()}))}}])&&v(t.prototype,r),o&&v(t,o),a}(n.a)));function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return B(this,r)}}function B(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r(41);var X=Object(x.observer)(N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(a,e);var t,r,o,i=z(a);function a(){var e;R(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r))).setToolOverlayRef=function(t){var r=e.props.tool.getInstance();r.components.forEach((function(e){return e(r,t)})),r.components=[]},e}return t=a,(r=[{key:"getTools",value:function(){var e=this.props,t=e.tool,r=e.graphModel,o=t.getTools().map((function(e){return Object(n.g)(e,{graphModel:r,logicFlow:t.instance})}));return t.components=o,o}},{key:"render",value:function(){return Object(n.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&I(t.prototype,r),o&&I(t,o),a}(n.a))||N;function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=K(e);if(t){var o=K(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return W(this,r)}}function W(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r(235);var q,Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(a,e);var t,r,o,i=Y(a);function a(){return F(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"getAttributes",value:function(){var e=this.props.background,t=e.image,r=void 0===t?"":t,n=e.color,o=void 0===n?"":n,i=e.repeat,a=void 0===i?"no-repeat":i,c=e.position,u=void 0===c?"center":c,s=e.size,l=void 0===s?"auto auto":s,f=e.opacity,p=void 0===f?1:f;return o?{color:o,opacity:p,image:"none"}:r?{image:"url(".concat(r,")"),repeat:a,position:u,size:l,opacity:p}:{}}},{key:"getShape",value:function(){var e=this.getAttributes(),t=e.image,r=e.color,o=e.repeat,i=e.size,a={backgroundImage:t,backgroundColor:r,backgroundRepeat:o,backgroundPosition:e.position,backgroundSize:i,opacity:e.opacity};return Object(n.g)("div",{style:a,className:"lf-background"})}},{key:"render",value:function(){return this.getShape()}}])&&H(t.prototype,r),o&&H(t,o),a}(n.a),$=r(87);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=oe(e);if(t){var o=oe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ne(this,r)}}function ne(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ie=Object(x.observer)(q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(a,e);var t,r,o,i=re(a);function a(){var e;Q(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r))).id=Object($.a)(),e}return t=a,(r=[{key:"renderDot",value:function(){var e=this.props,t=e.config,r=t.color,o=t.thickness,i=void 0===o?2:o,a=e.size,c=e.visible,u=Math.min(Math.max(2,i),a/2),s=1;return c||(s=0),Object(n.g)("rect",{width:u,height:u,rx:u/2,ry:u/2,fill:r,opacity:s})}},{key:"renderMesh",value:function(){var e=this.props,t=e.config,r=t.color,o=t.thickness,i=void 0===o?1:o,a=e.size,c=e.visible,u=Math.min(Math.max(1,i),a/2),s="M ".concat(a," 0 H0 M0 0 V0 ").concat(a),l=1;return c||(l=0),Object(n.g)("path",{d:s,stroke:r,strokeWidth:u,opacity:l})}},{key:"render",value:function(){var e=this.props,t=e.type,r=e.size,o=e.graphModel.transformMatrix,i=[o.SCALE_X,o.SKEW_Y,o.SKEW_X,o.SCALE_Y,o.TRANSLATE_X,o.TRANSLATE_Y].join(","),a="matrix(".concat(i,")");return Object(n.g)("div",{className:"lf-grid"},Object(n.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(n.g)("defs",null,Object(n.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:a,x:"0",y:"0",width:r,height:r,style:{transition:"all 0.1s ease"}},"dot"===t&&this.renderDot(),"mesh"===t&&this.renderMesh())),Object(n.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&ee(t.prototype,r),o&&ee(t,o),a}(n.a))||q;function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ie.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}};var ue,se=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({x1:10,y1:10,x2:20,y2:20,stroke:"black"},e);return Object(n.g)("line",t)};function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=be(e);if(t){var o=be(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ye(this,r)}}function ye(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ve,ge=Object(x.observer)(ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(a,e);var t,r,o,i=he(a);function a(){return fe(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){var e=this.props.snaplineModel,t=e.position,r=e.isShowHorizontal,o=e.isShowVertical,i=e.stroke,a=e.strokeWidth,c=t.x,u=void 0===c?0:c,s=t.y,l=void 0===s?0:s,f={x1:-1e5,y1:l,x2:1e5,y2:l,stroke:r?i:"none",strokeWidth:a},p={x1:u,y1:-1e5,x2:u,y2:1e5,stroke:o?i:"none",strokeWidth:a};return Object(n.g)("g",{className:"lf-snapline"},Object(n.g)(se,f),Object(n.g)(se,p))}}])&&pe(t.prototype,r),o&&pe(t,o),a}(n.a))||ue,me=r(5);function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){xe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _e(e){var t=e.x,r=e.y,o=e.width,i=e.height,a=e.radius,c=e.className,u=t-o/2,s=r-i/2,l=je(je({width:10,height:10,cx:0,cy:0,rx:a||0,ry:a||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape ".concat(c)},e),{},{x:u,y:s});return Object(n.g)("rect",l)}function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ne(e);if(t){var o=Ne(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return De(this,r)}}function De(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}_e.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Me,Te=Object(x.observer)(ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(a,e);var t,r,o,i=Ae(a);function a(){return Se(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"getNodeOutline",value:function(){for(var e=this.props.graphModel,t=e.nodes,r=e.editConfig.hoverOutline,o=[],i=0;i<t.length;i++){var a=t[i],c=a.isHovered,u=a.isSelected,s=a.x,l=a.y,f=a.width,p=a.height,d=a.outlineColor,h=a.hoverOutlineColor,y=a.outlineStrokeDashArray,b=a.hoverOutlineStrokeDashArray;if(u||r&&c){var v=u?d:h,g=u?y:b;o.push(Object(n.g)(_e,Ee({className:"lf-outline-node"},{x:s,y:l,width:f+10,height:p+10},{radius:0,fill:"none",stroke:v,strokeDasharray:g})))}}return o}},{key:"getEdgeOutline",value:function(){for(var e=this.props.graphModel.edges,t=[],r=0;r<e.length;r++){var n=e[r];n.isSelected&&(n.modelType===u.e.LINE_EDGE?t.push(this.getLineOutline(n)):n.modelType===u.e.POLYLINE_EDGE?t.push(this.getPolylineOutline(n)):n.modelType===u.e.BEZIER_EDGE&&t.push(this.getBezierOutline(n)))}return t}},{key:"getLineOutline",value:function(e){var t=e.startPoint,r=e.endPoint,o=(t.x+r.x)/2,i=(t.y+r.y)/2,a=Math.abs(t.x-r.x)+10,c=Math.abs(t.y-r.y)+10,u=this.props.graphModel.theme.line,s=u.outlineColor,l=u.outlineStrokeDashArray;return Object(n.g)(_e,Ee({className:"lf-outline-edge"},{x:o,y:i,width:a,height:c},{radius:0,fill:"none",stroke:s,strokeDasharray:l}))}},{key:"getPolylineOutline",value:function(e){var t=e.points,r=Object(me.n)(t),o=Object(me.b)(r,8),i=o.x,a=o.y,c=o.width,u=o.height,s=this.props.graphModel.theme.polyline,l=s.outlineColor,f=s.outlineStrokeDashArray;return Object(n.g)(_e,Ee({className:"lf-outline"},{x:i,y:a,width:c,height:u},{radius:0,fill:"none",stroke:l,strokeDasharray:f}))}},{key:"getBezierOutline",value:function(e){var t=e.path,r=Object(me.d)(t),o=Object(me.b)(r,8),i=o.x,a=o.y,c=o.width,u=o.height,s=this.props.graphModel.theme.bezier,l=s.outlineColor,f=s.outlineStrokeDashArray;return Object(n.g)(_e,Ee({className:"lf-outline"},{x:i,y:a,width:c,height:u},{radius:0,fill:"none",stroke:l,strokeDasharray:f}))}},{key:"render",value:function(){return Object(n.g)("g",{className:"lf-outline"},this.getNodeOutline(),this.getEdgeOutline())}}])&&Pe(t.prototype,r),o&&Pe(t,o),a}(n.a))||ve;function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ie(e){var t=e.x,r=void 0===t?0:t,o=e.y,i=void 0===o?0:o,a=e.r,c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){Re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({cx:r,cy:i,r:void 0===a?4:a,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape"},e);return Object(n.g)("circle",c)}function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Be(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ue(e,t,r){return t&&Xe(e.prototype,t),r&&Xe(e,r),e}function Fe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=We(e);if(t){var o=We(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ye(this,r)}}function Ye(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ke,qe=function(e){Fe(r,e);var t=Ve(r);function r(e){var n;Ge(this,r),(n=t.call(this)).dragHandler=void 0,n.onDraging=function(e){var t=e.deltaX,r=e.deltaY,o=n.props,i=o.graphModel,a=o.bezierModel,c=o.type,u=i.transformMatrix,s=n.state,l=s.endX,f=s.endY,p=ze(u.moveCanvasPointByHtml([l,f],t,r),2),d=p[0],h=p[1];n.setState({endX:d,endY:h}),a.updateAdjustAnchor({x:d,y:h},c)},n.onDragEnd=function(){var e=n.state,t=e.endX,r=e.endY,o=n.props,i=o.bezierModel,a=o.type;i.updateAdjustAnchor({x:t,y:r},a)},n.dragHandler=p({onDraging:n.onDraging,onDragEnd:n.onDragEnd});var o=e.position;return n.state={endX:o.x,endY:o.y},n}return Ue(r,[{key:"render",value:function(){var e,t,r,o=this.props.position,i=o.x,a=o.y,c=null===(e=this.props)||void 0===e||null===(t=e.graphModel)||void 0===t||null===(r=t.theme)||void 0===r?void 0:r.bezier,u=c.adjustAnchorStroke,s=c.adjustAnchorFill,l=c.adjustAnchorFillOpacity;return Object(n.g)(Ie,{className:"lf-bezier-adjust-anchor",x:i,y:a,r:4,stroke:u,fill:s,fillOpacity:l,onMouseDown:this.dragHandler})}}]),r}(n.a),Ze=Object(x.observer)(Me=function(e){Fe(r,e);var t=Ve(r);function r(){return Ge(this,r),t.apply(this,arguments)}return Ue(r,[{key:"getBezierAdjust",value:function(e,t){var r=e.path,o=ze(Object(me.d)(r),4),i=o[0],a=o[1],c=o[2],u=o[3],s=t.theme.bezier.adjustLineColor,l=[];return l.push(Object(n.g)(se,{x1:i.x,y1:i.y,x2:a.x,y2:a.y,stroke:s})),l.push(Object(n.g)(qe,{position:a,bezierModel:e,graphModel:t,type:"sNext"})),l.push(Object(n.g)(se,{x1:u.x,y1:u.y,x2:c.x,y2:c.y,stroke:s})),l.push(Object(n.g)(qe,{position:c,bezierModel:e,graphModel:t,type:"ePre"})),l}},{key:"selectedBezierEdge",value:function(){for(var e=this.props.graphModel,t=e.edges,r=[],n=0;n<t.length;n++){var o=t[n];o.isSelected&&o.modelType===u.e.BEZIER_EDGE&&o.draggable&&r.push(this.getBezierAdjust(o,e))}return r}},{key:"render",value:function(){return Object(n.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),r}(n.a))||Me;function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ot(e);if(t){var o=ot(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return nt(this,r)}}function nt(e,t){return!t||"object"!==$e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var it=Object(o.b)("graphModel")(Ke=Object(x.observer)(Ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(a,e);var t,r,o,i=rt(a);function a(){return Qe(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"getComponent",value:function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"canvas-overlay",i=(0,this.props.getView)(e.type);return Object(n.g)(i,{key:e.id,model:e,graphModel:t,overlay:o,eventCenter:r})}},{key:"render",value:function(){var e=this,t=this.InjectedProps,r=t.graphModel,o=t.tool,i=t.options,a=t.eventCenter,u=t.dnd,s=t.snaplineModel,l={};i.width&&(l.width="".concat(i.width,"px")),i.height&&(l.height="".concat(i.height,"px"));var f=r.fakerNode,p=r.editConfig.adjustEdge;return Object(n.g)("div",{className:"lf-graph",style:l},Object(n.g)(T,{graphModel:r,eventCenter:a,dnd:u},Object(n.g)("g",{className:"lf-base"},Object(c.a)(r.sortElements,(function(t){return e.getComponent(t,r,a)}))),f?this.getComponent(f,r,a):"",p?Object(n.g)(Ze,{graphModel:r}):"",Object(n.g)(Te,{graphModel:r}),i.isSilentMode||!1===i.snapline?"":Object(n.g)(ge,{snaplineModel:s})),Object(n.g)(X,{graphModel:r,tool:o}),i.background&&Object(n.g)(Z,{background:i.background}),i.grid&&Object(n.g)(ie,Je({},i.grid,{graphModel:r})))}},{key:"InjectedProps",get:function(){return this.props}}])&&et(t.prototype,r),o&&et(t,o),a}(n.a))||Ke)||Ke,at=r(18),ct=(r(42),r(193),r(3));function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ft(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ft(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=bt(e);if(t){var o=bt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return yt(this,r)}}function yt(e,t){return!t||"object"!==ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(a,e);var t,r,o,i=ht(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).preTargetNode=void 0,e.dragHandler=void 0,e.sourceRuleResults=void 0,e.targetRuleResults=void 0,e.onDragStart=function(){var t=e.props,r=t.x,n=t.y,o=t.nodeModel,i=t.graphModel;i.selectNodeById(o.id),i.toFront(o.id),e.setState({startX:r,startY:n,endX:r,endY:n})},e.onDraging=function(t){var r=t.deltaX,n=t.deltaY,o=e.state,i=o.endX,a=o.endY,c=e.props,s=c.graphModel,l=c.nodeModel,f=s.transformMatrix,p=s.nodes,d=lt(f.moveCanvasPointByHtml([i,a],r,n),2),h=d[0],y=d[1];e.setState({endX:h,endY:y,draging:!0});var b=Object(ct.k)({x:i,y:a},p);if(b){var v=b.node;if(e.preTargetNode=v,!e.targetRuleResults.has(v.id)){var g=l.isAllowConnectedAsSource(v),m=v.isAllowConnectedAsTarget(l);e.sourceRuleResults.set(v.id,g),e.targetRuleResults.set(v.id,m)}var O=e.sourceRuleResults.get(v.id).isAllPass,j=e.targetRuleResults.get(v.id).isAllPass;O&&j?v.setElementState(u.b.ALLOW_CONNECT):v.setElementState(u.b.NOT_ALLOW_CONNECT)}else e.preTargetNode&&e.preTargetNode.state!==u.b.DEFAULT&&e.preTargetNode.setElementState(u.b.DEFAULT)},e.onDragEnd=function(){e.checkEnd(),e.setState({startX:0,startY:0,endX:0,endY:0,draging:!1})},e.onDblClick=function(){var t=e.props,r=t.graphModel,n=t.nodeModel;r.setElementStateById(n.id,u.b.TEXT_EDIT)},e.checkEnd=function(){var t=e.props,r=t.graphModel,n=t.nodeModel,o=t.x,i=t.y,a=t.eventCenter,c=r.nodes,s=r.edgeType,l=e.state,f=l.endX,p=l.endY,d=l.draging,h=Object(ct.k)({x:f,y:p},c);if(e.preTargetNode&&e.preTargetNode.state!==u.b.DEFAULT&&e.preTargetNode.setElementState(u.b.DEFAULT),d&&h){var y=h.node,b=e.sourceRuleResults.get(y.id),v=b.isAllPass,g=b.msg,m=e.targetRuleResults.get(y.id),O=m.isAllPass,j=m.msg;if(v&&O)y.setElementState(u.b.ALLOW_CONNECT),o===h.anchorPosition.x&&i===h.anchorPosition.y||r.createEdge({type:s,sourceNodeId:n.id,startPoint:{x:o,y:i},targetNodeId:h.node.id,endPoint:{x:h.anchorPosition.x,y:h.anchorPosition.y}});else{var x=y.getData();a.emit(u.d.CONNECTION_NOT_ALLOWED,{data:x,msg:j||g})}}},e.sourceRuleResults=new Map,e.targetRuleResults=new Map,e.state={startX:0,startY:0,endX:0,endY:0,draging:!1},e.dragHandler=p({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd}),e}return t=a,(r=[{key:"isShowLine",value:function(){var e=this.state,t=e.startX,r=e.startY,n=e.endX,o=e.endY;return Object(ct.a)(t,r,n,o)>10}},{key:"render",value:function(){var e=this.state,t=e.startX,r=e.startY,o=e.endX,i=e.endY,a=this.props,c=a.x,u=a.y,s=a.style,l=a.edgeStyle,f=a.hoverStyle;return Object(n.g)("g",{className:"lf-anchor",onDblClick:this.onDblClick},Object(n.g)(Ie,st({className:"lf-node-anchor-hover"},{x:c,y:u},f,{onMouseDown:this.dragHandler})),Object(n.g)(Ie,st({className:"lf-node-anchor"},{x:c,y:u},s,{onMouseDown:this.dragHandler})),this.isShowLine()&&Object(n.g)(se,st({x1:t,y1:r,x2:o,y2:i,"pointer-events":"none"},l)))}}])&&pt(t.prototype,r),o&&pt(t,o),a}(n.a);function gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ot(e){var t=e.x,r=void 0===t?0:t,o=e.y,i=void 0===o?0:o,a=e.value,c=e.fontSize,u=e.fill,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(r),!0).forEach((function(t){mt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({textAnchor:"middle","dominant-baseline":"middle",x:r,y:i,fill:void 0===u?"currentColor":u},e);if(a){var l=String(a).split(/[\r\n]/g),f=l.length;if(f>1){var p=l.map((function(e,t){var o=(t-(f-1)/2)*(c+2);return Object(n.g)("tspan",{className:"lf-text-tspan",x:r,y:i+o},e)}));return Object(n.g)("text",s,p)}return Object(n.g)("text",s,a)}}function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Et(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function St(e,t){return(St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=At(e);if(t){var o=At(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return kt(this,r)}}function kt(e,t){return!t||"object"!==jt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r(96),r(157);var Dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&St(e,t)}(a,e);var t,r,o,i=Pt(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).dragHandler=void 0,t.sumDeltaX=0,t.sumDeltaY=0,t.stepDrag=void 0,t.onDraging=function(e){var r=e.deltaX,n=e.deltaY,o=t.props,i=o.model,a=_t(o.graphModel.transformMatrix.fixDeltaXY(r,n),2),c=a[0],u=a[1];i.moveText(c,u)},t.dblClickHandler=function(){t.props.editable&&t.props.model.setElementState(u.b.TEXT_EDIT)},t.mouseDownHandle=function(e){var r=t.props,n=r.draggable,o=r.graphModel.editConfig.nodeTextDraggable;(n||o)&&t.stepDrag.handleMouseDown(e)};var r=e.model;return t.stepDrag=new d({onDraging:t.onDraging,step:1,model:r,isStopPropagation:!1}),t}return t=a,(r=[{key:"getShape",value:function(){var e=this.props,t=e.model.text,r=e.style,o=t.value,i={x:t.x,y:t.y,className:"lf-element-text",value:o};return Object(n.g)(Ot,xt({},i,r))}},{key:"render",value:function(){if(this.props.model.text)return Object(n.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&Et(t.prototype,r),o&&Et(t,o),a}(n.a);function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(){return(Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(r),!0).forEach((function(t){Rt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Bt(e,t,r){return t&&zt(e.prototype,t),r&&zt(e,r),e}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ft(e);if(t){var o=Ft(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ut(this,r)}}function Ut(e,t){return!t||"object"!==Nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ft(e){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}(r,e);var t=Xt(r);function r(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this)).stepDrag=void 0,n.startTime=void 0,n.preStartTime=void 0,n.contextMenuTime=void 0,n.clickTimer=void 0,n.onDragStart=function(){},n.onDraging=function(e){var t=e.deltaX,r=e.deltaY,o=n.props,i=o.model,a=o.graphModel;n.state.isDraging||n.setState({isDraging:!0});var c=It(a.transformMatrix.fixDeltaXY(t,r),2),u=c[0],s=c[1];i.modelType.indexOf("node")>-1&&a.moveNode(i.id,u,s)},n.onDragEnd=function(){n.setState({isDraging:!1})},n.handleClick=function(e){if(n.startTime&&!((new Date).getTime()-n.startTime>200)){var t=n.props,r=t.model,o=t.eventCenter,i=t.graphModel,a=r.getData(),c=i.getPointByClient({x:e.clientX,y:e.clientY});n.preStartTime&&n.startTime-n.preStartTime<200?(n.clickTimer&&window.clearTimeout(n.clickTimer),i.editConfig.nodeTextEdit&&r.text.editable&&(r.setSelected(!1),i.setElementStateById(r.id,u.b.TEXT_EDIT)),o.emit(u.d.NODE_DBCLICK,{data:a,e:e,position:c})):n.clickTimer=window.setTimeout((function(){(!n.contextMenuTime||n.startTime>n.contextMenuTime)&&(o.emit(u.d.ELEMENT_CLICK,{data:a,e:e,position:c}),o.emit(u.d.NODE_CLICK,{data:a,e:e,position:c}))}),400),i.toFront(r.id);var s=i.editConfig.metaKeyMultipleSelected;i.selectNodeById(r.id,e.metaKey&&s),n.preStartTime=n.startTime}},n.handleContextMenu=function(e){e.preventDefault(),n.contextMenuTime=(new Date).getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var t=n.props,r=t.model,o=t.eventCenter,i=t.graphModel,a=r.getData(),c=i.getPointByClient({x:e.clientX,y:e.clientY});i.setElementStateById(r.id,u.b.SHOW_MENU,c.domOverlayPosition),i.toFront(r.id),i.selectNodeById(r.id),o.emit(u.d.NODE_CONTEXTMENU,{data:a,e:e,position:c})},n.handleMouseDown=function(e){var t=n.props,r=t.model;t.graphModel.toFront(r.id),n.startTime=(new Date).getTime(),n.stepDrag&&n.stepDrag.handleMouseDown(e)},n.setHoverON=function(e){n.setState({isHovered:!0});var t=n.props,r=t.model,o=t.eventCenter,i=r.getData();r.setHovered(!0),o.emit(u.d.NODE_MOUSEENTER,{data:i,e:e})},n.setHoverOFF=function(e){n.setState({isHovered:!1});var t=n.props,r=t.model,o=t.eventCenter,i=r.getData();r.setHovered(!1),o.emit(u.d.NODE_MOUSELEAVE,{data:i,e:e})};var o=e.graphModel,i=o.gridSize,a=o.editConfig,c=e.eventCenter,s=e.model;return a.adjustNodePosition&&s.draggable&&(n.stepDrag=new d({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd,step:i,eventType:"NODE",eventCenter:c,model:s})),n.state={isDraging:!1,isHovered:!1},n}return Bt(r,null,[{key:"getModel",value:function(e){return e}}]),Bt(r,[{key:"getShapeStyle",value:function(){var e=this.props.model;return{width:e.width,height:e.height,fill:e.fill,fillOpacity:e.fillOpacity,strokeWidth:e.strokeWidth,stroke:e.stroke,strokeOpacity:e.strokeOpacity,opacity:e.opacity,outlineColor:e.outlineColor}}},{key:"getAttributes",value:function(){var e=this.props.model,t=e.id,r=e.properties,n=void 0===r?{}:r,o=e.type,i=e.x,a=e.y,c=e.isSelected,u=e.isHovered,s=e.text,l=this.getShapeStyle();return Ct({id:t,properties:Ct({},n),type:o,x:i,y:a,isSelected:c,isHovered:u,text:Ct({},s)},l)}},{key:"getProperties",value:function(){return this.props.model.getProperties()}},{key:"getAnchorStyle",value:function(){return this.props.graphModel.theme.anchor}},{key:"getAnchorHoverStyle",value:function(){return this.props.graphModel.theme.anchorHover}},{key:"getNewEdgeStyle",value:function(){return this.props.graphModel.theme.anchorLine}},{key:"getAnchors",value:function(){var e=this,t=this.props,r=t.model,o=t.graphModel,i=t.eventCenter,a=r.isSelected,u=r.isHitable,s=this.state,l=s.isHovered,f=s.isDraging;if(u&&(a||l)){var p=this.getAnchorStyle(),d=this.getAnchorHoverStyle(),h=this.getNewEdgeStyle();return Object(c.a)(r.anchors,(function(t,a){return Object(n.g)(vt,Mt({},t,{nodeDraging:f,style:p,hoverStyle:d,edgeStyle:h,anchorIndex:a,nodeModel:r,eventCenter:i,graphModel:o,setHoverOFF:e.setHoverOFF}))}))}return[]}},{key:"getTextStyle",value:function(){return this.props.graphModel.theme.nodeText}},{key:"getText",value:function(){var e=this.props,t=e.model,r=e.graphModel;if(t.state===u.b.TEXT_EDIT)return"";var o=this.getTextStyle();if(t.text){var i=r.editConfig,a=!1;return(t.text.draggable||i.nodeTextDraggable)&&(a=!0),Object(n.g)(Dt,{editable:i.nodeTextEdit&&t.text.editable,style:o,model:t,graphModel:r,draggable:a})}}},{key:"getStateClassName",value:function(){var e="lf-node";switch(this.props.model.state){case u.b.ALLOW_CONNECT:e+=" lf-node-allow";break;case u.b.NOT_ALLOW_CONNECT:e+=" lf-node-not-allow";break;default:e+=" lf-node-default"}return this.state.isDraging&&(e+=" lf-dragging"),e}},{key:"render",value:function(){var e,t=this.props,r=t.model,o=t.graphModel,i=o.editConfig,a=i.hideAnchors,c=i.adjustNodePosition,u=o.gridSize,s=o.transformMatrix.SCALE_X,l=r.isHitable,f=r.draggable,p=Object(n.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),a?null:this.getAnchors());return l?(c&&f&&this.stepDrag.setStep(u*s),e=Object(n.g)("g",{className:this.getStateClassName(),id:r.id,onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF,onContextMenu:this.handleContextMenu},p)):e=Object(n.g)("g",{className:this.getStateClassName(),id:r.id},p),e}}]),r}(n.a),Vt=r(75);function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(r),!0).forEach((function(t){qt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jt(e,t,r){return(Jt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rr(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Qt(e,t){return(Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=rr(e);if(t){var o=rr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return tr(this,r)}}function tr(e,t){return!t||"object"!==Yt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rr(e){return(rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}(a,e);var t,r,o,i=er(a);function a(){return Zt(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"getShapeStyle",value:function(){var e=Jt(rr(a.prototype),"getShapeStyle",this).call(this),t=this.props.model.radius;return Kt(Kt({},e),{},{radius:t})}},{key:"getAttributes",value:function(){var e=Jt(rr(a.prototype),"getAttributes",this).call(this),t=this.getShapeStyle();return Kt(Kt({},e),t)}},{key:"getShape",value:function(){var e=this.getAttributes();return Object(n.g)(_e,e)}}])&&$t(t.prototype,r),o&&$t(t,o),a}(Ht),or=r(76);function ir(e){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(r),!0).forEach((function(t){ur(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ar(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ur(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fr(e,t,r){return(fr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yr(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function pr(e,t){return(pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=yr(e);if(t){var o=yr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return hr(this,r)}}function hr(e,t){return!t||"object"!==ir(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}(a,e);var t,r,o,i=dr(a);function a(){return sr(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"getShapeStyle",value:function(){var e=fr(yr(a.prototype),"getShapeStyle",this).call(this),t=this.props.model.r;return cr(cr({},e),{},{r:t})}},{key:"getAttributes",value:function(){var e=fr(yr(a.prototype),"getAttributes",this).call(this),t=this.getShapeStyle();return cr(cr({},e),t)}},{key:"getShape",value:function(){var e=this.getAttributes();return Object(n.g)(Ie,e)}}])&&lr(t.prototype,r),o&&lr(t,o),a}(Ht),vr=r(77);function gr(e){var t=e.fillOpacity,r=void 0===t?1:t,o=e.strokeWidth,i=void 0===o?1:o,a=e.strokeOpacity,c=void 0===a?1:a,u=e.fill,s=void 0===u?"transparent":u,l=e.stroke,f=void 0===l?"#000":l,p=e.points,d=e.className,h={fill:s,fillOpacity:r,strokeWidth:i,stroke:f,strokeOpacity:c,points:"",className:void 0===d?"lf-basic-shape":d};return h.points=p.map((function(e){return e.join(",")})).join(" "),Object(n.g)("polygon",h)}function mr(e){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(r),!0).forEach((function(t){xr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Or(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Er(e,t,r){return(Er="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ar(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Sr(e,t){return(Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ar(e);if(t){var o=Ar(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return kr(this,r)}}function kr(e,t){return!t||"object"!==mr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ar(e){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Dr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}(a,e);var t,r,o,i=Pr(a);function a(){return _r(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"getShapeStyle",value:function(){var e=Er(Ar(a.prototype),"getShapeStyle",this).call(this),t=this.props.model.points;return jr(jr({},e),{},{points:t})}},{key:"getAttributes",value:function(){var e=Er(Ar(a.prototype),"getAttributes",this).call(this),t=this.getShapeStyle();return jr(jr({},e),t)}},{key:"getShape",value:function(){var e=this.getAttributes(),t=e.width,r=e.height,o=e.x,i=e.y,a=e.fill,c=e.fillOpacity,u=e.strokeWidth,s=e.stroke,l=e.strokeOpacity,f=e.points,p={transform:"matrix(1 0 0 1 ".concat(o-t/2," ").concat(i-r/2,")")},d={fill:a,fillOpacity:c,strokeWidth:u,stroke:s,strokeOpacity:l,points:f};return Object(n.g)("g",p,Object(n.g)(gr,d))}}])&&wr(t.prototype,r),o&&wr(t,o),a}(Ht),Nr=r(78);function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Rr(e,t){return(Rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=zr(e);if(t){var o=zr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Lr(this,r)}}function Lr(e,t){return!t||"object"!==Mr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zr(e){return(zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rr(e,t)}(a,e);var t,r,o,i=Ir(a);function a(){return Tr(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"getShape",value:function(){var e=this.getAttributes();return Object(n.g)(Ot,e)}}])&&Cr(t.prototype,r),o&&Cr(t,o),a}(Ht),Gr=r(37),Xr=r(16);function Ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hr(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(r),!0).forEach((function(t){Fr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({d:""},e);return Object(n.g)("path",t)}Hr.defaultProps={strokeDasharray:""};var Vr=Hr,Yr=r(61);function Wr(e){return(Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=tn(e);if(t){var o=tn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return en(this,r)}}function en(e,t){return!t||"object"!==Wr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jr(e,t)}(a,e);var t,r,o,i=Qr(a);function a(){return Zr(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"getArrowAttibutes",value:function(){var e=this.props,t=e.arrowInfo,r=e.style,n=t.start,o=t.end,i={start:n,end:o,offset:r.offset,verticalLength:r.verticalLength,type:"end"},a=Object(Yr.a)(i),c=a.leftX,u=a.leftY,s=a.rightX,l=a.rightY;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(r),!0).forEach((function(t){qr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({d:"M".concat(c," ").concat(u," L").concat(o.x," ").concat(o.y," L").concat(s," ").concat(l," z")},r)}},{key:"getShape",value:function(){var e=this.getArrowAttibutes(),t=e.d,r=e.strokeWidth,o=e.stroke,i=e.fill;return Object(n.g)(Vr,{d:t,fill:i,strokeWidth:r,stroke:o})}},{key:"render",value:function(){return Object(n.g)("g",{className:"lf-arrow"},this.getShape())}}])&&$r(t.prototype,r),o&&$r(t,o),a}(n.a),nn=r(33);function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?an(Object(r),!0).forEach((function(t){un(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):an(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function un(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ln(e,t){return(ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=dn(e);if(t){var o=dn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return pn(this,r)}}function pn(e,t){return!t||"object"!==on(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ln(e,t)}(a,e);var t,r,o,i=fn(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).setHoverON=function(){t.setState({isHoverd:!0})},t.setHoverOFF=function(){t.setState({isHoverd:!1})},t.state={isHoverd:!1},t}return t=a,(r=[{key:"getBackgroud",value:function(){var e=this.props,t=e.model.text,r=e.style,o=Object(nn.a)(r.background,"fill","stroke","radius","height");if(this.state.isHoverd&&r.hoverBackground&&(o=cn(cn({},o),r.hoverBackground)),t&&t.value&&"transparnet"!==o.fill){var i=r.fontSize,a=t.value,c=t.x,u=t.y,s=String(a).split(/[\r\n]/g),l=s.length,f=0;s&&s.forEach((function(e){var t=Object(me.e)(e);f=t>f?t:f}));var p=cn({x:c-1,y:u-1,width:Math.ceil(f/2)*i+i/4,height:l*(i+2)+i/4},o);return Object(n.g)(_e,p)}}},{key:"getShape",value:function(){var e=this.props,t=e.model.text,r=e.style,o=t.value,i=cn({x:t.x,y:t.y,className:"lf-element-text",value:o},Object(nn.a)(r,"color","fontSize","fontWeight","fontFamily"));return Object(n.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(n.g)(Ot,i))}}])&&sn(t.prototype,r),o&&sn(t,o),a}(Dt);function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(r),!0).forEach((function(t){gn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function On(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=wn(e);if(t){var o=wn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _n(this,r)}}function _n(e,t){return!t||"object"!==yn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var En=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(a,e);var t,r,o,i=xn(a);function a(){var e;mn(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r))).startTime=void 0,e.preStartTime=void 0,e.contextMenuTime=void 0,e.clickTimer=void 0,e.handleHover=function(t,r){var n=e.props,o=n.model,i=n.eventCenter;o.setHovered(t);var a=t?u.d.EDGE_MOUSEENTER:u.d.EDGE_MOUSELEAVE,c=o.getData();i.emit(a,{data:c,e:r})},e.setHoverON=function(t){e.handleHover(!0,t)},e.setHoverOFF=function(t){e.handleHover(!1,t)},e.handleContextMenu=function(t){t.preventDefault(),e.contextMenuTime=(new Date).getTime(),e.clickTimer&&clearTimeout(e.clickTimer);var r=e.props,n=r.model,o=r.graphModel,i=r.eventCenter,a=o.getPointByClient({x:t.clientX,y:t.clientY});o.setElementStateById(n.id,u.b.SHOW_MENU,a.domOverlayPosition),o.toFront(n.id),o.selectEdgeById(n.id);var c=null==n?void 0:n.getData();i.emit(u.d.EDGE_CONTEXTMENU,{data:c,e:t,position:a})},e.handleMouseDown=function(t){t.stopPropagation(),e.startTime=(new Date).getTime()},e.handleMouseUp=function(t){if(e.startTime&&!((new Date).getTime()-e.startTime>200)){var r=e.props,n=r.model,o=r.graphModel,i=r.eventCenter,a=null==n?void 0:n.getData(),c=o.getPointByClient({x:t.clientX,y:t.clientY});if(e.preStartTime&&e.startTime-e.preStartTime<200){e.clickTimer&&window.clearTimeout(e.clickTimer);var s=o.editConfig,l=o.textEditElement;if(l&&l.id===n.id&&o.setElementStateById(n.id,u.b.DEFAULT),s.edgeTextEdit&&n.text.editable&&o.setElementStateById(n.id,u.b.TEXT_EDIT),n.modelType===u.e.POLYLINE_EDGE){var f=n,p=o.getPointByClient({x:t.x,y:t.y}).canvasOverlayPosition,d=p.x,h=p.y,y=Object(me.f)({x:d,y:h},f.points);f.dbClickPosition=y}i.emit(u.d.EDGE_DBCLICK,{data:a,e:t,position:c})}else e.clickTimer=window.setTimeout((function(){(!e.contextMenuTime||e.startTime>e.contextMenuTime)&&(i.emit(u.d.ELEMENT_CLICK,{data:a,e:t,position:c}),i.emit(u.d.EDGE_CLICK,{data:a,e:t,position:c}))}),400);o.toFront(n.id);var b=o.editConfig.metaKeyMultipleSelected;o.selectEdgeById(n.id,t.metaKey&&b),e.preStartTime=e.startTime}},e}return t=a,(r=[{key:"getAttributes",value:function(){var e=this.props.model,t=e.strokeWidth,r=e.strokeOpacity,n=e.strokeDashArray,o=e.isSelected,i=e.isHovered,a=e.hoverStroke,c=e.selectedStroke,u=e.properties,s=this.props.model.stroke;return i?s=a:o&&(s=c),{stroke:s,strokeWidth:t,strokeOpacity:r,strokeDashArray:n,isSelected:o,isHovered:i,hoverStroke:a,selectedStroke:c,properties:vn({},u)}}},{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var e=this.props,t=e.model,r=e.graphModel;if(t.state===u.b.TEXT_EDIT)return"";var o=r.theme.edgeText,i=this.getTextStyle(),a=Object(Xr.a)({},o,i),c=!1,s=r.editConfig;return(t.text.draggable||s.edgeTextDraggable)&&(c=!0),Object(n.g)(hn,{editable:s.edgeTextEdit&&t.text.editable,model:t,graphModel:r,style:a,draggable:c})}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=e.startPoint,r=e.endPoint,n=e.isSelected;return{start:t,end:r,hover:this.state.hover,isSelected:n}}},{key:"getArrowStyle",value:function(){var e=this.getAttributes().stroke,t=this.props.graphModel.theme.arrow;return{stroke:e,strokeWidth:1,fill:e,offset:t.offset,verticalLength:t.verticalLength}}},{key:"getArrow",value:function(){var e=this.getArrowInfo(),t=e.start,r=e.end;if(t&&r&&(t.x!==r.x||t.y!==r.y)){var o=this.getArrowStyle();return Object(n.g)(rn,{arrowInfo:e,style:o})}}},{key:"getAppendWidth",value:function(){return Object(n.g)("g",null)}},{key:"getAppend",value:function(){return Object(n.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"render",value:function(){var e=this.props.model;return Object(n.g)("g",{className:"lf-edge",id:e.id,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow())}}])&&On(t.prototype,r),o&&On(t,o),a}(n.a),Sn=r(46);function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(r),!0).forEach((function(t){Dn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tn(e,t,r){return(Tn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ln(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Cn(e,t){return(Cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ln(e);if(t){var o=Ln(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return In(this,r)}}function In(e,t){return!t||"object"!==Pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ln(e){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cn(e,t)}(a,e);var t,r,o,i=Rn(a);function a(){return Nn(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"getAttributes",value:function(){var e=this.props.model,t=e.startPoint,r=e.endPoint;return An(An({},Tn(Ln(a.prototype),"getAttributes",this).call(this)),{},{startPoint:t,endPoint:r})}},{key:"getEdge",value:function(){var e=this.getAttributes(),t=e.stroke,r=e.startPoint,o=e.endPoint,i=e.strokeWidth,a=e.strokeOpacity,c=e.strokeDashArray;return Object(n.g)(se,{x1:r.x,y1:r.y,x2:o.x,y2:o.y,strokeOpacity:a,strokeWidth:i,stroke:t,strokeDasharray:c})}},{key:"getShape",value:function(){return Object(n.g)("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var e=this.props.model,t={start:e.startPoint,end:e.endPoint},r=Object(me.a)(t),o=r.d,i=r.strokeWidth,a=r.fill,c=r.strokeDasharray,u=r.stroke;return Object(n.g)(Vr,{d:o,fill:a,strokeWidth:i,stroke:u,strokeDasharray:c})}}])&&Mn(t.prototype,r),o&&Mn(t,o),a}(En);function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(r),!0).forEach((function(t){Un(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Un(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vn(e,t,r){return(Vn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qn(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Yn(e,t){return(Yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=qn(e);if(t){var o=qn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Kn(this,r)}}function Kn(e,t){return!t||"object"!==Bn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qn(e){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yn(e,t)}(a,e);var t,r,o,i=Wn(a);function a(){return Fn(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"getShapeStyle",value:function(){var e=this.props.model.points;return Xn(Xn({},Vn(qn(a.prototype),"getShapeStyle",this).call(this)),{},{points:e})}},{key:"getAttributes",value:function(){var e=Vn(qn(a.prototype),"getAttributes",this).call(this),t=this.getShapeStyle();return Xn(Xn({},e),t)}},{key:"getShape",value:function(){var e=this.props.model.points,t=this.getAttributes(),r={fill:t.fill,fillOpacity:t.fillOpacity,strokeWidth:t.strokeWidth,stroke:t.stroke,strokeOpacity:t.strokeOpacity,points:e};return Object(n.g)("g",null,Object(n.g)(gr,r))}}])&&Hn(t.prototype,r),o&&Hn(t,o),a}(Ht),$n=r(97),Jn=r(52);function Qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var to=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(r),!0).forEach((function(t){eo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({points:"",fill:"none"},e);return Object(n.g)("polyline",t)};function ro(e){return(ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function no(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?no(Object(r),!0).forEach((function(t){io(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):no(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function io(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ao(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return co(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?co(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function co(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function so(e,t,r){return(so="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ho(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function lo(e,t){return(lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ho(e);if(t){var o=ho(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return po(this,r)}}function po(e,t){return!t||"object"!==ro(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ho(e){return(ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lo(e,t)}(a,e);var t,r,o,i=fo(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).drag=void 0,e.isDraging=void 0,e.appendInfo=void 0,e.dragHandler=void 0,e.onDragStart=function(){e.props.model.dragAppendStart()},e.onDraging=function(t){var r=t.deltaX,n=t.deltaY,o=e.props,i=o.model,a=o.graphModel;e.isDraging=!0;var c=ao(a.transformMatrix.fixDeltaXY(r,n),2),u=c[0],s=c[1],l=i;e.appendInfo=l.dragAppend(e.appendInfo,{x:u,y:s})},e.onDragEnd=function(){e.props.model.dragAppendEnd(),e.isDraging=!1,e.appendInfo=void 0},e.beforeDragStart=function(t,r){e.dragHandler(t),e.appendInfo=r},e.drag=p({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd,isStopPropagation:!1}),e}return t=a,(r=[{key:"getAttributes",value:function(){var e=so(ho(a.prototype),"getAttributes",this).call(this),t=this.props.model.points;return oo(oo({},e),{},{points:t})}},{key:"getEdge",value:function(){var e=this.getAttributes(),t=e.points,r=e.strokeWidth,o=e.stroke,i=e.strokeDashArray;return Object(n.g)(to,{points:t,strokeWidth:r,stroke:o,strokeDasharray:i})}},{key:"getShape",value:function(){return Object(n.g)("g",null,this.getEdge())}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=e.points,r=e.isSelected,n={start:null,end:null,hover:this.state.hover,isSelected:r},o=Object(me.n)(t);return o.length>=2&&(n.start=o[o.length-2],n.end=o[o.length-1]),n}},{key:"getAppendAttibutes",value:function(e){var t,r=e.start,n=e.end;if(r.x===n.x&&r.y===n.y)t="";else{var o={start:r,end:n,offset:10,verticalLength:5},i=Object(Yr.a)(oo(oo({},o),{},{type:"start"})),a=Object(Yr.a)(oo(oo({},o),{},{type:"end"}));t="M".concat(i.leftX," ").concat(i.leftY," \n      L").concat(i.rightX," ").concat(i.rightY," \n      L").concat(a.rightX," ").concat(a.rightY,"\n      L").concat(a.leftX," ").concat(a.leftY," z")}return{d:t,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(e){var t=this.getAppendAttibutes(e),r=t.d,o=t.strokeWidth,i=t.fill,a=t.strokeDasharray,c=t.stroke;return Object(n.g)(Vr,{d:r,fill:i,strokeWidth:o,stroke:c,strokeDasharray:a})}},{key:"getAppendWidth",value:function(){for(var e=this,t=this.props,r=t.model,o=t.graphModel,i=r.pointsList,a=r.draggable,c=[],s=function(t){var r="lf-polyline-append",s={start:{x:i[t].x,y:i[t].y},end:{x:i[t+1].x,y:i[t+1].y},startIndex:t,endIndex:t+1,direction:""},l=Object(n.g)("g",{className:r},e.getAppendShape(s));o.editConfig.adjustEdge&&a?(e.dragHandler=e.drag,s.start.x===s.end.x?(r+="-ew-resize",s.direction=u.f.VERTICAL):s.start.y===s.end.y&&(r+="-ns-resize",s.direction=u.f.HORIZONTAL),l=Object(n.g)("g",{className:e.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(t){return e.beforeDragStart(t,s)}},Object(n.g)("g",{className:r},e.getAppendShape(s)))):e.dragHandler=function(){},c.push(l)},l=0;l<i.length-1;l++)s(l);return Object(n.g)("g",null,c)}}])&&uo(t.prototype,r),o&&uo(t,o),a}(En),bo=r(98);function vo(e){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(r),!0).forEach((function(t){xo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Eo(e,t,r){return(Eo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ao(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function So(e,t){return(So=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Po(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ao(e);if(t){var o=Ao(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ko(this,r)}}function ko(e,t){return!t||"object"!==vo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ao(e){return(Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Do=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&So(e,t)}(a,e);var t,r,o,i=Po(a);function a(){return _o(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"getAttributes",value:function(){var e=Eo(Ao(a.prototype),"getAttributes",this).call(this),t=this.props.model.path;return jo(jo({},e),{},{path:t})}},{key:"getEdge",value:function(){var e=this.getAttributes(),t=e.path,r=e.strokeWidth,o=e.stroke,i=e.strokeDashArray;return Object(n.g)(Vr,{d:t,strokeWidth:r,stroke:o,fill:"none",strokeDasharray:i})}},{key:"getShape",value:function(){return Object(n.g)("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var e=this.getAttributes().path;return Object(n.g)(Vr,{d:e,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=this.state.hover,r=e,n=r.path,o=r.isSelected,i=go(Object(me.h)(n),2);return{start:i[0],end:i[1],hover:t,isSelected:o}}}])&&wo(t.prototype,r),o&&wo(t,o),a}(En),No=r(201),Mo=r(63);function To(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Co(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?To(Object(r),!0).forEach((function(t){Ro(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):To(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ro(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Io(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Lo=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nodeConfig=void 0,this.lf=void 0,this.options=void 0,this.fakerNode=void 0,this.stopDrag=function(){r.nodeConfig=null,window.document.removeEventListener("mouseup",r.stopDrag)},this.dragEnter=function(e){r.nodeConfig&&(r.fakerNode=r.lf.createFakerNode(Co(Co({},r.nodeConfig),r.clientToLocalPoint({x:e.clientX,y:e.clientY}))))},this.onDragOver=function(e){if(e.preventDefault(),r.fakerNode){var t=r.clientToLocalPoint({x:e.clientX,y:e.clientY}),n=t.x,o=t.y;r.fakerNode.moveTo(n,o);var i=r.fakerNode.getData();r.lf.setNodeSnapLine(i)}return!1},this.onDragLeave=function(){r.fakerNode&&(r.lf.removeNodeSnapLine(),r.lf.graphModel.removeFakerNode(),r.fakerNode=null)},this.onDrop=function(e){r.lf.graphModel&&e&&r.nodeConfig&&(r.lf.addNode(Co(Co({},r.nodeConfig),r.clientToLocalPoint({x:e.clientX,y:e.clientY}))),e.preventDefault(),e.stopPropagation(),r.nodeConfig=null,r.lf.removeNodeSnapLine(),r.lf.graphModel.removeFakerNode(),r.fakerNode=null)};var n=t.options,o=t.lf;this.lf=o,this.options=n}var t,r,n;return t=e,(r=[{key:"clientToLocalPoint",value:function(e){var t=e.x,r=e.y,n=Object(No.a)(this.lf.options,["grid","size"]),o=this.lf.graphModel.getPointByClient({x:t,y:r}).canvasOverlayPosition,i=o.x,a=o.y;return{x:Object(Mo.b)(i,n),y:Object(Mo.b)(a,n)}}},{key:"startDrag",value:function(e){this.nodeConfig=e,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Io(t.prototype,r),n&&Io(t,n),e}();function zo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Go(e){var t=e.x,r=void 0===t?0:t,o=e.y,i=void 0===o?0:o,a=e.rx,c=void 0===a?4:a,u=e.ry,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(r),!0).forEach((function(t){Bo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({cx:r,cy:i,rx:c,ry:void 0===u?4:u,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1},e);return Object(n.g)("ellipse",s)}function Xo(e){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uo(Object(r),!0).forEach((function(t){Ho(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ho(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wo(e,t,r){return(Wo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$o(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Ko(e,t){return(Ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=$o(e);if(t){var o=$o(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Zo(this,r)}}function Zo(e,t){return!t||"object"!==Xo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $o(e){return($o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ko(e,t)}(a,e);var t,r,o,i=qo(a);function a(){return Vo(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"getAttributes",value:function(){var e=Wo($o(a.prototype),"getAttributes",this).call(this),t=this.props.model,r=t.rx,n=t.ry;return Fo(Fo({},e),{},{rx:r,ry:n})}},{key:"getShape",value:function(){var e=this.getAttributes();return Object(n.g)(Go,e)}}])&&Yo(t.prototype,r),o&&Yo(t,o),a}(Ht),Qo=r(79),ei=r(119),ti=r(86),ri=function(e,t){return Object(ti.a)(e,t)},ni=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},oi=r(242),ii=r(11),ai=r(10),ci=function(){return ai.a.Date.now()},ui=r(57),si=/^\s+|\s+$/g,li=/^[-+]0x[0-9a-f]+$/i,fi=/^0b[01]+$/i,pi=/^0o[0-7]+$/i,di=parseInt,hi=function(e){if("number"==typeof e)return e;if(Object(ui.a)(e))return NaN;if(Object(ii.a)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Object(ii.a)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(si,"");var r=fi.test(e);return r||pi.test(e)?di(e.slice(2),r?2:8):li.test(e)?NaN:+e},yi=Math.max,bi=Math.min,vi=function(e,t,r){var n,o,i,a,c,u,s=0,l=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var r=n,i=o;return n=o=void 0,s=t,a=e.apply(i,r)}function h(e){return s=e,c=setTimeout(b,t),l?d(e):a}function y(e){var r=e-u;return void 0===u||r>=t||r<0||f&&e-s>=i}function b(){var e=ci();if(y(e))return v(e);c=setTimeout(b,function(e){var r=t-(e-u);return f?bi(r,i-(e-s)):r}(e))}function v(e){return c=void 0,p&&n?d(e):(n=o=void 0,a)}function g(){var e=ci(),r=y(e);if(n=arguments,o=this,u=e,r){if(void 0===c)return h(u);if(f)return clearTimeout(c),c=setTimeout(b,t),d(u)}return void 0===c&&(c=setTimeout(b,t)),a}return t=hi(t)||0,Object(ii.a)(r)&&(l=!!r.leading,i=(f="maxWait"in r)?yi(hi(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p),g.cancel=function(){void 0!==c&&clearTimeout(c),s=0,n=u=o=c=void 0},g.flush=function(){return void 0===c?a:v(ci())},g},gi=r(202);function mi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Oi,ji=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.undos=[],this.redos=[],this.callbacks=[],this.stopWatch=null,this.curData=null,this.maxSize=50,this.waitTime=100,this.eventCenter=void 0,this.eventCenter=t}var t,r,n;return t=e,(r=[{key:"add",value:function(e){ri(ni(this.undos),e)||(this.undos.push(e),ri(this.curData,e)||(this.redos=[]),this.eventCenter.emit(u.d.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var e=this.undos.pop();this.redos.push(e);var t=this.undos.pop();return this.curData=Object(oi.a)(t),t}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var e=this.redos.pop();return this.curData=Object(oi.a)(e),e}}},{key:"watch",value:function(e){var t=this;this.stopWatch&&this.stopWatch(),this.undos.push(e.modelToGraphData()),this.stopWatch=Object(gi.a)(e,vi((function(){var r=e.modelToGraphData();t.add(r)}),this.waitTime))}}])&&mi(t.prototype,r),n&&mi(t,n),e}();function xi(e){return(xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ei(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Si(e,t){return(Si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ai(e);if(t){var o=Ai(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ki(this,r)}}function ki(e,t){return!t||"object"!==xi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ai(e){return(Ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r(238);var Di,Ni=Object(x.observer)(Oi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Si(e,t)}(a,e);var t,r,o,i=Pi(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).ref=Object(n.f)(),e.__prevText={text:"",id:""},e.keyupHandler=function(t){var r=t.target.innerText,n=e.props.graphModel.textEditElement;13===t.keyCode&&t.altKey&&n.setElementState(0),e.__prevText={text:r,id:n.id}},e.state={style:{left:0,top:0}},e}return t=a,o=[{key:"getDerivedStateFromProps",value:function(e){var t=e.graphModel,r=t.transformMatrix,n=t.textEditElement;if(n){var o;if(null===(o=n.text)||void 0===o||!o.value)if(n.BaseType===u.c.EDGE){var i=(n=n).text,a=n.textPosition,c=a.x,s=a.y;i.x=c,i.y=s,n.setText(i)}else n=n;var l=n.text,f=l.x,p=l.y,d=_i(r.CanvasPointToHtmlPoint([f,p]),2);return{style:{left:d[0],top:d[1]}}}}}],(r=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current))}},{key:"componentDidUpdate",value:function(){var e=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),""!==this.__prevText.id){var t=this.__prevText,r=t.text,n=t.id;e.setElementTextById(n,r),this.__prevText.id="",this.__prevText.text=""}}},{key:"placeCaretAtEnd",value:function(e){if(void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var r=window.getSelection();r.removeAllRanges(),r.addRange(t)}}},{key:"render",value:function(){var e,t=this.props.graphModel.textEditElement,r=this.state.style;return t?Object(n.g)("div",{contentEditable:!0,className:"lf-text-input",style:r,ref:this.ref,key:t.id,onKeyUp:this.keyupHandler},null===(e=t.text)||void 0===e?void 0:e.value):null}}])&&Ei(t.prototype,r),o&&Ei(t,o),a}(n.a))||Oi,Mi=(r(94),r(95),r(158),function(e){return e.modelType===u.e.LINE_EDGE?function(e){var t=e.startPoint,r=e.endPoint,n=(t.x+r.x)/2,o=(t.y+r.y)/2,i=Math.abs(t.x-r.x)+10,a=Math.abs(t.y-r.y)+10;return{x:n-i/2,y:o-a/2,x1:n+i/2,y1:o+a/2}}(e):e.modelType===u.e.POLYLINE_EDGE?function(e){var t=e.points,r=Object(me.n)(t),n=Object(me.b)(r,8),o=n.x,i=n.y,a=n.width,c=n.height;return{x:o-a/2,y:i-c/2,x1:o+a/2,y1:i+c/2}}(e):e.modelType===u.e.BEZIER_EDGE?function(e){var t=e.path,r=Object(me.d)(t),n=Object(me.b)(r,8),o=n.x,i=n.y,a=n.width,c=n.height;return{x:o-a/2,y:i-c/2,x1:o+a/2,y1:i+c/2}}(e):void 0});function Ti(e){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ci(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ri(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ri(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ii(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Li(e,t){return(Li=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Gi(e);if(t){var o=Gi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Bi(this,r)}}function Bi(e,t){return!t||"object"!==Ti(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gi(e){return(Gi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xi=Object(x.observer)(Di=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Li(e,t)}(a,e);var t,r,o,i=zi(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).stepDrag=void 0,t.handleMouseDown=function(e){t.stepDrag.handleMouseDown(e)},t.onDragStart=function(){},t.onDraging=function(e){var r=e.deltaX,n=e.deltaY,o=t.props.graphModel;o.moveElements(o.getSelectElements(!0),r,n)},t.onDragEnd=function(){};var r=e.graphModel.gridSize,n=e.eventCenter;return t.stepDrag=new d({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd,step:r,eventType:"multiple:select",eventCenter:n}),t}return t=a,(r=[{key:"render",value:function(){var e=this.props.graphModel,t=e.selectElements,r=e.selectElementSize,o=e.transformMatrix;if(r>1){var i=Number.MAX_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;t.forEach((function(e){var t={x:0,y:0,x1:0,y1:0};e.BaseType===u.c.NODE&&(t=function(e){var t=e.x,r=e.y,n=e.width,o=e.height;return{x:t-n/2,y:r-o/2,x1:t+n/2,y1:r+o/2}}(e)),e.BaseType===u.c.EDGE&&(t=Mi(e)),i=Math.min(i,t.x),a=Math.min(a,t.y),c=Math.max(c,t.x1),s=Math.max(s,t.y1)}));var l=Ci(o.CanvasPointToHtmlPoint([i,a]),2);i=l[0],a=l[1];var f=Ci(o.CanvasPointToHtmlPoint([c,s]),2);c=f[0],s=f[1];var p={left:"".concat(i-10,"px"),top:"".concat(a-10,"px"),width:"".concat(c-i+20,"px"),height:"".concat(s-a+20,"px")};return Object(n.g)("div",{className:"lf-multiple-select",style:p,onMouseDown:this.handleMouseDown})}}}])&&Ii(t.prototype,r),o&&Ii(t,o),a}(n.a))||Di;function Ui(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Fi=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tools=void 0,this.components=void 0,this.toolMap=new Map,this.instance=void 0,this.instance=t,this.registerTool("textEdit",Ni),this.registerTool("multipleSelect",Xi)}var t,r,n;return t=e,(r=[{key:"registerTool",value:function(e,t){this.toolMap.set(e,t)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&Ui(t.prototype,r),n&&Ui(t,n),e}();function Hi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r(114);var Vi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._events={}}var t,r,n;return t=e,(r=[{key:"on",value:function(e,t,r){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!r}),this}},{key:"once",value:function(e,t){return this.on(e,t,!0)}},{key:"emit",value:function(e,t){var r=this,n=this._events[e]||[],o=this._events["*"]||[],i=function(n){for(var o=n.length,i=0;i<o;i++)if(n[i]){var a=n[i],c=a.callback;a.once&&(n.splice(i,1),0===n.length&&delete r._events[e],o--,i--),c.apply(r,[t])}};i(n),i(o)}},{key:"off",value:function(e,t){if(e)if(t){for(var r=this._events[e]||[],n=r.length,o=0;o<n;o++)r[o].callback===t&&(r.splice(o,1),n--,o--);0===r.length&&delete this._events[e]}else delete this._events[e];else this._events={};return this}},{key:"getEvents",value:function(){return this._events}}])&&Hi(t.prototype,r),n&&Hi(t,n),e}(),Yi=r(120),Wi=r(26),Ki=null;function qi(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function Zi(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach((function(e){e.x+=t,e.y+=t})),e.text&&(e.text.x+=t,e.text.y+=t),e}var $i=r(121);function Ji(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(r),!0).forEach((function(t){ea(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ji(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ea(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ta(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ra=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=void 0,this.width=void 0,this.height=void 0,this.graphModel=void 0,this.history=void 0,this.viewMap=new Map,this.tool=void 0,this.keyboard=void 0,this.dnd=void 0,this.options=void 0,this.getSnapshot=void 0,this.eventCenter=void 0,this.snaplineModel=void 0,this.components=[],this.adapterIn=void 0,this.adapterOut=void 0,this.getView=function(e){return r.viewMap.get(e)};var n,o,i=t.container,c=t.width,u=t.height,s=t.dndOptions,l=t.keyboard,f=t.isSilentMode,p=t.snapline;this.options=ei.b(t),this.container=i,this.width=c||i.getBoundingClientRect().width,this.height=u||i.getBoundingClientRect().height,this.tool=new Fi(this),this.eventCenter=new Vi,this.history=new ji(this.eventCenter),this.dnd=new Lo({options:s,lf:this}),this.keyboard=new Yi.b({lf:this,keyboard:l}),this.graphModel=new a.b(Qi(Qi({},this.options),{},{eventCenter:this.eventCenter,rootEl:this.container,width:this.width,height:this.height})),f||!1===p||(this.snaplineModel=new $i.b(this.graphModel),n=this.eventCenter,o=this.snaplineModel,n.on("node:mousemove",(function(e){var t=e.data;o.setNodeSnapLine(t)})),n.on("node:mouseup",(function(){o.clearSnapline()}))),this.defaultRegister(),this.installPlugins(t.disabledPlugins),function(e,t){var r=e.keyboard,n=r.options.keyboard;r.on(["cmd + c","ctrl + c"],(function(){if(n.enabled&&!t.textEditElement){var r=e.options.guards,o=t.getSelectElements(!1);return r&&r.beforeClone&&!r.beforeClone(o)||((Ki=o).nodes.forEach((function(e){return qi(e,40)})),Ki.edges.forEach((function(e){return Zi(e,40)}))),!1}})),r.on(["cmd + v","ctrl + v"],(function(){if(n.enabled&&!t.textEditElement){if(Ki&&(Ki.nodes||Ki.edges)){e.clearSelectElements();var r=e.addElements(Ki);if(!r)return;r.nodes.forEach((function(t){return e.select(t.id,!0)})),r.edges.forEach((function(t){return e.select(t.id,!0)})),Ki.nodes.forEach((function(e){return qi(e,40)})),Ki.edges.forEach((function(e){return Zi(e,40)}))}return!1}})),r.on(["cmd + z","ctrl + z"],(function(){if(n.enabled&&!t.textEditElement)return e.undo(),!1})),r.on(["cmd + y","ctrl + y"],(function(){if(n.enabled&&!t.textEditElement)return e.redo(),!1})),r.on(["backspace"],(function(){if(n.enabled&&!t.textEditElement){var r=t.getSelectElements(!0);return e.clearSelectElements(),r.edges.forEach((function(t){return e.deleteEdge(t.id)})),r.nodes.forEach((function(t){return e.deleteNode(t.id)})),!1}}))}(this,this.graphModel),this.keyboard.initShortcuts()}var t,r,c;return t=e,c=[{key:"use",value:function(e){var t=this.extensions.get(e.name);t&&t.destroy&&t.destroy(),this.extensions.set(e.name,e)}}],(r=[{key:"on",value:function(e,t){this.eventCenter.on(e,t)}},{key:"off",value:function(e,t){this.eventCenter.off(e,t)}},{key:"emit",value:function(e,t){this.eventCenter.emit(e,t)}},{key:"installPlugins",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.extensions.forEach((function(e){-1===r.indexOf(e.name)&&t.__installPlugin(e)}))}},{key:"__installPlugin",value:function(t){var r=t.install,n=t.render;r&&r.call(t,this,e),n&&this.components.push(n.bind(t))}},{key:"register",value:function(e,t){var r={BaseEdge:En,BaseEdgeModel:Gr.b,BaseNode:Ht,BaseNodeModel:at.b,RectNode:nr,RectNodeModel:Vt.b,CircleNode:br,CircleNodeModel:or.b,PolygonNode:Dr,PolygonNodeModel:vr.b,TextNode:Br,TextNodeModel:Nr.b,LineEdge:zn,LineEdgeModel:Sn.b,DiamondNode:Zn,DiamondNodeModel:$n.b,PolylineEdge:yo,PolylineEdgeModel:Jn.b,BezierEdge:Do,BezierEdgeModel:bo.b,EllipseNode:Jo,EllipseNodeModel:Qo.b,mobx:i,h:n.g,type:e};this.viewMap.forEach((function(e){var t=e.extendKey;t&&(r[t]=e)})),this.graphModel.modelMap.forEach((function(e){var t=e.extendKey;t&&(r[t]=e)}));var a=t(r),c=a.view,u=a.model;this.setView(e,Object(o.c)(c)),this.graphModel.setModel(e,u)}},{key:"defaultRegister",value:function(){this.register("rect",(function(){return{view:nr,model:Vt.b}})),this.register("circle",(function(){return{view:br,model:or.b}})),this.register("polygon",(function(){return{view:Dr,model:vr.b}})),this.register("line",(function(){return{view:zn,model:Sn.b}})),this.register("polyline",(function(){return{view:yo,model:Jn.b}})),this.register("bezier",(function(){return{view:Do,model:bo.b}})),this.register("text",(function(){return{view:Br,model:Nr.b}})),this.register("ellipse",(function(){return{view:Jo,model:Qo.b}})),this.register("diamond",(function(){return{view:Zn,model:$n.b}}))}},{key:"undo",value:function(){if(this.history.undoAble()){var e=Object(Wi.a)(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}}},{key:"redo",value:function(){if(this.history.redoAble()){var e=Object(Wi.a)(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}}},{key:"zoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.graphModel.transformMatrix;return t.zoom(e),"".concat(100*t.SCALE_X,"%")}},{key:"resetZoom",value:function(){this.graphModel.transformMatrix.resetZoom()}},{key:"setZoomMiniSize",value:function(e){this.graphModel.transformMatrix.setZoomMiniSize(e)}},{key:"setZoomMaxSize",value:function(e){this.graphModel.transformMatrix.setZoomMaxSize(e)}},{key:"getTransform",value:function(){var e=this.graphModel.transformMatrix;return{SCALE_X:e.SCALE_X,SCALE_Y:e.SCALE_Y,TRANSLATE_X:e.TRANSLATE_X,TRANSLATE_Y:e.TRANSLATE_Y}}},{key:"translate",value:function(e,t){this.graphModel.transformMatrix.translate(e,t)}},{key:"resetTranslate",value:function(){var e=this.graphModel.transformMatrix,t=e.TRANSLATE_X,r=e.TRANSLATE_Y;this.translate(-t,-r)}},{key:"select",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.graphModel.selectElementById(e,t)}},{key:"focusOn",value:function(e){var t=this.graphModel.transformMatrix,r=e.coordinate,n=e.id;if(!r){var o=this.getNodeModel(n);o&&(r=o.getData());var i=this.getEdgeModelById(n);i&&(r=i.textPosition)}var a=r,c=a.x,u=a.y;t.focusOn(c,u,this.width,this.height)}},{key:"setTheme",value:function(e){this.graphModel.setTheme(e)}},{key:"setDefaultEdgeType",value:function(e){this.options.edgeType=e,this.graphModel.changeEdgeType(e)}},{key:"updateText",value:function(e,t){this.graphModel.setElementTextById(e,t)}},{key:"addNode",value:function(e){return this.graphModel.addNode(e)}},{key:"deleteNode",value:function(e){var t=this.graphModel.getNodeModel(e).getData(),r=this.options.guards;(!r||!r.beforeDelete||r.beforeDelete(t))&&this.graphModel.deleteNode(e)}},{key:"editNodeText",value:function(e){this.graphModel.setTextEditable(e)}},{key:"cloneNode",value:function(e){var t=this.graphModel.getNodeModel(e).getData(),r=this.options.guards;if(!r||!r.beforeClone||r.beforeClone(t))return this.graphModel.cloneNode(e)}},{key:"createEdge",value:function(e){this.graphModel.createEdge(e)}},{key:"deleteEdge",value:function(e){var t=this.options.guards,r=this.graphModel.edgesMap[e].model.getData();(!t||!t.beforeDelete||t.beforeDelete(r))&&this.graphModel.removeEdgeById(e)}},{key:"removeEdge",value:function(e){var t=e.sourceNodeId,r=e.targetNodeId;t&&r?this.graphModel.removeEdge(t,r):t?this.graphModel.removeEdgeBySource(t):r&&this.graphModel.removeEdgeByTarget(r)}},{key:"getEdge",value:function(e){var t=this.graphModel,r=t.edges,n=t.edgesMap,o=e.id,i=e.sourceNodeId,a=e.targetNodeId;if(o)return[n[o].model];if(i&&a){var c=[];return r.forEach((function(e){e.sourceNodeId===i&&e.targetNodeId===a&&c.push(e)})),c}if(i){var u=[];return r.forEach((function(e){e.sourceNodeId===i&&u.push(e)})),u}if(a){var s=[];return r.forEach((function(e){e.targetNodeId===a&&s.push(e)})),s}return[]}},{key:"getNodeModel",value:function(e){return this.graphModel.getNodeModel(e)}},{key:"getNodeData",value:function(e){return this.graphModel.getNodeModel(e).getData()}},{key:"setNodeData",value:function(e){var t=e.id;this.graphModel.getNodeModel(t).updateData(e)}},{key:"getEdgeData",value:function(e){var t;return null===(t=this.getEdgeModelById(e))||void 0===t?void 0:t.getData()}},{key:"setEdgeData",value:function(e){var t,r=e.id;return null===(t=this.getEdgeModelById(r))||void 0===t?void 0:t.updateData(e)}},{key:"getGraphData",value:function(){var e=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(e):e}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"setProperties",value:function(e,t){var r;null===(r=this.graphModel.getElement(e))||void 0===r||r.setProperties(Object(Wi.a)(t))}},{key:"getProperties",value:function(e){var t;return null===(t=this.graphModel.getElement(e))||void 0===t?void 0:t.getProperties()}},{key:"updateEditConfig",value:function(e){this.graphModel.editConfig.updateEditConfig(e)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfig.getConfig()}},{key:"getPointByClient",value:function(e,t){return this.graphModel.getPointByClient({x:e,y:t})}},{key:"getSelectElements",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.graphModel.getSelectElements(e)}},{key:"updateAttributes",value:function(e,t){this.graphModel.updateAttributes(e,t)}},{key:"addElements",value:function(e){for(var t=this,r=e.nodes,n=e.edges,o={},i={nodes:[],edges:[]},a=0;a<r.length;a++){var c=r[a],u=c.id,s=this.addNode(c);if(!s)return;u&&(o[u]=s.id),i.nodes.push(s)}return n.forEach((function(e){var r=e.sourceNodeId,n=e.targetNodeId;o[r]&&(e.sourceNodeId=o[r]),o[n]&&(e.targetNodeId=o[n]);var a=t.graphModel.createEdge(e);i.edges.push(a)})),i}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"createFakerNode",value:function(e){var t=new(this.graphModel.modelMap.get(e.type))(e,this.graphModel);return this.graphModel.setFakerNode(t),t}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(e){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(e)}},{key:"getAreaElement",value:function(e,t){return this.graphModel.getAreaElement(e,t).map((function(e){return e.getData()}))}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"getEdgeModelById",value:function(e){return this.graphModel.edgesMap[e].model}},{key:"setView",value:function(e,t){this.viewMap.set(e,t)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adapterIn&&(e=this.adapterIn(e)),this.graphModel.graphDataToModel(Object(Wi.a)(e)),this.options.isSilentMode||!1===this.options.history||this.history.watch(this.graphModel),Object(n.j)(Object(n.g)(o.a,{graphModel:this.graphModel},Object(n.g)(it,{eventCenter:this.eventCenter,getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,components:this.components})),this.container)}}])&&ta(t.prototype,r),c&&ta(t,c),e}();ra.extensions=new Map},function(e,t,r){"use strict";r.d(t,"a",(function(){return K})),r(41),r(221),r(21),r(67),r(28),r(222),r(114),r(112),r(23),r(68),r(185),r(113),r(22),r(74);var n=r(0),o=r(243),i=r(117),a=r(118),c=r(2),u=(r(187),r(242)),s=r(8);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){var t=Object(u.a)(s.a);return e&&Object.keys(e).forEach((function(r){t[r]=f(f({},t[r]),e[r])})),t},h=r(63);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v,g,m,O,j,x,_,w,E,S,P,k,A,D,N,M,T,C,R=function(e,t,r){var n=y(e,2),o=n[0],i=n[1],a=y(t,2),c=a[0],u=a[1],s=y(r,2),l=s[0],f=s[1];return o>c&&o<l&&i>u&&i<f},I=r(5),L=r(26);function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function W(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var K=(g=W((v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.BaseType=c.c.GRAPH,this.modelType=c.e.GRAPH,this.rootEl=void 0,this.theme=void 0,this.eventCenter=void 0,this.modelMap=new Map,this.width=void 0,this.height=void 0,this.topElement=void 0,this.selectElement=void 0,this.selectElements=new Map,V(this,"selectElementSize",g,this),V(this,"edgeType",m,this),V(this,"nodes",O,this),V(this,"activeElement",j,this),V(this,"activeElementState",x,this),V(this,"state",_,this),V(this,"additionStateData",w,this),V(this,"edges",E,this),V(this,"isSlient",S,this),V(this,"plugins",P,this),V(this,"tools",k,this),V(this,"background",A,this),V(this,"transformMatrix",D,this),V(this,"editConfig",N,this),V(this,"gridSize",M,this),V(this,"partial",T,this),V(this,"fakerNode",C,this);var r=t.container,n=t.background,o=void 0===n?{}:n,a=t.grid,u=(a=void 0===a?{}:a).size,s=void 0===u?1:u,l=t.isSilentMode,f=void 0!==l&&l,p=t.eventCenter;this.background=o,this.isSlient=f,this.gridSize=s,this.rootEl=r,this.editConfig=new i.b(t),this.eventCenter=p,this.theme=d(t.style),this.edgeType=t.edgeType||"polyline",this.width=t.width,this.height=t.height,this.partial=t.partial}var t,r,n;return t=e,(r=[{key:"getAreaElement",value:function(e,t){for(var r=[],n=[].concat(U(this.edges),U(this.nodes)),o=0;o<n.length;o++){var i=n[o];this.isElementInArea(i,e,t)&&r.push(i)}return r}},{key:"getModel",value:function(e){return this.modelMap.get(e)}},{key:"getNodeModel",value:function(e){var t;return null===(t=this.nodesMap[e])||void 0===t?void 0:t.model}},{key:"getPointByClient",value:function(e){var t=e.x,r=e.y,n=this.rootEl.getBoundingClientRect(),o={x:t-n.left,y:r-n.top},i=X(this.transformMatrix.HtmlPointToCanvasPoint([o.x,o.y]),2);return{domOverlayPosition:o,canvasOverlayPosition:{x:i[0],y:i[1]}}}},{key:"isElementInArea",value:function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.BaseType===c.c.NODE){var o=e=e,i=o.x,a=o.y,u=X(this.transformMatrix.CanvasPointToHtmlPoint([i,a]),2);if(i=u[0],a=u[1],R([i,a],t,r))return!0}if(e.BaseType===c.c.EDGE){var s=e=e,l=s.startPoint,f=s.endPoint,p=this.transformMatrix.CanvasPointToHtmlPoint([l.x,l.y]),d=this.transformMatrix.CanvasPointToHtmlPoint([f.x,f.y]),h=R(p,t,r),y=R(d,t,r);return n?h&&y:h||y}return!1}},{key:"graphDataToModel",value:function(e){var t=this;this.nodes=Object(o.a)(e.nodes,(function(e){var r=t.getModel(e.type);if(!r)throw new Error("\u627e\u4e0d\u5230".concat(e.type,"\u5bf9\u5e94\u7684\u8282\u70b9\u3002"));var n=e.x,o=e.y;return n&&o&&(e.x=Object(h.b)(n,t.gridSize),e.y=Object(h.b)(o,t.gridSize),"[object Object]"===Object.prototype.toString.call(e.text)&&(e.text.x-=Object(h.a)(n,t.gridSize),e.text.y-=Object(h.a)(o,t.gridSize))),new r(e,t)})),this.edges=Object(o.a)(e.edges,(function(e){var r=t.getModel(e.type);if(!r)throw new Error("\u627e\u4e0d\u5230".concat(e.type,"\u5bf9\u5e94\u7684\u8fb9\u3002"));return new r(e,t)}))}},{key:"modelToGraphData",value:function(){var e=this.edges.map((function(e){return e.getData()}));return{nodes:this.nodes.map((function(e){return e.getData()})),edges:e}}},{key:"getEdgeModel",value:function(e){var t=this.edgesMap[e];if(t)return t.model}},{key:"getElement",value:function(e){return this.getNodeModel(e)||this.getEdgeModel(e)}},{key:"getNodeEdges",value:function(e){for(var t=[],r=0;r<this.edges.length;r++){var n=this.edges[r],o=this.edges[r].sourceNodeId===e,i=this.edges[r].targetNodeId===e;(o||i)&&t.push(n)}return t}},{key:"getSelectElements",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.selectElements,r={nodes:[],edges:[]};return t.forEach((function(n){if(n.BaseType===c.c.NODE&&r.nodes.push(n.getData()),n.BaseType===c.c.EDGE){var o=n.getData(),i=t.get(o.sourceNodeId)&&t.get(o.targetNodeId);(e||i)&&r.edges.push(o)}})),r}},{key:"updateAttributes",value:function(e,t){this.getElement(e).updateAttributes(t)}},{key:"setFakerNode",value:function(e){this.fakerNode=e}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(e,t){return this.modelMap.set(e,t)}},{key:"updateEdgeByIndex",value:function(e,t){this.edges[e]=B(B({},this.edges[e]),t)}},{key:"toFront",value:function(e){var t,r,n,o=(null===(t=this.nodesMap[e])||void 0===t?void 0:t.model)||(null===(r=this.edgesMap[e])||void 0===r?void 0:r.model);o&&(null===(n=this.topElement)||void 0===n||n.setZIndex(),this.topElement=o,o.setZIndex(c.a))}},{key:"deleteNode",value:function(e){var t=this.nodesMap[e].model.getData();this.removeEdgeBySource(e),this.removeEdgeByTarget(e),this.nodes.splice(this.nodesMap[e].index,1),this.eventCenter.emit(c.d.NODE_DELETE,{data:t})}},{key:"addNode",value:function(e){var t=Object(L.a)(e);t.id&&this.nodesMap[e.id]&&delete t.id;var r=this.getModel(t.type);if(!r)throw new Error("\u627e\u4e0d\u5230".concat(t.type,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));var n=new r(t,this);this.nodes.push(n);var o=n.getData();return this.eventCenter.emit(c.d.NODE_ADD,{data:o}),n}},{key:"cloneNode",value:function(e){var t=this.getNodeModel(e),r=t.getData();r.x+=30,r.y+=30,delete r.id,r.text&&(r.text.x+=30,r.text.y+=30);var n=this.addNode(r);return n.setSelected(!0),t.setSelected(!1),n.getData()}},{key:"moveNode",value:function(e,t,r){this.nodesMap[e].model.move(t,r),this.moveEdge(e,t,r)}},{key:"setTextEditable",value:function(e){this.setElementStateById(e,c.b.TEXT_EDIT)}},{key:"createEdge",value:function(e){var t=Object(L.a)(e),r=t.type;r||(r=this.edgeType),t.id&&this.edgesMap[t.id]&&delete t.id;var n=this.getModel(r);if(!n)throw new Error("\u627e\u4e0d\u5230".concat(r,"\u5bf9\u5e94\u7684\u8fde\u7ebf\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8fde\u7ebf\u3002"));var o=new n(B(B({},t),{},{type:r}),this),i=o.getData();return this.edges.push(o),this.eventCenter.emit(c.d.EDGE_ADD,{data:i}),o}},{key:"moveEdge",value:function(e,t,r){for(var n=0;n<this.edges.length;n++){var o,i=this.edges[n],a=i.textPosition,u=a.x,s=a.y,l=this.edges[n].sourceNodeId===e,f=this.edges[n].targetNodeId===e;if(l&&i.updateStartPoint({x:i.startPoint.x+t,y:i.startPoint.y+r}),f&&i.updateEndPoint({x:i.endPoint.x+t,y:i.endPoint.y+r}),l||f)if(i.modelType===c.e.POLYLINE_EDGE&&null!==(o=i.text)&&void 0!==o&&o.value){var p=i.text,d=Object(I.f)(p,i.points);i.moveText(d.x-p.x,d.y-p.y)}else{var h=i.textPosition,y=h.x,b=h.y;i.moveText(y-u,b-s)}}}},{key:"removeEdge",value:function(e,t){for(var r=0;r<this.edges.length;r++)if(this.edges[r].sourceNodeId===e&&this.edges[r].targetNodeId===t){var n=this.edges[r].getData();this.edges.splice(r,1),r--,this.eventCenter.emit(c.d.EDGE_DELETE,{data:n})}}},{key:"removeEdgeById",value:function(e){var t=this.edgesMap[e].index,r=this.edgesMap[e].model.getData();this.edges.splice(t,1),this.eventCenter.emit(c.d.EDGE_DELETE,{data:r})}},{key:"removeEdgeBySource",value:function(e){for(var t=0;t<this.edges.length;t++)if(this.edges[t].sourceNodeId===e){var r=this.edges[t].getData();this.edges.splice(t,1),t--,this.eventCenter.emit(c.d.EDGE_DELETE,{data:r})}}},{key:"removeEdgeByTarget",value:function(e){for(var t=0;t<this.edges.length;t++)if(this.edges[t].targetNodeId===e){var r=this.edges[t].getData();this.edges.splice(t,1),t--,this.eventCenter.emit(c.d.EDGE_DELETE,{data:r})}}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"setElementStateById",value:function(e,t,r){this.resetElementState(),this.nodes.forEach((function(n){n.id===e?n.setElementState(t,r):n.setElementState(c.b.DEFAULT)})),this.edges.forEach((function(n){n.id===e?n.setElementState(t,r):n.setElementState(c.b.DEFAULT)}))}},{key:"setElementTextById",value:function(e,t){this.nodes.forEach((function(r){r.id===e&&r.updateText(t)})),this.edges.forEach((function(r){r.id===e&&r.updateText(t)}))}},{key:"resetElementState",value:function(){}},{key:"selectNodeById",value:function(e){var t,r,n;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(null===(n=this.selectElement)||void 0===n||n.setSelected(!1),this.clearSelectElements()),this.selectElement=null===(t=this.nodesMap[e])||void 0===t?void 0:t.model,null===(r=this.selectElement)||void 0===r||r.setSelected(!0),this.selectElements.set(e,this.selectElement),this.selectElementSize=this.selectElements.size}},{key:"selectEdgeById",value:function(e){var t,r,n;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(null===(n=this.selectElement)||void 0===n||n.setSelected(!1),this.clearSelectElements()),this.selectElement=null===(t=this.edgesMap[e])||void 0===t?void 0:t.model,null===(r=this.selectElement)||void 0===r||r.setSelected(!0),this.selectElements.set(e,this.selectElement),this.selectElementSize=this.selectElements.size}},{key:"selectElementById",value:function(e){var t,r;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(null===(r=this.selectElement)||void 0===r||r.setSelected(!1),this.clearSelectElements()),this.selectElement=this.getElement(e),null===(t=this.selectElement)||void 0===t||t.setSelected(!0),this.selectElements.set(e,this.selectElement),this.selectElementSize=this.selectElements.size}},{key:"clearSelectElements",value:function(){var e;this.selectElements.forEach((function(e){null==e||e.setSelected(!1)})),this.selectElements.clear(),null===(e=this.topElement)||void 0===e||e.setZIndex(),this.selectElementSize=this.selectElements.size}},{key:"moveElements",value:function(e,t,r){var n=this;e.nodes.forEach((function(e){return n.moveNode(e.id,t,r)}))}},{key:"changeEdgeType",value:function(e){this.edgeType=e}},{key:"setTheme",value:function(e){this.theme=d(B(B({},this.theme),e))}},{key:"nodesMap",get:function(){return this.nodes.reduce((function(e,t,r){return e[t.id]={index:r,model:t},e}),{})}},{key:"edgesMap",get:function(){return this.edges.reduce((function(e,t,r){return e[t.id]={index:r,model:t},e}),{})}},{key:"sortElements",get:function(){for(var e=[].concat(U(this.edges),U(this.nodes)),t=[],r=-1,n=[-200,-200],o=[this.width+200,this.height+200],i=0;i<e.length;i++){var a=e[i];this.partial&&!this.isElementInArea(a,n,o,!1)||(a.zIndex===c.a&&(r=t.length),t.push(a))}if(-1!==r){var u=t[t.length-1];t[t.length-1]=t[r],t[r]=u}return t}},{key:"textEditElement",get:function(){var e=this.nodes.find((function(e){return e.state===c.b.TEXT_EDIT})),t=this.edges.find((function(e){return e.state===c.b.TEXT_EDIT}));return e||t}}])&&Y(t.prototype,r),n&&Y(t,n),e}()).prototype,"selectElementSize",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=W(v.prototype,"edgeType",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=W(v.prototype,"nodes",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=W(v.prototype,"activeElement",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=W(v.prototype,"activeElementState",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=W(v.prototype,"state",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=W(v.prototype,"additionStateData",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=W(v.prototype,"edges",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=W(v.prototype,"isSlient",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=W(v.prototype,"plugins",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=W(v.prototype,"tools",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=W(v.prototype,"background",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=W(v.prototype,"transformMatrix",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a.a}}),N=W(v.prototype,"editConfig",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=W(v.prototype,"gridSize",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=W(v.prototype,"partial",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=W(v.prototype,"fakerNode",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W(v.prototype,"nodesMap",[n.computed],Object.getOwnPropertyDescriptor(v.prototype,"nodesMap"),v.prototype),W(v.prototype,"edgesMap",[n.computed],Object.getOwnPropertyDescriptor(v.prototype,"edgesMap"),v.prototype),W(v.prototype,"sortElements",[n.computed],Object.getOwnPropertyDescriptor(v.prototype,"sortElements"),v.prototype),W(v.prototype,"textEditElement",[n.computed],Object.getOwnPropertyDescriptor(v.prototype,"textEditElement"),v.prototype),W(v.prototype,"setFakerNode",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"setFakerNode"),v.prototype),W(v.prototype,"removeFakerNode",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"removeFakerNode"),v.prototype),W(v.prototype,"setModel",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"setModel"),v.prototype),W(v.prototype,"updateEdgeByIndex",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"updateEdgeByIndex"),v.prototype),W(v.prototype,"toFront",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"toFront"),v.prototype),W(v.prototype,"deleteNode",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"deleteNode"),v.prototype),W(v.prototype,"addNode",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"addNode"),v.prototype),W(v.prototype,"cloneNode",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"cloneNode"),v.prototype),W(v.prototype,"moveNode",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"moveNode"),v.prototype),W(v.prototype,"setTextEditable",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"setTextEditable"),v.prototype),W(v.prototype,"createEdge",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"createEdge"),v.prototype),W(v.prototype,"moveEdge",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"moveEdge"),v.prototype),W(v.prototype,"removeEdge",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"removeEdge"),v.prototype),W(v.prototype,"removeEdgeById",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"removeEdgeById"),v.prototype),W(v.prototype,"removeEdgeBySource",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"removeEdgeBySource"),v.prototype),W(v.prototype,"removeEdgeByTarget",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"removeEdgeByTarget"),v.prototype),W(v.prototype,"setElementState",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"setElementState"),v.prototype),W(v.prototype,"setElementStateById",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"setElementStateById"),v.prototype),W(v.prototype,"setElementTextById",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"setElementTextById"),v.prototype),W(v.prototype,"resetElementState",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"resetElementState"),v.prototype),W(v.prototype,"selectNodeById",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"selectNodeById"),v.prototype),W(v.prototype,"selectEdgeById",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"selectEdgeById"),v.prototype),W(v.prototype,"selectElementById",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"selectElementById"),v.prototype),W(v.prototype,"clearSelectElements",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"clearSelectElements"),v.prototype),W(v.prototype,"moveElements",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"moveElements"),v.prototype),W(v.prototype,"changeEdgeType",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"changeEdgeType"),v.prototype),W(v.prototype,"setTheme",[n.action],Object.getOwnPropertyDescriptor(v.prototype,"setTheme"),v.prototype),v);t.b=K},function(e,t,r){"use strict";(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.a=r}).call(this,r(100))},function(e,t,r){"use strict";var n=r(39),o=r(11);t.a=function(e){if(!Object(o.a)(e))return!1;var t=Object(n.a)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,r){"use strict";var n=r(90);t.a=function(e,t,r){"__proto__"==t&&n.a?Object(n.a)(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},function(e,t,r){"use strict";t.a=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){"use strict";t.a=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}},function(e,t,r){"use strict";t.a=function(){return[]}},function(e,t,r){"use strict";var n=r(83),o=r(7);t.a=function(e,t,r){var i=t(e);return Object(o.a)(e)?i:Object(n.a)(i,r(e))}},function(e,t,r){"use strict";var n=function(e){return function(){return e}},o=r(90),i=r(80),a=o.a?function(e,t){return Object(o.a)(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:i.a,c=Date.now,u=function(e){var t=0,r=0;return function(){var n=c(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(a);t.a=u},function(e,t,r){"use strict";var n=function(e,t){return null!=e&&t in Object(e)},o=r(59),i=r(88),a=r(7),c=r(53),u=r(81),s=r(44),l=function(e,t,r){for(var n=-1,l=(t=Object(o.a)(t,e)).length,f=!1;++n<l;){var p=Object(s.a)(t[n]);if(!(f=null!=e&&r(e,p)))break;e=e[p]}return f||++n!=l?f:!!(l=null==e?0:e.length)&&Object(u.a)(l)&&Object(c.a)(p,l)&&(Object(a.a)(e)||Object(i.a)(e))};t.a=function(e,t){return null!=e&&l(e,t,n)}},function(e,t,r){"use strict";var n=r(39),o=r(81),i=r(24),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var c=function(e){return Object(i.a)(e)&&Object(o.a)(e.length)&&!!a[Object(n.a)(e)]},u=r(82),s=r(48),l=s.a&&s.a.isTypedArray,f=l?Object(u.a)(l):c;t.a=f},function(e,t,r){"use strict";var n=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},o=r(88),i=r(7),a=r(69),c=r(53),u=r(133),s=Object.prototype.hasOwnProperty;t.a=function(e,t){var r=Object(i.a)(e),l=!r&&Object(o.a)(e),f=!r&&!l&&Object(a.a)(e),p=!r&&!l&&!f&&Object(u.a)(e),d=r||l||f||p,h=d?n(e.length,String):[],y=h.length;for(var b in e)!t&&!s.call(e,b)||d&&("length"==b||f&&("offset"==b||"parent"==b)||p&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||Object(c.a)(b,y))||h.push(b);return h}},function(e,t,r){"use strict";var n=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},o=Math.max;t.a=function(e,t,r){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,c=o(i.length-t,0),u=Array(c);++a<c;)u[a]=i[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=i[a];return s[t]=r(u),n(e,this,s)}}},function(e,t,r){var n=r(20),o=r(45);e.exports=function(e,t){try{o(n,e,t)}catch(r){n[e]=t}return t}},function(e,t,r){var n=r(20),o=r(136),i=n["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},function(e,t,r){var n=r(163),o=r(140),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t){e.exports=!1},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},function(e,t,r){var n=r(73),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,r){var n=r(9),o=/#|\.prototype\./,i=function(e,t){var r=c[a(e)];return r==s||r!=u&&("function"==typeof t?n(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=i.data={},u=i.NATIVE="N",s=i.POLYFILL="P";e.exports=i},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,r){var n=r(34),o=r(169),i=r(17)("species");e.exports=function(e,t){var r;return o(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!o(r.prototype)?n(r)&&null===(r=r[i])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},function(e,t,r){"use strict";var n=r(6),o=r(166).indexOf,i=r(109),a=r(66),c=[].indexOf,u=!!c&&1/[1].indexOf(1,-0)<0,s=i("indexOf"),l=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:u||!s||!l},{indexOf:function(e){return u?c.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(17),o=r(110),i=r(35),a=n("unscopables"),c=Array.prototype;null==c[a]&&i.f(c,a,{configurable:!0,value:o(null)}),e.exports=function(e){c[a][e]=!0}},function(e,t,r){var n=r(165),o=r(142);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t,r){"use strict";var n=r(6),o=r(211),i=r(150),a=r(152),c=r(151),u=r(45),s=r(51),l=r(17),f=r(139),p=r(93),d=r(171),h=d.IteratorPrototype,y=d.BUGGY_SAFARI_ITERATORS,b=l("iterator"),v=function(){return this};e.exports=function(e,t,r,l,d,g,m){o(r,t,l);var O,j,x,_=function(e){if(e===d&&k)return k;if(!y&&e in S)return S[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},w=t+" Iterator",E=!1,S=e.prototype,P=S[b]||S["@@iterator"]||d&&S[d],k=!y&&P||_(d),A="Array"==t&&S.entries||P;if(A&&(O=i(A.call(new e)),h!==Object.prototype&&O.next&&(f||i(O)===h||(a?a(O,h):"function"!=typeof O[b]&&u(O,b,v)),c(O,w,!0,!0),f&&(p[w]=v))),"values"==d&&P&&"values"!==P.name&&(E=!0,k=function(){return P.call(this)}),f&&!m||S[b]===k||u(S,b,k),p[t]=k,d)if(j={values:_("values"),keys:g?k:_("keys"),entries:_("entries")},m)for(x in j)(y||E||!(x in S))&&s(S,x,j[x]);else n({target:t,proto:!0,forced:y||E},j);return j}},function(e,t,r){var n=r(30),o=r(36),i=r(138),a=r(172),c=i("IE_PROTO"),u=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),n(e,c)?e[c]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,r){var n=r(35).f,o=r(30),i=r(17)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){var n=r(27),o=r(212);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,i){return n(r),o(i),t?e.call(r,i):r.__proto__=i,r}}():void 0)},function(e,t,r){var n,o,i=r(20),a=r(213),c=i.process,u=c&&c.versions,s=u&&u.v8;s?o=(n=s.split("."))[0]+n[1]:a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=n[1]),e.exports=o&&+o},function(e,t,r){var n={};n[r(17)("toStringTag")]="z",e.exports="[object z]"===String(n)},function(e,t,r){"use strict";var n=r(103),o=r(35),i=r(102);e.exports=function(e,t,r){var a=n(t);a in e?o.f(e,a,i(0,r)):e[a]=r}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";var n=r(189),o=r(229),i=r(27),a=r(50),c=r(230),u=r(190),s=r(40),l=r(191),f=r(115),p=r(9),d=[].push,h=Math.min,y=!p((function(){return!RegExp(4294967295,"y")}));n("split",2,(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=String(a(this)),i=void 0===r?4294967295:r>>>0;if(0===i)return[];if(void 0===e)return[n];if(!o(e))return t.call(n,e,i);for(var c,u,s,l=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,y=new RegExp(e.source,p+"g");(c=f.call(y,n))&&!((u=y.lastIndex)>h&&(l.push(n.slice(h,c.index)),c.length>1&&c.index<n.length&&d.apply(l,c.slice(1)),s=c[0].length,h=u,l.length>=i));)y.lastIndex===c.index&&y.lastIndex++;return h===n.length?!s&&y.test("")||l.push(""):l.push(n.slice(h)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var o=a(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,r):n.call(String(o),t,r)},function(e,o){var a=r(n,e,this,o,n!==t);if(a.done)return a.value;var f=i(e),p=String(this),d=c(f,RegExp),b=f.unicode,v=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(y?"y":"g"),g=new d(y?f:"^(?:"+f.source+")",v),m=void 0===o?4294967295:o>>>0;if(0===m)return[];if(0===p.length)return null===l(g,p)?[p]:[];for(var O=0,j=0,x=[];j<p.length;){g.lastIndex=y?j:0;var _,w=l(g,y?p:p.slice(j));if(null===w||(_=h(s(g.lastIndex+(y?0:j)),p.length))===O)j=u(p,j,b);else{if(x.push(p.slice(O,j)),x.length===m)return x;for(var E=1;E<=w.length-1;E++)if(x.push(w[E]),x.length===m)return x;j=O=_}}return x.push(p.slice(O)),x}]}),!y)},function(e,t,r){r(6)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,r){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},function(e,t,r){var n=r(29),o=r(9),i=r(161);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(20),o=r(34),i=n.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,r){var n=r(137),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return o.call(e)}),e.exports=n.inspectSource},function(e,t,r){var n=r(139),o=r(137);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.1",mode:n?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(165),o=r(142).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t,r){var n=r(30),o=r(72),i=r(166).indexOf,a=r(105);e.exports=function(e,t){var r,c=o(e),u=0,s=[];for(r in c)!n(a,r)&&n(c,r)&&s.push(r);for(;t.length>u;)n(c,r=t[u++])&&(~i(s,r)||s.push(r));return s}},function(e,t,r){var n=r(72),o=r(40),i=r(141),a=function(e){return function(t,r,a){var c,u=n(t),s=o(u.length),l=i(a,s);if(e&&r!=r){for(;s>l;)if((c=u[l++])!=c)return!0}else for(;s>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){"use strict";var n=r(107).forEach,o=r(109),i=r(66),a=o("forEach"),c=i("forEach");e.exports=a&&c?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,r){var n=r(65);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(9);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(e,t,r){"use strict";var n,o,i,a=r(150),c=r(45),u=r(30),s=r(17),l=r(139),f=s("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(n=o):p=!0),null==n&&(n={}),l||u(n,f)||c(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},function(e,t,r){var n=r(9);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,r){var n=r(105),o=r(34),i=r(30),a=r(35).f,c=r(140),u=r(216),s=c("meta"),l=0,f=Object.isExtensible||function(){return!0},p=function(e){a(e,s,{value:{objectID:"O"+ ++l,weakData:{}}})},d=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,s)){if(!f(e))return"F";if(!t)return"E";p(e)}return e[s].objectID},getWeakData:function(e,t){if(!i(e,s)){if(!f(e))return!0;if(!t)return!1;p(e)}return e[s].weakData},onFreeze:function(e){return u&&d.REQUIRED&&f(e)&&!i(e,s)&&p(e),e}};n[s]=!0},function(e,t,r){var n=r(27),o=r(175),i=r(40),a=r(108),c=r(176),u=r(178),s=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,r){var l,f,p,d,h,y,b,v=r&&r.that,g=!(!r||!r.AS_ENTRIES),m=!(!r||!r.IS_ITERATOR),O=!(!r||!r.INTERRUPTED),j=a(t,v,1+g+O),x=function(e){return l&&u(l),new s(!0,e)},_=function(e){return g?(n(e),O?j(e[0],e[1],x):j(e[0],e[1])):O?j(e,x):j(e)};if(m)l=e;else{if("function"!=typeof(f=c(e)))throw TypeError("Target is not iterable");if(o(f)){for(p=0,d=i(e.length);d>p;p++)if((h=_(e[p]))&&h instanceof s)return h;return new s(!1)}l=f.call(e)}for(y=l.next;!(b=y.call(l)).done;){try{h=_(b.value)}catch(e){throw u(l),e}if("object"==typeof h&&h&&h instanceof s)return h}return new s(!1)}},function(e,t,r){var n=r(17),o=r(93),i=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},function(e,t,r){var n=r(177),o=r(93),i=r(17)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[n(e)]}},function(e,t,r){var n=r(154),o=r(65),i=r(17)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:a?o(t):"Object"==(n=o(t))&&"function"==typeof t.callee?"Arguments":n}},function(e,t,r){var n=r(27);e.exports=function(e){var t=e.return;if(void 0!==t)return n(t.call(e)).value}},function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},function(e,t,r){var n=r(17)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},function(e,t,r){var n=r(34),o=r(152);e.exports=function(e,t,r){var i,a;return o&&"function"==typeof(i=t.constructor)&&i!==r&&n(a=i.prototype)&&a!==r.prototype&&o(e,a),e}},function(e,t,r){var n=r(73),o=r(50),i=function(e){return function(t,r){var i,a,c=String(o(t)),u=n(r),s=c.length;return u<0||u>=s?e?"":void 0:(i=c.charCodeAt(u))<55296||i>56319||u+1===s||(a=c.charCodeAt(u+1))<56320||a>57343?e?c.charAt(u):i:e?c.slice(u,u+2):a-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,s=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?s=u.concat(s):f=-1,s.length&&d())}function d(){if(!l){var e=c(p);l=!0;for(var t=s.length;t;){for(u=s,s=[];++f<t;)u&&u[f].run();f=-1,t=s.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new h(e,t)),1!==s.length||l||c(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(51),o=r(27),i=r(9),a=r(186),c=RegExp.prototype,u=c.toString,s=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),l="toString"!=u.name;(s||l)&&n(RegExp.prototype,"toString",(function(){var e=o(this),t=String(e.source),r=e.flags;return"/"+t+"/"+String(void 0===r&&e instanceof RegExp&&!("flags"in c)?a.call(e):r)}),{unsafe:!0})},function(e,t,r){"use strict";var n=r(27);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){var n=r(6),o=r(36),i=r(148);n({target:"Object",stat:!0,forced:r(9)((function(){i(1)}))},{keys:function(e){return i(o(e))}})},function(e,t,r){"use strict";var n=r(189),o=r(27),i=r(36),a=r(40),c=r(73),u=r(50),s=r(190),l=r(191),f=Math.max,p=Math.min,d=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,y=/\$([$&'`]|\d\d?)/g;n("replace",2,(function(e,t,r,n){var b=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=n.REPLACE_KEEPS_$0,g=b?"$":"$0";return[function(r,n){var o=u(this),i=null==r?void 0:r[e];return void 0!==i?i.call(r,o,n):t.call(String(o),r,n)},function(e,n){if(!b&&v||"string"==typeof n&&-1===n.indexOf(g)){var i=r(t,e,this,n);if(i.done)return i.value}var u=o(e),d=String(this),h="function"==typeof n;h||(n=String(n));var y=u.global;if(y){var O=u.unicode;u.lastIndex=0}for(var j=[];;){var x=l(u,d);if(null===x)break;if(j.push(x),!y)break;""===String(x[0])&&(u.lastIndex=s(d,a(u.lastIndex),O))}for(var _,w="",E=0,S=0;S<j.length;S++){x=j[S];for(var P=String(x[0]),k=f(p(c(x.index),d.length),0),A=[],D=1;D<x.length;D++)A.push(void 0===(_=x[D])?_:String(_));var N=x.groups;if(h){var M=[P].concat(A,k,d);void 0!==N&&M.push(N);var T=String(n.apply(void 0,M))}else T=m(P,d,k,A,N,n);k>=E&&(w+=d.slice(E,k)+T,E=k+P.length)}return w+d.slice(E)}];function m(e,r,n,o,a,c){var u=n+e.length,s=o.length,l=y;return void 0!==a&&(a=i(a),l=h),t.call(c,l,(function(t,i){var c;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(u);case"<":c=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return t;if(l>s){var f=d(l/10);return 0===f?t:f<=s?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):t}c=o[l-1]}return void 0===c?"":c}))}}))},function(e,t,r){"use strict";r(96);var n=r(51),o=r(9),i=r(17),a=r(115),c=r(45),u=i("species"),s=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l="$0"==="a".replace(/./,"$0"),f=i("replace"),p=!!/./[f]&&""===/./[f]("a","$0"),d=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,f){var h=i(e),y=!o((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),b=y&&!o((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[h]=/./[h]),r.exec=function(){return t=!0,null},r[h](""),!t}));if(!y||!b||"replace"===e&&(!s||!l||p)||"split"===e&&!d){var v=/./[h],g=r(h,""[e],(function(e,t,r,n,o){return t.exec===a?y&&!o?{done:!0,value:v.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),m=g[0],O=g[1];n(String.prototype,e,m),n(RegExp.prototype,h,2==t?function(e,t){return O.call(e,this,t)}:function(e){return O.call(e,this)})}f&&c(RegExp.prototype[h],"sham",!0)}},function(e,t,r){"use strict";var n=r(182).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},function(e,t,r){var n=r(65),o=r(115);e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var i=r.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,r){var n=r(6),o=r(231);n({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(e,t,r){"use strict";var n=r(6),o=r(233);n({target:"String",proto:!0,forced:r(234)("anchor")},{anchor:function(e){return o(this,"a","name",e)}})},function(e,t,r){"use strict";r(122)},function(e,t,r){"use strict";r.r(t);var n=r(196);r.d(t,"BaseEdgeModel",(function(){return n.a})),r.d(t,"BezierEdgeModel",(function(){return n.b})),r.d(t,"LineEdgeModel",(function(){return n.c})),r.d(t,"PolylineEdgeModel",(function(){return n.d}));var o=r(197);r.d(t,"BaseNodeModel",(function(){return o.a})),r.d(t,"CircleNodeModel",(function(){return o.b})),r.d(t,"DiamondNodeModel",(function(){return o.c})),r.d(t,"EllipseNodeModel",(function(){return o.d})),r.d(t,"PolygonNodeModel",(function(){return o.e})),r.d(t,"RectNodeModel",(function(){return o.f})),r.d(t,"TextNodeModel",(function(){return o.g}));var i=r(198);for(var a in i)["default","BaseEdgeModel","BezierEdgeModel","LineEdgeModel","PolylineEdgeModel","BaseNodeModel","CircleNodeModel","DiamondNodeModel","EllipseNodeModel","PolygonNodeModel","RectNodeModel","TextNodeModel"].indexOf(a)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(a);var c=r(117);r.d(t,"EditConfigModel",(function(){return c.a}));var u=r(123);r.d(t,"GraphModel",(function(){return u.a}));var s=r(121);r.d(t,"SnaplineModel",(function(){return s.a})),r(118)},function(e,t,r){"use strict";var n=r(37);r.d(t,"a",(function(){return n.a}));var o=r(98);r.d(t,"b",(function(){return o.a}));var i=r(46);r.d(t,"c",(function(){return i.a}));var a=r(52);r.d(t,"d",(function(){return a.a}))},function(e,t,r){"use strict";var n=r(18);r.d(t,"a",(function(){return n.a}));var o=r(76);r.d(t,"b",(function(){return o.a}));var i=r(97);r.d(t,"c",(function(){return i.a}));var a=r(79);r.d(t,"d",(function(){return a.a}));var c=r(77);r.d(t,"e",(function(){return c.a}));var u=r(75);r.d(t,"f",(function(){return u.a}));var s=r(78);r.d(t,"g",(function(){return s.a}))},function(e,t){},function(e,t,r){"use strict";t.a=function(){return!1}},function(e,r,n){"use strict";(function(e){var o=n(10),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,c=a&&a.exports===i?o.a.Buffer:void 0,u=c?c.allocUnsafe:void 0;r.a=function(e,t){if(t)return e.slice();var r=e.length,n=u?u(r):new e.constructor(r);return e.copy(n),n}}).call(this,n(156)(e))},function(e,t,r){"use strict";var n=r(84);t.a=function(e,t,r){var o=null==e?void 0:Object(n.a)(e,t);return void 0===o?r:o}},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return b}));var n=r(0);function o(e){throw new Error("[mobx-utils] "+e)}function i(e,t){void 0===t&&(t="Illegal state"),e||o(t)}var a=function e(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(e(Object.getPrototypeOf(t))||[])},c=function(e){return function(e){var t=a(e);return t.filter((function(e,r){return t.indexOf(e)===r}))}(e).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))};function u(e){switch(this.state){case"pending":return e.pending&&e.pending(this.value);case"rejected":return e.rejected&&e.rejected(this.value);case"fulfilled":return e.fulfilled?e.fulfilled(this.value):this.value}}function s(e,t){if(i(arguments.length<=2,"fromPromise expects up to two arguments"),i("function"==typeof e||"object"==typeof e&&e&&"function"==typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"==typeof e&&(e=new Promise(e));var r=e;e.then(Object(n.action)("observableFromPromise-resolve",(function(e){r.value=e,r.state="fulfilled"})),Object(n.action)("observableFromPromise-reject",(function(e){r.value=e,r.state="rejected"}))),r.isPromiseBasedObservable=!0,r.case=u;var o=t&&"fulfilled"===t.state?t.value:void 0;return Object(n.extendObservable)(r,{value:o,state:"pending"},{},{deep:!1}),r}!function(e){e.reject=Object(n.action)("fromPromise.reject",(function(t){var r=e(Promise.reject(t));return r.state="rejected",r.value=t,r})),e.resolve=Object(n.action)("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var r=e(Promise.resolve(t));return r.state="fulfilled",r.value=t,r}))}(s||(s={}));var l=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};!function(){function e(e,t){var r=this;Object(n.runInAction)((function(){r.current=t,r.subscription=e.subscribe(r)}))}e.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.next=function(e){this.current=e},e.prototype.complete=function(){this.dispose()},e.prototype.error=function(e){this.current=e,this.dispose()},l([n.observable.ref],e.prototype,"current",void 0),l([n.action.bound],e.prototype,"next",null),l([n.action.bound],e.prototype,"complete",null),l([n.action.bound],e.prototype,"error",null)}();var f=function(){return(f=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},p=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},d=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];function h(e){if(!e)return"ROOT";for(var t=[];e.parent;)t.push(e.path),e=e.parent;return t.reverse().join("/")}function y(e){return Object(n.isObservableObject)(e)||Object(n.isObservableArray)(e)||Object(n.isObservableMap)(e)}function b(e,t){var r=new WeakMap;function o(n){var o=r.get(n.object);!function(e,t){switch(e.type){case"add":i(e.newValue,t,e.name);break;case"update":a(e.oldValue),i(e.newValue,t,e.name||""+e.index);break;case"remove":case"delete":a(e.oldValue);break;case"splice":e.removed.map(a),e.added.forEach((function(r,n){return i(r,t,""+(e.index+n))}));for(var n=e.index+e.addedCount;n<e.object.length;n++)if(y(e.object[n])){var o=r.get(e.object[n]);o&&(o.path=""+n)}}}(n,o),t(n,h(o),e)}function i(e,t,a){if(y(e)){var c=r.get(e);if(c){if(c.parent!==t||c.path!==a)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+h(t)+"/"+a+"', but it already exists at '"+h(c.parent)+"/"+c.path+"'")}else{var u={parent:t,path:a,dispose:Object(n.observe)(e,o)};r.set(e,u),Object(n.entries)(e).forEach((function(e){var t=e[0];return i(e[1],u,t)}))}}}function a(e){if(y(e)){var t=r.get(e);if(!t)return;r.delete(e),t.dispose(),Object(n.values)(e).forEach(a)}}return i(e,void 0,""),function(){a(e)}}!function(){function e(e){var t=this;this.model=e,this.localValues=n.observable.map({}),this.localComputedValues=n.observable.map({}),this.isPropertyDirty=function(e){return t.localValues.has(e)},i(Object(n.isObservableObject)(e),"createViewModel expects an observable object"),c(e).forEach((function(r){if(r!==n.$mobx&&"__mobxDidRunLazyInitializers"!==r){if(i(-1===d.indexOf(r),"The propertyname "+r+" is reserved and cannot be used with viewModels"),Object(n.isComputedProp)(e,r)){var o=Object(n._getAdministration)(e,r).derivation;t.localComputedValues.set(r,Object(n.computed)(o.bind(t)))}var a=Object.getOwnPropertyDescriptor(e,r),c=a?{enumerable:a.enumerable}:{};Object.defineProperty(t,r,f(f({},c),{configurable:!0,get:function(){return Object(n.isComputedProp)(e,r)?t.localComputedValues.get(r).get():t.isPropertyDirty(r)?t.localValues.get(r):t.model[r]},set:Object(n.action)((function(e){e!==t.model[r]?t.localValues.set(r,e):t.localValues.delete(r)}))}))}}))}Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),e.prototype.submit=function(){var e=this;Object(n.keys)(this.localValues).forEach((function(t){var r=e.localValues.get(t),o=e.model[t];Object(n.isObservableArray)(o)?o.replace(r):Object(n.isObservableMap)(o)?(o.clear(),o.merge(r)):Object(n.isComputed)(r)||(e.model[t]=r)})),this.localValues.clear()},e.prototype.reset=function(){this.localValues.clear()},e.prototype.resetProperty=function(e){this.localValues.delete(e)},p([n.computed],e.prototype,"isDirty",null),p([n.computed],e.prototype,"changedValues",null),p([n.action.bound],e.prototype,"submit",null),p([n.action.bound],e.prototype,"reset",null),p([n.action.bound],e.prototype,"resetProperty",null)}();var v,g=(v=function(e,t){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),m=(function(e){function t(t,r,o){var i=void 0===o?{}:o,a=i.name,c=void 0===a?"ogm"+(1e3*Math.random()|0):a,u=i.keyToName,s=void 0===u?function(e){return""+e}:u,l=e.call(this)||this;l._keyToName=s,l._groupBy=r,l._ogmInfoKey="function"==typeof Symbol?Symbol("ogmInfo"+c):"__ogmInfo"+c,l._base=t;for(var f=0;f<t.length;f++)l._addItem(t[f]);return l._disposeBaseObserver=Object(n.observe)(l._base,(function(e){if("splice"===e.type)Object(n.transaction)((function(){for(var t=0,r=e.removed;t<r.length;t++){var n=r[t];l._removeItem(n)}for(var o=0,i=e.added;o<i.length;o++){var a=i[o];l._addItem(a)}}));else{if("update"!==e.type)throw new Error("illegal state");Object(n.transaction)((function(){l._removeItem(e.oldValue),l._addItem(e.newValue)}))}})),l}g(t,e),t.prototype.clear=function(){throw new Error("not supported")},t.prototype.delete=function(e){throw new Error("not supported")},t.prototype.set=function(e,t){throw new Error("not supported")},t.prototype.dispose=function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];t[this._ogmInfoKey].reaction(),delete t[this._ogmInfoKey]}},t.prototype._getGroupArr=function(t){var r=e.prototype.get.call(this,t);return void 0===r&&(r=Object(n.observable)([],{name:"GroupArray["+this._keyToName(t)+"]"}),e.prototype.set.call(this,t,r)),r},t.prototype._removeFromGroupArr=function(t,r){var n=e.prototype.get.call(this,t);1===n.length?e.prototype.delete.call(this,t):(r===n.length-1||(n[r]=n[n.length-1],n[r][this._ogmInfoKey].groupArrIndex=r),n.length--)},t.prototype._addItem=function(e){var t=this,r=this._groupBy(e),o=this._getGroupArr(r),i={groupByValue:r,groupArrIndex:o.length,reaction:Object(n.reaction)((function(){return t._groupBy(e)}),(function(r,n){console.log("new group by value ",r);var o=e[t._ogmInfoKey];t._removeFromGroupArr(o.groupByValue,o.groupArrIndex);var i=t._getGroupArr(r),a=i.length;i.push(e),o.groupByValue=r,o.groupArrIndex=a}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),o.push(e)},t.prototype._removeItem=function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]}}(n.ObservableMap),function(){function e(e,t){this.base=e,this.args=t,this.closestIdx=0,this.isDisposed=!1;for(var r=this.closest=this.root=e,n=0;n<this.args.length-1&&(r=r.get(t[n]));n++)this.closest=r;this.closestIdx=n}return e.prototype.exists=function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])},e.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},e.prototype.set=function(e){this.assertNotDisposed();for(var t=this.args.length,r=this.closest,n=this.closestIdx;n<t-1;n++){var o=new Map;r.set(this.args[n],o),r=o}this.closestIdx=t-1,this.closest=r,r.set(this.args[t-1],e)},e.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,r=[t],n=0;n<e-1;n++)t=t.get(this.args[n]),r.push(t);for(n=r.length-1;n>0;n--)0===r[n].size&&r[n-1].delete(this.args[n-1]);this.isDisposed=!0},e.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},e}());!function(){function e(){this.store=new Map,this.argsLength=-1}e.prototype.entry=function(e){if(-1===this.argsLength)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new m(this.store,e)}}(),new Set,new Set,Promise.resolve(),"undefined"!=typeof queueMicrotask?queueMicrotask:void 0!==e&&e.nextTick}).call(this,r(184))},function(e,t,r){var n;!function(o,i,a){if(o){for(var c,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)u[111+p]="f"+p;for(p=0;p<=9;++p)u[p+96]=p.toString();g.prototype.bind=function(e,t,r){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,r),this},g.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},g.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},g.prototype.reset=function(){return this._callbacks={},this._directMap={},this},g.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function e(t,r){return null!==t&&t!==i&&(t===r||e(t.parentNode,r))}(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var r=e.composedPath()[0];r!==e.target&&(t=r)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},g.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},g.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(u[t]=e[t]);c=null},g.init=function(){var e=g(i);for(var t in e)"_"!==t.charAt(0)&&(g[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},g.init(),o.Mousetrap=g,e.exports&&(e.exports=g),void 0===(n=function(){return g}.call(t,r,t,e))||(e.exports=n)}function d(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)}function h(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return u[e.which]?u[e.which]:s[e.which]?s[e.which]:String.fromCharCode(e.which).toLowerCase()}function y(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function b(e,t,r){return r||(r=function(){if(!c)for(var e in c={},u)e>95&&e<112||u.hasOwnProperty(e)&&(c[u[e]]=e);return c}()[e]?"keydown":"keypress"),"keypress"==r&&t.length&&(r="keydown"),r}function v(e,t){var r,n,o,i=[];for(r=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),o=0;o<r.length;++o)n=r[o],f[n]&&(n=f[n]),t&&"keypress"!=t&&l[n]&&(n=l[n],i.push("shift")),y(n)&&i.push(n);return{key:n,modifiers:i,action:t=b(n,i,t)}}function g(e){var t=this;if(e=e||i,!(t instanceof g))return new g(e);t.target=e,t._callbacks={},t._directMap={};var r,n={},o=!1,a=!1,c=!1;function u(e){e=e||{};var t,r=!1;for(t in n)e[t]?r=!0:n[t]=0;r||(c=!1)}function s(e,r,o,i,a,c){var u,s,l,f,p=[],d=o.type;if(!t._callbacks[e])return[];for("keyup"==d&&y(e)&&(r=[e]),u=0;u<t._callbacks[e].length;++u)if(s=t._callbacks[e][u],(i||!s.seq||n[s.seq]==s.level)&&d==s.action&&("keypress"==d&&!o.metaKey&&!o.ctrlKey||(l=r,f=s.modifiers,l.sort().join(",")===f.sort().join(",")))){var h=!i&&s.combo==a,b=i&&s.seq==i&&s.level==c;(h||b)&&t._callbacks[e].splice(u,1),p.push(s)}return p}function l(e,r,n,o){t.stopCallback(r,r.target||r.srcElement,n,o)||!1===e(r,n)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(r),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(r))}function f(e){"number"!=typeof e.which&&(e.which=e.keyCode);var r=h(e);r&&("keyup"!=e.type||o!==r?t.handleKey(r,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):o=!1)}function p(e,t,i,a){function s(t){return function(){c=t,++n[e],clearTimeout(r),r=setTimeout(u,1e3)}}function f(t){l(i,t,e),"keyup"!==a&&(o=h(t)),setTimeout(u,10)}n[e]=0;for(var p=0;p<t.length;++p){var d=p+1===t.length?f:s(a||v(t[p+1]).action);b(t[p],d,a,e,p)}}function b(e,r,n,o,i){t._directMap[e+":"+n]=r;var a,c=(e=e.replace(/\s+/g," ")).split(" ");c.length>1?p(e,c,r,n):(a=v(e,n),t._callbacks[a.key]=t._callbacks[a.key]||[],s(a.key,a.modifiers,{type:a.action},o,e,i),t._callbacks[a.key][o?"unshift":"push"]({callback:r,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:e}))}t._handleKey=function(e,t,r){var n,o=s(e,t,r),i={},f=0,p=!1;for(n=0;n<o.length;++n)o[n].seq&&(f=Math.max(f,o[n].level));for(n=0;n<o.length;++n)if(o[n].seq){if(o[n].level!=f)continue;p=!0,i[o[n].seq]=1,l(o[n].callback,r,o[n].combo,o[n].seq)}else p||l(o[n].callback,r,o[n].combo);var d="keypress"==r.type&&a;r.type!=c||y(e)||d||u(i),a=p&&"keydown"==r.type},t._bindMultiple=function(e,t,r){for(var n=0;n<e.length;++n)b(e[n],t,r)},d(e,"keypress",f),d(e,"keydown",f),d(e,"keyup",f)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,t,r){var n=r(20),o=r(162),i=n.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,t,r){var n=r(30),o=r(206),i=r(101),a=r(35);e.exports=function(e,t){for(var r=o(t),c=a.f,u=i.f,s=0;s<r.length;s++){var l=r[s];n(e,l)||c(e,l,u(t,l))}}},function(e,t,r){var n=r(106),o=r(164),i=r(167),a=r(27);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(a(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t,r){var n=r(20);e.exports=n},function(e,t,r){var n=r(170);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,r){var n=r(29),o=r(35),i=r(27),a=r(148);e.exports=n?Object.defineProperties:function(e,t){i(e);for(var r,n=a(t),c=n.length,u=0;c>u;)o.f(e,r=n[u++],t[r]);return e}},function(e,t,r){var n=r(106);e.exports=n("document","documentElement")},function(e,t,r){"use strict";var n=r(171).IteratorPrototype,o=r(110),i=r(102),a=r(151),c=r(93),u=function(){return this};e.exports=function(e,t,r){var s=t+" Iterator";return e.prototype=o(n,{next:i(1,r)}),a(e,s,!1,!0),c[s]=u,e}},function(e,t,r){var n=r(34);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,r){var n=r(106);e.exports=n("navigator","userAgent")||""},function(e,t,r){var n=r(29),o=r(35).f,i=Function.prototype,a=i.toString,c=/^\s*function ([^ (]*)/;n&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(c)[1]}catch(e){return""}}})},function(e,t,r){"use strict";var n=r(6),o=r(20),i=r(143),a=r(51),c=r(173),u=r(174),s=r(179),l=r(34),f=r(9),p=r(180),d=r(151),h=r(181);e.exports=function(e,t,r){var y=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),v=y?"set":"add",g=o[e],m=g&&g.prototype,O=g,j={},x=function(e){var t=m[e];a(m,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return b&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!l(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})};if(i(e,"function"!=typeof g||!(b||m.forEach&&!f((function(){(new g).entries().next()})))))O=r.getConstructor(t,e,y,v),c.REQUIRED=!0;else if(i(e,!0)){var _=new O,w=_[v](b?{}:-0,1)!=_,E=f((function(){_.has(1)})),S=p((function(e){new g(e)})),P=!b&&f((function(){for(var e=new g,t=5;t--;)e[v](t,t);return!e.has(-0)}));S||((O=t((function(t,r){s(t,O,e);var n=h(new g,t,O);return null!=r&&u(r,n[v],{that:n,AS_ENTRIES:y}),n}))).prototype=m,m.constructor=O),(E||P)&&(x("delete"),x("has"),y&&x("get")),(P||w)&&x(v),b&&m.clear&&delete m.clear}return j[e]=O,n({global:!0,forced:O!=g},j),d(O,e),b||r.setStrong(O,e,y),O}},function(e,t,r){var n=r(9);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,r){"use strict";var n=r(35).f,o=r(110),i=r(218),a=r(108),c=r(179),u=r(174),s=r(149),l=r(219),f=r(29),p=r(173).fastKey,d=r(104),h=d.set,y=d.getterFor;e.exports={getConstructor:function(e,t,r,s){var l=e((function(e,n){c(e,l,t),h(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),f||(e.size=0),null!=n&&u(n,e[s],{that:e,AS_ENTRIES:r})})),d=y(t),b=function(e,t,r){var n,o,i=d(e),a=v(e,t);return a?a.value=r:(i.last=a={index:o=p(t,!0),key:t,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=a),n&&(n.next=a),f?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},v=function(e,t){var r,n=d(e),o=p(t);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==t)return r};return i(l.prototype,{clear:function(){for(var e=d(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=d(this),r=v(this,e);if(r){var n=r.next,o=r.previous;delete t.index[r.index],r.removed=!0,o&&(o.next=n),n&&(n.previous=o),t.first==r&&(t.first=n),t.last==r&&(t.last=o),f?t.size--:this.size--}return!!r},forEach:function(e){for(var t,r=d(this),n=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),i(l.prototype,r?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return b(this,0===e?0:e,t)}}:{add:function(e){return b(this,e=0===e?0:e,e)}}),f&&n(l.prototype,"size",{get:function(){return d(this).size}}),l},setStrong:function(e,t,r){var n=t+" Iterator",o=y(t),i=y(n);s(e,t,(function(e,t){h(this,{type:n,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),l(t)}}},function(e,t,r){var n=r(51);e.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},function(e,t,r){"use strict";var n=r(106),o=r(35),i=r(17),a=r(29),c=i("species");e.exports=function(e){var t=n(e),r=o.f;a&&t&&!t[c]&&r(t,c,{configurable:!0,get:function(){return this}})}},function(e,t,r){"use strict";var n=r(154),o=r(177);e.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},function(e,t,r){"use strict";var n=r(6),o=r(107).find,i=r(147),a=r(66),c=!0,u=a("find");"find"in[]&&Array(1).find((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!u},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(e,t,r){"use strict";var n=r(6),o=r(223).left,i=r(109),a=r(66),c=r(153),u=r(224),s=i("reduce"),l=a("reduce",{1:0});n({target:"Array",proto:!0,forced:!s||!l||!u&&c>79&&c<83},{reduce:function(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(144),o=r(36),i=r(92),a=r(40),c=function(e){return function(t,r,c,u){n(r);var s=o(t),l=i(s),f=a(s.length),p=e?f-1:0,d=e?-1:1;if(c<2)for(;;){if(p in l){u=l[p],p+=d;break}if(p+=d,e?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:f>p;p+=d)p in l&&(u=r(u,l[p],p,s));return u}};e.exports={left:c(!1),right:c(!0)}},function(e,t,r){var n=r(65),o=r(20);e.exports="process"==n(o.process)},function(e,t,r){"use strict";var n=r(6),o=r(107).filter,i=r(111),a=r(66),c=i("filter"),u=a("filter");n({target:"Array",proto:!0,forced:!c||!u},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(50),o="["+r(227)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),c=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(a,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,r){"use strict";var n=r(9);function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,r){var n=r(34),o=r(65),i=r(17)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,r){var n=r(27),o=r(144),i=r(17)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||null==(r=n(a)[i])?t:o(r)}},function(e,t,r){"use strict";var n=r(29),o=r(9),i=r(148),a=r(167),c=r(159),u=r(36),s=r(92),l=Object.assign,f=Object.defineProperty;e.exports=!l||o((function(){if(n&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol();return e[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=l({},e)[r]||"abcdefghijklmnopqrst"!=i(l({},t)).join("")}))?function(e,t){for(var r=u(e),o=arguments.length,l=1,f=a.f,p=c.f;o>l;)for(var d,h=s(arguments[l++]),y=f?i(h).concat(f(h)):i(h),b=y.length,v=0;b>v;)d=y[v++],n&&!p.call(h,d)||(r[d]=h[d]);return r}:l},function(e,t,r){var n=r(6),o=Math.hypot,i=Math.abs,a=Math.sqrt;n({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(e,t){for(var r,n,o=0,c=0,u=arguments.length,s=0;c<u;)s<(r=i(arguments[c++]))?(o=o*(n=s/r)*n+1,s=r):o+=r>0?(n=r/s)*n:r;return s===1/0?1/0:s*a(o)}})},function(e,t,r){var n=r(50),o=/"/g;e.exports=function(e,t,r,i){var a=String(n(e)),c="<"+t;return""!==r&&(c+=" "+r+'="'+String(i).replace(o,"&quot;")+'"'),c+">"+a+"</"+t+">"}},function(e,t,r){var n=r(9);e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t,r){r(6)({target:"String",proto:!0},{repeat:r(236)})},function(e,t,r){"use strict";var n=r(73),o=r(50);e.exports="".repeat||function(e){var t=String(o(this)),r="",i=n(e);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(r+=t);return r}},function(e,t,r){"use strict";var n=r(36),o=r(141),i=r(40);e.exports=function(e){for(var t=n(this),r=i(t.length),a=arguments.length,c=o(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,s=void 0===u?r:o(u,r);s>c;)t[c++]=e;return t}},function(e,t,r){var n=r(6),o=r(239);n({target:"Array",stat:!0,forced:!r(180)((function(e){Array.from(e)}))},{from:o})},function(e,t,r){"use strict";var n=r(108),o=r(36),i=r(240),a=r(175),c=r(40),u=r(155),s=r(176);e.exports=function(e){var t,r,l,f,p,d,h=o(e),y="function"==typeof this?this:Array,b=arguments.length,v=b>1?arguments[1]:void 0,g=void 0!==v,m=s(h),O=0;if(g&&(v=n(v,b>2?arguments[2]:void 0,2)),null==m||y==Array&&a(m))for(r=new y(t=c(h.length));t>O;O++)d=g?v(h[O],O):h[O],u(r,O,d);else for(p=(f=m.call(h)).next,r=new y;!(l=p.call(f)).done;O++)d=g?i(f,v,[l.value,O],!0):l.value,u(r,O,d);return r.length=O,r}},function(e,t,r){var n=r(27),o=r(178);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){throw o(e),t}}},,function(e,t,r){"use strict";var n=r(62),o=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},i=r(56),a=r(43),c=r(32),u=function(e,t){return e&&Object(a.a)(t,Object(c.a)(t),e)},s=r(134),l=r(11),f=r(55),p=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},d=Object.prototype.hasOwnProperty,h=function(e){if(!Object(l.a)(e))return p(e);var t=Object(f.a)(e),r=[];for(var n in e)("constructor"!=n||!t&&d.call(e,n))&&r.push(n);return r},y=r(31),b=function(e){return Object(y.a)(e)?Object(s.a)(e,!0):h(e)},v=function(e,t){return e&&Object(a.a)(t,b(t),e)},g=r(200),m=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},O=r(89),j=function(e,t){return Object(a.a)(e,Object(O.a)(e),t)},x=r(83),_=r(127),w=Object(_.a)(Object.getPrototypeOf,Object),E=r(129),S=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Object(x.a)(t,Object(O.a)(e)),e=w(e);return t}:E.a,P=function(e,t){return Object(a.a)(e,S(e),t)},k=r(99),A=r(130),D=function(e){return Object(A.a)(e,b,S)},N=r(47),M=Object.prototype.hasOwnProperty,T=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&M.call(e,"index")&&(r.index=e.index,r.input=e.input),r},C=r(91),R=function(e){var t=new e.constructor(e.byteLength);return new C.a(t).set(new C.a(e)),t},I=function(e,t){var r=t?R(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},L=/\w*$/,z=function(e){var t=new e.constructor(e.source,L.exec(e));return t.lastIndex=e.lastIndex,t},B=r(15),G=B.a?B.a.prototype:void 0,X=G?G.valueOf:void 0,U=function(e){return X?Object(X.call(e)):{}},F=function(e,t){var r=t?R(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},H=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return R(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return I(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return F(e,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return z(e);case"[object Set]":return new n;case"[object Symbol]":return U(e)}},V=Object.create,Y=function(){function e(){}return function(t){if(!Object(l.a)(t))return{};if(V)return V(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),W=function(e){return"function"!=typeof e.constructor||Object(f.a)(e)?{}:Y(w(e))},K=r(7),q=r(69),Z=r(24),$=function(e){return Object(Z.a)(e)&&"[object Map]"==Object(N.a)(e)},J=r(82),Q=r(48),ee=Q.a&&Q.a.isMap,te=ee?Object(J.a)(ee):$,re=function(e){return Object(Z.a)(e)&&"[object Set]"==Object(N.a)(e)},ne=Q.a&&Q.a.isSet,oe=ne?Object(J.a)(ne):re,ie={};ie["[object Arguments]"]=ie["[object Array]"]=ie["[object ArrayBuffer]"]=ie["[object DataView]"]=ie["[object Boolean]"]=ie["[object Date]"]=ie["[object Float32Array]"]=ie["[object Float64Array]"]=ie["[object Int8Array]"]=ie["[object Int16Array]"]=ie["[object Int32Array]"]=ie["[object Map]"]=ie["[object Number]"]=ie["[object Object]"]=ie["[object RegExp]"]=ie["[object Set]"]=ie["[object String]"]=ie["[object Symbol]"]=ie["[object Uint8Array]"]=ie["[object Uint8ClampedArray]"]=ie["[object Uint16Array]"]=ie["[object Uint32Array]"]=!0,ie["[object Error]"]=ie["[object Function]"]=ie["[object WeakMap]"]=!1;var ae=function e(t,r,a,s,f,p){var d,h=1&r,y=2&r,O=4&r;if(a&&(d=f?a(t,s,f,p):a(t)),void 0!==d)return d;if(!Object(l.a)(t))return t;var x=Object(K.a)(t);if(x){if(d=T(t),!h)return m(t,d)}else{var _=Object(N.a)(t),w="[object Function]"==_||"[object GeneratorFunction]"==_;if(Object(q.a)(t))return Object(g.a)(t,h);if("[object Object]"==_||"[object Arguments]"==_||w&&!f){if(d=y||w?{}:W(t),!h)return y?P(t,v(d,t)):j(t,u(d,t))}else{if(!ie[_])return f?t:{};d=H(t,_,h)}}p||(p=new n.a);var E=p.get(t);if(E)return E;p.set(t,d),oe(t)?t.forEach((function(n){d.add(e(n,r,a,n,t,p))})):te(t)&&t.forEach((function(n,o){d.set(o,e(n,r,a,o,t,p))}));var S=O?y?D:k.a:y?b:c.a,A=x?void 0:S(t);return o(A||t,(function(n,o){A&&(n=t[o=n]),Object(i.a)(d,o,e(n,r,a,o,t,p))})),d};t.a=function(e){return ae(e,5)}},function(e,t,r){"use strict";var n=r(128),o=r(62),i=r(86),a=function(e,t,r,n){var a=r.length,c=a,u=!n;if(null==e)return!c;for(e=Object(e);a--;){var s=r[a];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<c;){var l=(s=r[a])[0],f=e[l],p=s[1];if(u&&s[2]){if(void 0===f&&!(l in e))return!1}else{var d=new o.a;if(n)var h=n(f,p,l,e,t,d);if(!(void 0===h?Object(i.a)(p,f,3,n,d):h))return!1}}return!0},c=r(11),u=function(e){return e==e&&!Object(c.a)(e)},s=r(32),l=function(e){for(var t=Object(s.a)(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,u(o)]}return t},f=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}},p=function(e){var t=l(e);return 1==t.length&&t[0][2]?f(t[0][0],t[0][1]):function(r){return r===e||a(r,e,t)}},d=r(201),h=r(132),y=r(85),b=r(44),v=function(e,t){return Object(y.a)(e)&&u(t)?f(Object(b.a)(e),t):function(r){var n=Object(d.a)(r,e);return void 0===n&&n===t?Object(h.a)(r,e):Object(i.a)(t,n,3)}},g=r(80),m=r(7),O=function(e){return function(t){return null==t?void 0:t[e]}},j=r(84),x=function(e){return function(t){return Object(j.a)(t,e)}},_=function(e){return Object(y.a)(e)?O(Object(b.a)(e)):x(e)},w=function(e){return"function"==typeof e?e:null==e?g.a:"object"==typeof e?Object(m.a)(e)?v(e[0],e[1]):p(e):_(e)},E=function(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),c=a.length;c--;){var u=a[e?c:++o];if(!1===r(i[u],u,i))break}return t}}(),S=function(e,t){return e&&E(e,t,s.a)},P=r(31),k=function(e,t){return function(r,n){if(null==r)return r;if(!Object(P.a)(r))return e(r,n);for(var o=r.length,i=t?o:-1,a=Object(r);(t?i--:++i<o)&&!1!==n(a[i],i,a););return r}}(S),A=function(e,t){var r=-1,n=Object(P.a)(e)?Array(e.length):[];return k(e,(function(e,o,i){n[++r]=t(e,o,i)})),n};t.a=function(e,t){return(Object(m.a)(e)?n.a:A)(e,w(t,3))}}])}},[[292,1,2]]]);
//# sourceMappingURL=main.3ef4c456.chunk.js.map